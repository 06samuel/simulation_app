<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="BlueStay - Temukan dan sewa apartemen impian Anda dengan mudah. Pilihan terbaik, fasilitas lengkap, dan lokasi strategis. Platform sewa properti modern dan fancy.">
    <meta name="keywords"
        content="sewa apartemen, apartemen murah, apartemen mewah, blue stay, properti, hunian, fancy, modern, native spa">
    <meta name="author" content="BlueStay Development">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#0D6EFD"> <!-- Warna tema untuk address bar mobile -->
    <title>BlueStay - Sewa Apartemen Impian Anda</title>

    <!-- Favicon (Menggunakan Icon Gratis dari Icons8 sebagai contoh, sesuai permintaan tidak SVG) -->
    <link rel="icon" type="image/png" href="https://img.icons8.com/fluency/48/000000/city-buildings.png">

    <!-- Font Awesome Icons (CDN untuk ikon gratis) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Google Fonts: Inter (untuk teks utama) & Poppins (untuk heading) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <style>
        /* --- ROOT VARIABLES & GLOBAL STYLES --- */
        :root {
            /* Palet Warna Utama (Fancy & Modern) */
            --primary-color: #0D6EFD;
            /* Biru cerah yang modern */
            --primary-color-dark: #0A58CA;
            /* Versi lebih gelap untuk hover/active */
            --primary-color-light: #E7F1FF;
            /* Warna latar belakang aksen ringan */
            --secondary-color: #6C757D;
            /* Abu-abu netral untuk teks sekunder */
            --accent-color: #FFC107;
            /* Kuning untuk highlight atau CTA sekunder */
            --accent-color-dark: #E0A800;
            --light-color: #F8F9FA;
            /* Putih keabuan untuk latar belakang terang */
            --dark-color: #212529;
            /* Hitam keabuan untuk teks utama dan latar gelap */
            --background-color: #FFFFFF;
            /* Latar belakang utama aplikasi */
            --text-color: #343A40;
            /* Warna teks default */
            --card-background: #FFFFFF;
            /* Latar belakang kartu */
            --border-color: #DEE2E6;
            /* Warna border halus */
            --success-color: #198754;
            /* Untuk notifikasi sukses */
            --danger-color: #DC3545;
            /* Untuk notifikasi error/peringatan */
            --warning-color: #FFCA2C;
            /* Kuning lebih cerah untuk peringatan halus */

            /* Tipografi */
            --font-main: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-heading: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-size-base: 16px;
            /* Ukuran font dasar, dapat disesuaikan di media query */
            --line-height-base: 1.7;
            /* Keterbacaan yang lebih baik */

            /* Spacing & Sizing */
            --spacing-unit: 8px;
            /* Unit dasar untuk padding, margin */
            --border-radius-sm: 4px;
            --border-radius-md: 8px;
            --border-radius-lg: 16px;
            --border-radius-xl: 24px;
            /* Untuk elemen yang lebih besar */
            --container-width: 1280px;
            /* Lebar maksimal container */

            /* Shadows (Fancy & Modern Look) */
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
            --shadow-sm: 0 2px 6px rgba(0, 0, 0, 0.07);
            --shadow-md: 0 5px 15px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.12);
            --shadow-xl: 0 20px 50px rgba(0, 0, 0, 0.15);

            /* Transitions (Fancy & Smooth Animations) */
            --transition-speed-fast: 0.2s;
            --transition-speed-normal: 0.3s;
            --transition-speed-slow: 0.5s;
            --transition-timing: cubic-bezier(0.4, 0, 0.2, 1);
            /* Kurva easing yang halus */

            /* Gradient Khas BlueStay (Fancy) */
            --hero-gradient: linear-gradient(135deg, rgba(13, 110, 253, 0.92) 0%, rgba(0, 70, 180, 0.97) 100%);
            --card-hover-gradient: linear-gradient(45deg, var(--primary-color-light), #fff);
        }

        /* Reset CSS Dasar yang Ditingkatkan */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        html {
            scroll-behavior: smooth;
            font-size: var(--font-size-base);
            -webkit-tap-highlight-color: transparent;
            /* Menghilangkan highlight biru saat tap di mobile */
            overflow-x: hidden;
            /* Mencegah scroll horizontal yang tidak diinginkan */
        }

        body {
            font-family: var(--font-main);
            line-height: var(--line-height-base);
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            /* Memastikan footer selalu di bawah */
            overflow-x: hidden;
            /* Mencegah scroll horizontal yang tidak diinginkan */
        }

        main {
            flex-grow: 1;
            /* Konten utama mengisi ruang yang tersedia */
            padding-top: 80px;
            /* Placeholder untuk tinggi header, akan disesuaikan JS jika header dinamis */
        }

        /* Gaya Tautan Universal */
        a {
            color: var(--primary-color);
            text-decoration: none;
            transition: color var(--transition-speed-normal) var(--transition-timing);
        }

        a:hover,
        a:focus {
            color: var(--primary-color-dark);
            text-decoration: underline;
            /* Feedback visual jelas */
        }

        /* Gaya Gambar Universal */
        img,
        picture {
            /* Menambahkan picture untuk optimasi gambar di masa depan */
            max-width: 100%;
            height: auto;
            object-fit: cover;
            /* Memastikan gambar mengisi area tanpa distorsi */
            display: block;
            border-radius: var(--border-radius-md);
            /* Sedikit lengkungan pada gambar */
        }

        /* Gaya Heading Universal (Fancy & Readable) */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: var(--font-heading);
            font-weight: 700;
            /* Lebih tebal untuk penekanan */
            line-height: 1.3;
            margin-bottom: calc(var(--spacing-unit) * 2.5);
            color: var(--dark-color);
        }

        h1 {
            font-size: clamp(2.2rem, 5vw, 3.5rem);
        }

        /* Ukuran responsif dengan clamp */
        h2 {
            font-size: clamp(1.8rem, 4vw, 2.8rem);
        }

        h3 {
            font-size: clamp(1.5rem, 3.5vw, 2.2rem);
        }

        h4 {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
        }

        /* Gaya Paragraf Universal */
        p {
            margin-bottom: calc(var(--spacing-unit) * 2);
            max-width: 70ch;
            /* Batas lebar untuk keterbacaan */
        }

        /* Gaya Tombol Universal (Fancy & Accessible) */
        button,
        .button {
            /* Kelas .button untuk elemen <a> yang ingin distyle seperti button */
            cursor: pointer;
            border: none;
            padding: calc(var(--spacing-unit) * 1.75) calc(var(--spacing-unit) * 3.5);
            border-radius: var(--border-radius-md);
            font-weight: 600;
            font-family: var(--font-main);
            transition: all var(--transition-speed-normal) var(--transition-timing);
            display: inline-flex;
            /* Untuk alignment ikon dan teks */
            align-items: center;
            justify-content: center;
            user-select: none;
            /* Mencegah teks terseleksi saat diklik */
            text-decoration: none;
            /* Jika diterapkan pada <a> */
            line-height: 1;
            /* Untuk konsistensi tinggi */
        }

        button:focus-visible,
        /* State fokus yang jelas untuk aksesibilitas */
        .button:focus-visible {
            outline: 3px solid var(--primary-color-dark);
            outline-offset: 3px;
        }

        .button-primary {
            background-color: var(--primary-color);
            color: white;
            box-shadow: var(--shadow-sm);
        }

        .button-primary:hover,
        .button-primary:focus {
            background-color: var(--primary-color-dark);
            transform: translateY(-3px) scale(1.02);
            /* Efek hover fancy */
            box-shadow: var(--shadow-md);
            color: white;
            /* Pastikan warna teks tetap saat hover/focus di .button */
            text-decoration: none;
        }

        .button-secondary {
            background-color: var(--secondary-color);
            color: white;
            box-shadow: var(--shadow-sm);
        }

        .button-secondary:hover,
        .button-secondary:focus {
            background-color: var(--dark-color);
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-md);
            color: white;
            text-decoration: none;
        }

        .button-outline-primary {
            background-color: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            box-shadow: none;
        }

        .button-outline-primary:hover,
        .button-outline-primary:focus {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-3px);
            text-decoration: none;
        }

        .button-accent {
            background-color: var(--accent-color);
            color: var(--dark-color);
            box-shadow: var(--shadow-sm);
        }

        .button-accent:hover,
        .button-accent:focus {
            background-color: var(--accent-color-dark);
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-md);
            color: var(--dark-color);
            text-decoration: none;
        }

        /* Ukuran tombol */
        .button-sm {
            padding: calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2);
            font-size: 0.9rem;
        }

        .button-lg {
            padding: calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 4);
            font-size: 1.1rem;
        }

        .button i {
            /* Ikon di dalam tombol */
            margin-right: var(--spacing-unit);
        }

        .button.icon-only i {
            margin-right: 0;
        }


        /* Container & Layout (Grid & Flexbox) */
        .container {
            width: 90%;
            max-width: var(--container-width);
            margin-left: auto;
            margin-right: auto;
            padding-left: calc(var(--spacing-unit) * 2);
            padding-right: calc(var(--spacing-unit) * 2);
        }

        .section-padding {
            padding-top: clamp(calc(var(--spacing-unit) * 6), 10vh, calc(var(--spacing-unit) * 12));
            padding-bottom: clamp(calc(var(--spacing-unit) * 6), 10vh, calc(var(--spacing-unit) * 12));
        }

        .section-padding-sm {
            padding-top: clamp(calc(var(--spacing-unit) * 4), 7vh, calc(var(--spacing-unit) * 8));
            padding-bottom: clamp(calc(var(--spacing-unit) * 4), 7vh, calc(var(--spacing-unit) * 8));
        }

        /* Utilitas Teks */
        .text-center {
            text-align: center;
        }

        .text-left {
            text-align: left;
        }

        .text-right {
            text-align: right;
        }

        .text-primary {
            color: var(--primary-color) !important;
        }

        .text-secondary {
            color: var(--secondary-color) !important;
        }

        .text-accent {
            color: var(--accent-color) !important;
        }

        .text-light {
            color: var(--light-color) !important;
        }

        .text-dark {
            color: var(--dark-color) !important;
        }

        .font-weight-bold {
            font-weight: 700 !important;
        }

        .font-weight-medium {
            font-weight: 500 !important;
        }

        /* Utilitas Spasi (Margin & Padding) */
        .mt-1 {
            margin-top: var(--spacing-unit);
        }

        .mt-2 {
            margin-top: calc(var(--spacing-unit) * 2);
        }

        .mt-3 {
            margin-top: calc(var(--spacing-unit) * 3);
        }

        .mt-4 {
            margin-top: calc(var(--spacing-unit) * 4);
        }

        .mt-5 {
            margin-top: calc(var(--spacing-unit) * 5);
        }

        .mb-1 {
            margin-bottom: var(--spacing-unit);
        }

        .mb-2 {
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .mb-3 {
            margin-bottom: calc(var(--spacing-unit) * 3);
        }

        .mb-4 {
            margin-bottom: calc(var(--spacing-unit) * 4);
        }

        .mb-5 {
            margin-bottom: calc(var(--spacing-unit) * 5);
        }

        .py-1 {
            padding-top: var(--spacing-unit);
            padding-bottom: var(--spacing-unit);
        }

        .py-2 {
            padding-top: calc(var(--spacing-unit) * 2);
            padding-bottom: calc(var(--spacing-unit) * 2);
        }

        .py-3 {
            padding-top: calc(var(--spacing-unit) * 3);
            padding-bottom: calc(var(--spacing-unit) * 3);
        }

        .py-4 {
            padding-top: calc(var(--spacing-unit) * 4);
            padding-bottom: calc(var(--spacing-unit) * 4);
        }

        .py-5 {
            padding-top: calc(var(--spacing-unit) * 5);
            padding-bottom: calc(var(--spacing-unit) * 5);
        }

        /* Aksesibilitas: Sr-only (Screen Reader Only) */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            /* Mencegah pemecahan kata */
            border: 0;
        }

        /* Initial Loader (Fancy & Engaging) */
        .initial-loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--background-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 1;
            transition: opacity var(--transition-speed-slow) var(--transition-timing), visibility var(--transition-speed-slow) var(--transition-timing);
            visibility: visible;
        }

        .initial-loader-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 6px solid var(--primary-color-light);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: calc(var(--spacing-unit) * 3);
        }

        .loader-text {
            font-family: var(--font-heading);
            font-size: 1.2rem;
            color: var(--primary-color);
            font-weight: 600;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* --- HEADER & NAVIGATION (Fancy & Responsive) --- */
        .site-header {
            background-color: var(--background-color);
            position: fixed;
            /* Header tetap di atas saat scroll */
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: var(--shadow-sm);
            transition: background-color var(--transition-speed-normal) var(--transition-timing),
                box-shadow var(--transition-speed-normal) var(--transition-timing),
                padding var(--transition-speed-normal) var(--transition-timing);
            padding: calc(var(--spacing-unit) * 2) 0;
        }

        .site-header.scrolled {
            background-color: rgba(255, 255, 255, 0.97);
            /* Efek glassmorphism halus */
            backdrop-filter: blur(8px);
            box-shadow: var(--shadow-md);
            padding: calc(var(--spacing-unit) * 1.5) 0;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: var(--font-heading);
            font-size: clamp(1.6rem, 4vw, 2rem);
            /* Ukuran logo responsif */
            font-weight: 800;
            /* Lebih menonjol */
            color: var(--primary-color);
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo:hover,
        .logo:focus {
            color: var(--primary-color-dark);
            text-decoration: none;
        }

        .logo i {
            margin-right: calc(var(--spacing-unit) * 1);
            font-size: 1.8rem;
            /* Sesuaikan ukuran ikon logo */
            transition: transform var(--transition-speed-normal) var(--transition-timing);
        }

        .logo:hover i {
            transform: rotate(-10deg) scale(1.1);
            /* Animasi ikon logo fancy */
        }

        .main-nav ul {
            list-style: none;
            display: flex;
            gap: calc(var(--spacing-unit) * 1.5);
            /* Jarak antar item navigasi */
            align-items: center;
        }

        .main-nav a {
            color: var(--text-color);
            font-weight: 500;
            padding: calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 1.5);
            position: relative;
            transition: color var(--transition-speed-normal) var(--transition-timing);
            border-radius: var(--border-radius-sm);
        }

        .main-nav a:hover,
        .main-nav a:focus,
        .main-nav a.active {
            color: var(--primary-color);
            text-decoration: none;
        }

        /* Indikator aktif yang lebih fancy */
        .main-nav a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            /* Atur posisi garis bawah */
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 3px;
            background-color: var(--primary-color);
            border-radius: 2px;
            transition: width var(--transition-speed-normal) var(--transition-timing);
        }

        .main-nav a:hover::after,
        .main-nav a.active::after {
            width: 60%;
            /* Garis bawah tidak penuh, lebih elegan */
        }

        .main-nav .nav-button a {
            padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 2.5);
            border-radius: var(--border-radius-md);
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
            box-shadow: var(--shadow-xs);
        }

        .main-nav .nav-button a:hover,
        .main-nav .nav-button a:focus {
            background-color: var(--primary-color-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
            color: white;
        }

        .main-nav .nav-button a::after {
            /* Hilangkan garis bawah untuk tombol */
            display: none;
        }

        /* Tombol Toggle Navigasi Mobile */
        .mobile-nav-toggle {
            display: none;
            /* Sembunyikan di desktop */
            background: none;
            border: none;
            font-size: 1.8rem;
            color: var(--dark-color);
            padding: var(--spacing-unit);
            z-index: 1002;
            /* Di atas navigasi mobile */
            transition: transform var(--transition-speed-fast) var(--transition-timing);
        }

        .mobile-nav-toggle.active .fa-bars {
            display: none;
        }

        .mobile-nav-toggle:not(.active) .fa-times {
            display: none;
        }

        .mobile-nav-toggle.active {
            transform: rotate(90deg);
        }


        /* Overlay Navigasi Mobile */
        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 998;
            /* Di bawah menu mobile, di atas konten lain */
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-speed-normal) var(--transition-timing),
                visibility var(--transition-speed-normal) var(--transition-timing);
        }

        .mobile-nav-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* --- HERO SECTION (Fancy, Modern, Engaging) --- */
        .hero-section {
            background: var(--hero-gradient),
                url('https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?auto=format&fit=crop&w=1920&q=85&cs=tinysrgb&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1') no-repeat center center/cover;
            color: white;
            padding: calc(var(--spacing-unit) * 18) 0 calc(var(--spacing-unit) * 15);
            min-height: 85vh;
            /* Tinggi minimal hero */
            display: flex;
            align-items: center;
            text-align: center;
            /* Konten hero terpusat */
            position: relative;
            /* Untuk elemen pseudo atau overlay jika diperlukan */
            overflow: hidden;
            /* Mencegah konten meluap */
        }

        .hero-section::before {
            /* Overlay gradien tambahan untuk kontras teks yang lebih baik */
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.2);
            /* Sedikit menggelapkan gambar latar */
            z-index: 1;
        }

        .hero-content {
            position: relative;
            /* Agar di atas pseudo-element ::before */
            z-index: 2;
            max-width: 850px;
            /* Batas lebar konten hero */
            margin: 0 auto;
            animation: fadeInUp 1s var(--transition-timing) forwards;
            /* Animasi masuk fancy */
            opacity: 0;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-section h1 {
            font-size: clamp(2.8rem, 7vw, 4.5rem);
            font-weight: 800;
            margin-bottom: calc(var(--spacing-unit) * 3);
            text-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
            /* Bayangan teks agar lebih terbaca */
            color: white;
            /* Override warna h1 default */
        }

        .hero-section .fancy-highlight {
            /* Untuk menyorot kata kunci */
            background: linear-gradient(to right, var(--accent-color), var(--warning-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            padding: 0 5px;
        }

        .hero-section p.subtitle {
            font-size: clamp(1.1rem, 3vw, 1.5rem);
            margin-bottom: calc(var(--spacing-unit) * 5);
            opacity: 0.95;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Form Pencarian di Hero (Fancy & Interactive) */
        .hero-search-form {
            display: flex;
            flex-wrap: wrap;
            /* Agar responsif di layar kecil */
            gap: calc(var(--spacing-unit) * 1.5);
            background-color: rgba(255, 255, 255, 0.98);
            /* Sedikit transparan */
            padding: calc(var(--spacing-unit) * 2.5);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-lg);
            max-width: 750px;
            margin: 0 auto;
            backdrop-filter: blur(5px);
            /* Efek glassmorphism */
        }

        .hero-search-form .form-group {
            flex: 1 1 200px;
            /* Flex-grow, flex-shrink, flex-basis */
            display: flex;
            align-items: center;
            position: relative;
        }

        .hero-search-form i {
            position: absolute;
            left: calc(var(--spacing-unit) * 1.5);
            color: var(--secondary-color);
            font-size: 1.1rem;
        }

        .hero-search-form input[type="text"],
        .hero-search-form input[type="search"],
        .hero-search-form select {
            /* Style input dan select konsisten */
            width: 100%;
            padding: calc(var(--spacing-unit) * 1.75) calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 1.75) calc(var(--spacing-unit) * 5);
            /* Padding kiri untuk ikon */
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-md);
            font-size: 1rem;
            font-family: var(--font-main);
            color: var(--text-color);
            background-color: var(--background-color);
            transition: border-color var(--transition-speed-normal) var(--transition-timing),
                box-shadow var(--transition-speed-normal) var(--transition-timing);
        }

        .hero-search-form input[type="text"]:focus,
        .hero-search-form input[type="search"]:focus,
        .hero-search-form select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.15);
            /* Glow effect saat fokus */
            outline: none;
        }

        .hero-search-form button {
            padding: calc(var(--spacing-unit) * 1.75) calc(var(--spacing-unit) * 4);
            /* Padding lebih besar untuk tombol utama */
            flex-shrink: 0;
            /* Mencegah tombol mengecil */
        }

        /* --- PROPERTY LISTING & CARDS (Fancy, Grid System) --- */
        .section-title {
            text-align: center;
            margin-bottom: calc(var(--spacing-unit) * 6);
        }

        .section-title h2 {
            margin-bottom: var(--spacing-unit);
        }

        .section-title p {
            font-size: 1.1rem;
            color: var(--secondary-color);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .property-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            /* Grid responsif */
            gap: calc(var(--spacing-unit) * 4);
        }

        .property-card {
            background-color: var(--card-background);
            border-radius: var(--border-radius-xl);
            /* Lebih melengkung untuk tampilan modern */
            box-shadow: var(--shadow-md);
            overflow: hidden;
            /* Untuk border-radius pada gambar */
            transition: transform var(--transition-speed-normal) var(--transition-timing),
                box-shadow var(--transition-speed-normal) var(--transition-timing);
            display: flex;
            flex-direction: column;
            /* Konten kartu tersusun vertikal */
            text-decoration: none;
            /* Jika kartu adalah link */
            color: var(--text-color);
        }

        .property-card:hover,
        .property-card:focus-within {
            transform: translateY(-8px) scale(1.015);
            /* Efek mengangkat yang fancy */
            box-shadow: var(--shadow-xl);
        }

        .property-card-link {
            /* Jika kartu dibungkus <a> */
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
            height: 100%;
            /* Mengisi seluruh kartu */
        }

        .property-card-image-wrapper {
            position: relative;
            height: 250px;
            /* Tinggi gambar konsisten */
            overflow: hidden;
            /* Untuk efek zoom gambar */
        }

        .property-card-image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--transition-speed-slow) var(--transition-timing);
            border-radius: 0;
            /* Gambar tidak perlu radius jika wrapper sudah punya */
        }

        .property-card:hover .property-card-image-wrapper img,
        .property-card:focus-within .property-card-image-wrapper img {
            transform: scale(1.1);
            /* Efek zoom halus saat hover */
        }

        .property-card-badge {
            /* Badge "Unggulan", "Baru", dll. */
            position: absolute;
            top: calc(var(--spacing-unit) * 2);
            left: calc(var(--spacing-unit) * 2);
            background-color: var(--accent-color);
            color: var(--dark-color);
            padding: calc(var(--spacing-unit) * 0.75) calc(var(--spacing-unit) * 1.5);
            border-radius: var(--border-radius-md);
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: var(--shadow-sm);
        }

        .property-card-badge.promo {
            background-color: var(--danger-color);
            color: white;
        }

        .property-card-content {
            padding: calc(var(--spacing-unit) * 2.5) calc(var(--spacing-unit) * 3);
            flex-grow: 1;
            /* Konten mengisi ruang yang tersedia */
            display: flex;
            flex-direction: column;
        }

        .property-card-title {
            font-size: 1.5rem;
            /* Lebih besar dari h4 standar */
            font-weight: 700;
            margin-bottom: var(--spacing-unit);
            color: var(--primary-color);
            line-height: 1.3;
        }

        .property-card-location {
            font-size: 0.95rem;
            color: var(--secondary-color);
            margin-bottom: calc(var(--spacing-unit) * 1.5);
            display: flex;
            align-items: center;
        }

        .property-card-location i {
            margin-right: calc(var(--spacing-unit) * 0.75);
            font-size: 1rem;
            color: var(--primary-color-dark);
        }

        .property-card-features {
            /* Fitur seperti kamar tidur, kamar mandi */
            display: flex;
            flex-wrap: wrap;
            gap: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2);
            margin-bottom: calc(var(--spacing-unit) * 2);
            font-size: 0.9rem;
            color: var(--secondary-color);
        }

        .property-card-features span {
            display: flex;
            align-items: center;
        }

        .property-card-features i {
            margin-right: calc(var(--spacing-unit) * 0.75);
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .property-card-price {
            font-size: 1.7rem;
            /* Harga menonjol */
            font-weight: 800;
            color: var(--success-color);
            margin-top: auto;
            /* Mendorong harga ke bawah jika ada ruang */
            margin-bottom: calc(var(--spacing-unit) * 0.5);
            /* Lebih dekat ke tombol */
        }

        .property-card-price .price-suffix {
            font-size: 0.9rem;
            font-weight: 400;
            color: var(--secondary-color);
            margin-left: calc(var(--spacing-unit) * 0.5);
        }

        .property-card-actions {
            margin-top: calc(var(--spacing-unit) * 2);
            border-top: 1px solid var(--border-color);
            padding-top: calc(var(--spacing-unit) * 2);
        }

        .property-card .button {
            width: 100%;
            /* Tombol mengisi lebar */
        }

        /* --- LOGIN/REGISTER PAGE STYLES --- */
        .auth-page {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 80px - 100px);
            /* viewheight - header - footer approx */
            padding: var(--section-padding-sm) 0;
        }

        .auth-form-container {
            background-color: var(--card-background);
            padding: calc(var(--spacing-unit) * 4) calc(var(--spacing-unit) * 5);
            border-radius: var(--border-radius-xl);
            box-shadow: var(--shadow-lg);
            width: 100%;
            max-width: 450px;
        }

        .auth-form-container h2 {
            text-align: center;
            margin-bottom: calc(var(--spacing-unit) * 3);
            color: var(--primary-color);
        }

        .form-group {
            margin-bottom: calc(var(--spacing-unit) * 2.5);
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: var(--spacing-unit);
            color: var(--dark-color);
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="password"],
        .form-group textarea {
            width: 100%;
            padding: calc(var(--spacing-unit) * 1.5);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-md);
            font-size: 1rem;
            font-family: var(--font-main);
            transition: border-color var(--transition-speed-normal) var(--transition-timing),
                box-shadow var(--transition-speed-normal) var(--transition-timing);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-group input[type="text"]:focus,
        .form-group input[type="email"]:focus,
        .form-group input[type="password"]:focus,
        .form-group textarea:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.15);
            outline: none;
        }

        .auth-form-container .button {
            width: 100%;
            margin-top: var(--spacing-unit);
        }

        .form-switch-link {
            text-align: center;
            margin-top: calc(var(--spacing-unit) * 2.5);
            font-size: 0.95rem;
        }

        .form-switch-link a {
            font-weight: 600;
        }

        /* --- DETAIL PROPERTI (Fancy & Informative) --- */
        .property-detail-hero {
            height: 50vh;
            min-height: 400px;
            max-height: 600px;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: flex-end;
            padding: calc(var(--spacing-unit) * 4);
            position: relative;
            color: white;
            border-radius: 0 0 var(--border-radius-xl) var(--border-radius-xl);
            /* Rounded bottom corners */
            margin-bottom: var(--section-padding-sm);
        }

        .property-detail-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 60%);
            z-index: 1;
            border-radius: inherit;
        }

        .property-detail-header {
            position: relative;
            z-index: 2;
            width: 100%;
        }

        .property-detail-header h1 {
            color: white;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            margin-bottom: var(--spacing-unit);
        }

        .property-detail-location {
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            opacity: 0.9;
        }

        .property-detail-location i {
            margin-right: var(--spacing-unit);
        }

        .property-detail-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            /* Kolom utama dan sidebar */
            gap: calc(var(--spacing-unit) * 5);
        }

        .property-detail-main {
            /* Konten utama detail */
        }

        .property-detail-sidebar {
            background-color: var(--light-color);
            padding: calc(var(--spacing-unit) * 3);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-sm);
            height: fit-content;
            /* Agar sidebar tidak terlalu panjang */
            position: sticky;
            /* Sidebar 'mengikuti' saat scroll */
            top: 100px;
            /* Jarak dari atas setelah header fixed */
        }

        .property-detail-sidebar h3 {
            color: var(--primary-color);
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .property-detail-price-main {
            font-size: 2rem;
            font-weight: 700;
            color: var(--success-color);
            margin-bottom: var(--spacing-unit);
        }

        .property-detail-price-main .price-suffix {
            font-size: 1rem;
            font-weight: 500;
            color: var(--secondary-color);
        }

        .property-features-list {
            list-style: none;
            margin-bottom: calc(var(--spacing-unit) * 3);
        }

        .property-features-list li {
            display: flex;
            align-items: center;
            margin-bottom: var(--spacing-unit);
            font-size: 1.05rem;
        }

        .property-features-list li i {
            color: var(--primary-color);
            margin-right: calc(var(--spacing-unit) * 1.5);
            font-size: 1.3rem;
            width: 25px;
            /* Align icons */
            text-align: center;
        }

        .agent-info {
            text-align: center;
            margin-top: calc(var(--spacing-unit) * 3);
            padding-top: calc(var(--spacing-unit) * 3);
            border-top: 1px solid var(--border-color);
        }

        .agent-info img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto calc(var(--spacing-unit) * 1.5);
            box-shadow: var(--shadow-sm);
        }

        .agent-info h4 {
            margin-bottom: var(--spacing-unit);
            font-size: 1.2rem;
        }

        /* --- FOOTER (Fancy & Comprehensive) --- */
        .site-footer {
            background-color: var(--dark-color);
            color: var(--light-color);
            padding: calc(var(--spacing-unit) * 8) 0 calc(var(--spacing-unit) * 3);
            font-size: 0.95rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            /* Grid responsif untuk kolom footer */
            gap: calc(var(--spacing-unit) * 5);
            margin-bottom: calc(var(--spacing-unit) * 6);
        }

        .footer-column h4 {
            color: var(--accent-color);
            /* Aksen warna untuk judul kolom */
            margin-bottom: calc(var(--spacing-unit) * 3);
            font-size: 1.3rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .footer-column p {
            color: rgba(255, 255, 255, 0.75);
            /* Sedikit transparan untuk kontras */
            line-height: 1.8;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: calc(var(--spacing-unit) * 1.5);
        }

        .footer-column ul li a {
            color: rgba(255, 255, 255, 0.75);
            transition: color var(--transition-speed-normal) var(--transition-timing),
                padding-left var(--transition-speed-normal) var(--transition-timing);
            /* Efek hover fancy */
            display: inline-block;
            /* Agar padding bekerja */
        }

        .footer-column ul li a:hover,
        .footer-column ul li a:focus {
            color: var(--accent-color);
            padding-left: var(--spacing-unit);
            /* Sedikit indent saat hover */
            text-decoration: none;
        }

        .social-icons {
            display: flex;
            gap: calc(var(--spacing-unit) * 2.5);
            /* Jarak antar ikon sosial */
        }

        .social-icons a {
            color: rgba(255, 255, 255, 0.75);
            font-size: 1.8rem;
            /* Ukuran ikon sosial lebih besar */
            transition: color var(--transition-speed-normal) var(--transition-timing),
                transform var(--transition-speed-normal) var(--transition-timing);
        }

        .social-icons a:hover,
        .social-icons a:focus {
            color: var(--accent-color);
            transform: translateY(-3px) scale(1.1);
            /* Efek hover ikon sosial */
        }

        .footer-newsletter input[type="email"] {
            width: 100%;
            padding: calc(var(--spacing-unit) * 1.5);
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius-md);
            color: white;
            margin-bottom: var(--spacing-unit);
        }

        .footer-newsletter input[type="email"]::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .footer-newsletter .button-primary {
            width: 100%;
            background-color: var(--accent-color);
            color: var(--dark-color);
        }

        .footer-newsletter .button-primary:hover {
            background-color: var(--accent-color-dark);
        }


        .footer-bottom {
            text-align: center;
            padding-top: calc(var(--spacing-unit) * 4);
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            /* Garis pemisah halus */
            opacity: 0.8;
        }

        /* Efek Halus untuk Page Transitions (jika SPA terasa lambat, ini bisa diskip) */
        #mainContent>section,
        #mainContent>div[class*="-page"] {
            animation: pageFadeIn 0.6s var(--transition-timing) forwards;
            opacity: 0;
        }

        @keyframes pageFadeIn {
            from {
                opacity: 0;
                transform: translateY(15px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }


        /* --- RESPONSIVE DESIGN (Fancy & Functional on All Devices) --- */
        @media (max-width: 992px) {

            /* Tablet dan perangkat lebih kecil */
            :root {
                --font-size-base: 15px;
                /* Sedikit kecilkan font dasar */
            }

            .hero-section {
                min-height: 75vh;
                padding: calc(var(--spacing-unit) * 12) 0 calc(var(--spacing-unit) * 10);
            }

            .hero-search-form {
                flex-direction: column;
                /* Form pencarian jadi vertikal */
            }

            .hero-search-form .form-group {
                flex-basis: auto;
                /* Reset flex-basis */
            }

            .hero-search-form button {
                width: 100%;
                /* Tombol pencarian full width */
            }

            .property-detail-layout {
                grid-template-columns: 1fr;
                /* Layout detail properti jadi satu kolom */
            }

            .property-detail-sidebar {
                position: static;
                /* Sidebar tidak lagi sticky */
                margin-top: calc(var(--spacing-unit) * 4);
            }

            .main-nav {
                /* Style untuk navigasi mobile */
                position: fixed;
                top: 0;
                /* Akan disesuaikan oleh tinggi header saat JS aktif */
                right: -100%;
                /* Awalnya tersembunyi di kanan */
                width: min(80vw, 320px);
                /* Lebar navigasi mobile */
                height: 100vh;
                /* Tinggi penuh layar */
                background-color: var(--background-color);
                box-shadow: -3px 0 15px rgba(0, 0, 0, 0.15);
                padding: calc(var(--spacing-unit) * 8) calc(var(--spacing-unit) * 3) calc(var(--spacing-unit) * 3);
                transition: right var(--transition-speed-normal) var(--transition-timing);
                z-index: 999;
                /* Di atas overlay */
                overflow-y: auto;
                /* Jika item menu banyak */
                display: flex;
                flex-direction: column;
            }

            .main-nav.nav-open {
                right: 0;
                /* Tampilkan navigasi */
            }

            .main-nav ul {
                flex-direction: column;
                /* Item menu vertikal */
                align-items: flex-start;
                /* Rata kiri */
                gap: var(--spacing-unit);
                width: 100%;
            }

            .main-nav ul li {
                width: 100%;
            }

            .main-nav a {
                display: block;
                /* Link mengisi lebar li */
                padding: calc(var(--spacing-unit) * 1.5) var(--spacing-unit);
                font-size: 1.1rem;
            }

            .main-nav a::after {
                /* Indikator aktif disesuaikan untuk mobile */
                left: var(--spacing-unit);
                transform: none;
                bottom: 50%;
                transform: translateY(50%);
                width: 4px;
                height: 0;
                transition: height var(--transition-speed-normal) var(--transition-timing);
            }

            .main-nav a:hover::after,
            .main-nav a.active::after {
                height: 60%;
                width: 4px;
            }

            .main-nav .nav-button {
                margin-top: auto;
                /* Dorong tombol ke bawah */
                padding-top: calc(var(--spacing-unit) * 2);
            }

            .main-nav .nav-button a {
                width: 100%;
                text-align: center;
            }

            .mobile-nav-toggle {
                display: inline-flex;
                /* Tampilkan tombol toggle */
            }
        }

        @media (max-width: 768px) {

            /* Mobile sedang */
            .container {
                width: 95%;
                /* Container lebih lebar di mobile */
            }

            .footer-content {
                grid-template-columns: 1fr;
                /* Kolom footer jadi satu */
                text-align: center;
                /* Konten footer terpusat */
            }

            .footer-column p,
            .footer-column ul {
                margin-left: auto;
                margin-right: auto;
            }

            .social-icons {
                justify-content: center;
                /* Ikon sosial terpusat */
            }

            .property-grid {
                grid-template-columns: 1fr;
                /* Kartu properti satu kolom */
            }
        }

        @media (max-width: 480px) {

            /* Mobile kecil */
            :root {
                --font-size-base: 14px;
            }

            .hero-section h1 {
                font-size: clamp(2rem, 6vw, 2.8rem);
            }

            .hero-section p.subtitle {
                font-size: clamp(1rem, 2.5vw, 1.2rem);
            }

            .auth-form-container {
                padding: calc(var(--spacing-unit) * 3) calc(var(--spacing-unit) * 2.5);
            }
        }

        /* Preferensi Gerakan Pengguna (Aksesibilitas) */
        @media (prefers-reduced-motion: reduce) {

            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
    </style>
</head>

<body>
    <!-- Overlay untuk Navigasi Mobile -->
    <div class="mobile-nav-overlay" id="mobileNavOverlay" aria-hidden="true"></div>

    <!-- Loader Aplikasi Awal -->
    <div class="initial-loader-overlay" id="initialLoader">
        <div class="loader-spinner" aria-hidden="true"></div>
        <p class="loader-text" role="status" aria-live="polite">Memuat BlueStay...</p>
    </div>

    <!-- Header Situs -->
    <header class="site-header" id="siteHeader" role="banner">
        <div class="container header-container">
            <a href="#beranda" class="logo router-link" aria-label="BlueStay - Kembali ke Beranda">
                <i class="fas fa-city" aria-hidden="true"></i> BlueStay
            </a>
            <nav class="main-nav" id="mainNav" aria-label="Navigasi Utama">
                <ul>
                    <li><a href="#beranda" class="router-link">Beranda</a></li>
                    <li><a href="#properti" class="router-link">Properti</a></li>
                    <li><a href="#tentang" class="router-link">Tentang Kami</a></li>
                    <li><a href="#kontak" class="router-link">Kontak</a></li>
                    <li class="nav-button"><a href="#masuk" class="router-link button">Masuk</a></li>
                </ul>
            </nav>
            <button class="mobile-nav-toggle" id="mobileNavToggle" aria-label="Buka Menu Navigasi" aria-expanded="false"
                aria-controls="mainNav">
                <i class="fas fa-bars" aria-hidden="true"></i>
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
    </header>

    <!-- Konten Utama Aplikasi (SPA) -->
    <main id="mainContent" role="main">
        <!-- Konten halaman akan dimuat di sini oleh JavaScript -->
    </main>

    <!-- Footer Situs -->
    <footer class="site-footer" role="contentinfo">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h4>BlueStay</h4>
                    <p>Membantu Anda menemukan apartemen impian dengan mudah, cepat, dan aman. Nikmati pengalaman sewa
                        properti yang modern dan menyenangkan.</p>
                </div>
                <div class="footer-column">
                    <h4>Tautan Cepat</h4>
                    <ul>
                        <li><a href="#beranda" class="router-link">Beranda</a></li>
                        <li><a href="#properti" class="router-link">Cari Properti</a></li>
                        <li><a href="#tentang" class="router-link">Tentang Kami</a></li>
                        <li><a href="#kontak" class="router-link">Hubungi Kami</a></li>
                        <li><a href="#faq" class="router-link">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Langganan Nawala</h4>
                    <p>Dapatkan info properti terbaru dan penawaran spesial langsung ke email Anda.</p>
                    <form id="newsletterForm" class="footer-newsletter">
                        <label for="newsletterEmail" class="sr-only">Email untuk langganan</label>
                        <input type="email" id="newsletterEmail" placeholder="Alamat email Anda" required>
                        <button type="submit" class="button button-primary button-sm">Langganan</button>
                    </form>
                </div>
                <div class="footer-column">
                    <h4>Ikuti Kami</h4>
                    <div class="social-icons">
                        <a href="https://facebook.com" target="_blank" rel="noopener noreferrer"
                            aria-label="BlueStay di Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://instagram.com" target="_blank" rel="noopener noreferrer"
                            aria-label="BlueStay di Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://twitter.com" target="_blank" rel="noopener noreferrer"
                            aria-label="BlueStay di Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://linkedin.com" target="_blank" rel="noopener noreferrer"
                            aria-label="BlueStay di LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="currentYear"></span> BlueStay. Semua Hak Cipta Dilindungi. Dirancang dengan <i
                        class="fas fa-heart text-danger" style="color: var(--danger-color) !important;"></i> untuk Anda.
                </p>
            </div>
        </div>
    </footer>

    <script>
        // --- BLUESTAY NATIVE SPA ENGINE ---
        // Ditulis dengan Vanilla JavaScript, tanpa framework/library eksternal.
        // Fokus pada Reusability, Maintenance, Optimasi, dan Desain Fancy.

        // Fungsi utilitas global (jika diperlukan, bisa dibuat lebih banyak)
        const $ = (selector, parent = document) => parent.querySelector(selector);
        const $$ = (selector, parent = document) => parent.querySelectorAll(selector);

        // State Aplikasi Global
        const appState = {
            currentPage: null,
            properties: [ // Data properti dummy (bisa diambil dari API di aplikasi nyata)
                {
                    id: 1,
                    name: 'Apartemen Sky Garden Deluxe',
                    location: 'Jakarta Pusat, DKI Jakarta',
                    price: '12.500.000',
                    priceSuffix: '/bulan',
                    image: 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=600&q=80',
                    beds: 2,
                    baths: 2,
                    area: 85, // m2
                    type: 'Unggulan', // Bisa juga 'Baru', 'Promo'
                    description: 'Apartemen mewah dengan 2 kamar tidur dan fasilitas lengkap di jantung kota Jakarta. Nikmati pemandangan kota yang menakjubkan dan akses mudah ke pusat bisnis dan hiburan.',
                    features: ['Kolam Renang Infinity', 'Gym & Fitness Center', 'Taman Bermain Anak', 'Keamanan 24/7', 'Area BBQ', 'Parkir Basement'],
                    agent: { name: 'Rina Wijaya', photo: 'https://randomuser.me/api/portraits/women/32.jpg' }
                },
                {
                    id: 2,
                    name: 'Urban Oasis Residence',
                    location: 'Surabaya Timur, Jawa Timur',
                    price: '8.750.000',
                    priceSuffix: '/bulan',
                    image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=600&q=80',
                    beds: 3,
                    baths: 2,
                    area: 110,
                    type: 'Baru',
                    description: 'Hunian modern dan luas dengan 3 kamar tidur, cocok untuk keluarga. Terletak di area strategis dengan lingkungan yang asri dan nyaman.',
                    features: ['Jogging Track', 'Club House', 'Minimarket', 'Sistem Smart Home', 'Balkon Luas'],
                    agent: { name: 'Budi Santoso', photo: 'https://randomuser.me/api/portraits/men/45.jpg' }
                },
                {
                    id: 3,
                    name: 'Cozy Studio Sentral',
                    location: 'Bandung Kota, Jawa Barat',
                    price: '4.200.000',
                    priceSuffix: '/bulan',
                    image: 'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?auto=format&fit=crop&w=600&q=80',
                    beds: 1,
                    baths: 1,
                    area: 35,
                    type: 'Promo',
                    description: 'Studio apartemen yang nyaman dan fungsional di pusat kota Bandung. Ideal untuk mahasiswa atau profesional muda yang mencari kemudahan akses.',
                    features: ['Fully Furnished', 'Dapur Modern', 'Akses Kartu', 'Wi-Fi Cepat', 'Dekat Kampus'],
                    agent: { name: 'Citra Lestari', photo: 'https://randomuser.me/api/portraits/women/75.jpg' }
                },
                {
                    id: 4,
                    name: 'The Peak Luxury Condo',
                    location: 'Jakarta Selatan, DKI Jakarta',
                    price: '25.000.000',
                    priceSuffix: '/bulan',
                    image: 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?auto=format&fit=crop&w=600&q=80',
                    beds: 3,
                    baths: 3,
                    area: 180,
                    type: 'Unggulan',
                    description: 'Kondominium mewah dengan pemandangan spektakuler kota Jakarta. Fasilitas bintang lima dan desain interior yang elegan untuk gaya hidup premium.',
                    features: ['Private Lift', 'Sky Lounge', 'Spa & Sauna', 'Layanan Concierge', 'Helipad Access (on request)'],
                    agent: { name: 'David Lee', photo: 'https://randomuser.me/api/portraits/men/9.jpg' }
                },
                {
                    id: 5,
                    name: 'Green Valley Apartments',
                    location: 'Bogor, Jawa Barat',
                    price: '6.500.000',
                    priceSuffix: '/bulan',
                    image: 'https://images.unsplash.com/photo-1580041061241-7e7aa753a093?auto=format&fit=crop&w=600&q=80',
                    beds: 2,
                    baths: 1,
                    area: 70,
                    type: 'Baru',
                    description: 'Apartemen modern di kawasan hijau Bogor, menawarkan ketenangan dan udara segar. Fasilitas lengkap untuk keluarga dengan akses mudah ke tol.',
                    features: ['Taman Tematik', 'Kolam Renang Anak & Dewasa', 'Area Komersial', 'Security 24 Jam', 'Dekat Stasiun'],
                    agent: { name: 'Siti Aminah', photo: 'https://randomuser.me/api/portraits/women/11.jpg' }
                },
                {
                    id: 6,
                    name: 'Sunset View Studio+',
                    location: 'Kuta, Bali',
                    price: '9.000.000',
                    priceSuffix: '/bulan',
                    image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=600&q=80',
                    beds: 1,
                    baths: 1,
                    area: 45,
                    type: 'Promo',
                    description: 'Studio plus yang stylish dengan pemandangan matahari terbenam yang indah. Berlokasi strategis dekat pantai Kuta dan berbagai atraksi wisata.',
                    features: ['Rooftop Pool', 'Bar & Resto', 'Layanan Kamar', 'Rental Sepeda Motor', 'Dekat Pantai'],
                    agent: { name: 'Made Artawan', photo: 'https://randomuser.me/api/portraits/men/33.jpg' }
                }
            ],
            filteredProperties: [], // Untuk hasil pencarian/filter
            searchTerm: '',
            currentFilter: { // Contoh filter, bisa diperluas
                location: 'semua',
                minPrice: 0,
                maxPrice: 100000000, // Angka besar untuk "tanpa batas"
                beds: 0 // 0 berarti semua
            }
        };

        // Referensi DOM Utama
        const mainContentEl = $('#mainContent');
        const siteHeaderEl = $('#siteHeader');
        const mainNavEl = $('#mainNav');
        const mobileNavToggleEl = $('#mobileNavToggle');
        const mobileNavOverlayEl = $('#mobileNavOverlay');
        const initialLoaderEl = $('#initialLoader');
        const currentYearEl = $('#currentYear');

        // --- TEMPLATE ENGINE SEDERHANA (HTML String Templates) ---
        // Setiap fungsi template mengembalikan string HTML untuk sebuah halaman/komponen.
        // Ini adalah cara native untuk "komponen" tanpa framework.

        const templates = {
            // Komponen Kartu Properti (Reusable)
            propertyCard: (prop) => `
                <article class="property-card" data-id="${prop.id}" tabindex="0" aria-labelledby="prop-title-${prop.id}">
                    <a href="#properti/${prop.id}" class="property-card-link router-link">
                        <div class="property-card-image-wrapper">
                            <img src="${prop.image}" alt="Tampilan luar ${prop.name}" loading="lazy">
                            ${prop.type ? `<span class="property-card-badge ${prop.type.toLowerCase()}">${prop.type}</span>` : ''}
                        </div>
                        <div class="property-card-content">
                            <h3 class="property-card-title" id="prop-title-${prop.id}">${prop.name}</h3>
                            <p class="property-card-location">
                                <i class="fas fa-map-marker-alt" aria-hidden="true"></i> ${prop.location}
                            </p>
                            <div class="property-card-features">
                                <span><i class="fas fa-bed" aria-hidden="true"></i> ${prop.beds} KT</span>
                                <span><i class="fas fa-bath" aria-hidden="true"></i> ${prop.baths} KM</span>
                                <span><i class="fas fa-ruler-combined" aria-hidden="true"></i> ${prop.area} m</span>
                            </div>
                            <p class="property-card-price">
                                Rp ${prop.price} <span class="price-suffix">${prop.priceSuffix}</span>
                            </p>
                        </div>
                        <div class="property-card-actions">
                             <span class="button button-primary button-sm">Lihat Detail</span>
                        </div>
                    </a>
                </article>
            `,

            // Halaman Beranda
            beranda: () => `
                <section class="hero-section" aria-labelledby="hero-title">
                    <div class="hero-content container">
                        <h1 id="hero-title">Temukan Apartemen <span class="fancy-highlight">Impian Anda</span> Bersama BlueStay</h1>
                        <p class="subtitle">Jelajahi ribuan pilihan apartemen berkualitas dengan proses sewa yang mudah, aman, dan transparan. Mulai petualangan hunian baru Anda hari ini!</p>
                        <form id="heroSearchForm" class="hero-search-form" role="search">
                            <div class="form-group">
                                <i class="fas fa-search" aria-hidden="true"></i>
                                <label for="heroSearchInput" class="sr-only">Cari berdasarkan lokasi, nama apartemen...</label>
                                <input type="search" id="heroSearchInput" name="keyword" placeholder="Contoh: Jakarta, Sky Garden..." aria-label="Cari Apartemen">
                            </div>
                            <button type="submit" class="button button-primary button-lg">
                                <i class="fas fa-paper-plane" aria-hidden="true"></i> Cari Sekarang
                            </button>
                        </form>
                    </div>
                </section>

                <section id="featuredProperties" class="section-padding" aria-labelledby="featured-title">
                    <div class="container">
                        <div class="section-title">
                            <h2 id="featured-title">Properti <span class="text-primary">Unggulan</span> Kami</h2>
                            <p>Pilihan terbaik yang paling diminati oleh para penyewa kami. Kualitas dan kenyamanan terjamin.</p>
                        </div>
                        <div class="property-grid">
                            ${appState.properties.filter(p => p.type === 'Unggulan').slice(0, 3).map(templates.propertyCard).join('') || '<p>Belum ada properti unggulan saat ini.</p>'}
                        </div>
                        ${appState.properties.filter(p => p.type === 'Unggulan').length > 3 ? `
                        <div class="text-center mt-5">
                            <a href="#properti?filter=unggulan" class="button button-outline-primary button-lg router-link">
                                Lihat Semua Unggulan <i class="fas fa-arrow-right" aria-hidden="true"></i>
                            </a>
                        </div>` : ''}
                    </div>
                </section>

                <section id="howItWorks" class="section-padding" style="background-color: var(--primary-color-light);" aria-labelledby="howitworks-title">
                    <div class="container">
                        <div class="section-title">
                            <h2 id="howitworks-title">Bagaimana <span class="text-primary">BlueStay</span> Bekerja?</h2>
                            <p>Proses sewa apartemen yang sederhana dan efisien dalam 3 langkah mudah.</p>
                        </div>
                        <div class="steps-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: calc(var(--spacing-unit) * 4);">
                            <div class="step-item text-center">
                                <div class="step-icon" style="font-size: 3rem; color: var(--primary-color); margin-bottom: var(--spacing-unit); background-color: white; width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--spacing-unit); box-shadow: var(--shadow-sm);"><i class="fas fa-search-location"></i></div>
                                <h3>1. Cari & Temukan</h3>
                                <p>Gunakan filter pencarian canggih kami untuk menemukan apartemen yang sesuai dengan kriteria dan lokasi pilihan Anda.</p>
                            </div>
                            <div class="step-item text-center">
                                <div class="step-icon" style="font-size: 3rem; color: var(--primary-color); margin-bottom: var(--spacing-unit); background-color: white; width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--spacing-unit); box-shadow: var(--shadow-sm);"><i class="fas fa-calendar-check"></i></div>
                                <h3>2. Jadwalkan Kunjungan</h3>
                                <p>Lihat detail properti, galeri foto, dan jadwalkan kunjungan virtual atau langsung dengan agen kami.</p>
                            </div>
                            <div class="step-item text-center">
                                <div class="step-icon" style="font-size: 3rem; color: var(--primary-color); margin-bottom: var(--spacing-unit); background-color: white; width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--spacing-unit); box-shadow: var(--shadow-sm);"><i class="fas fa-file-signature"></i></div>
                                <h3>3. Sewa & Tempati</h3>
                                <p>Selesaikan proses administrasi secara online dengan aman, dan apartemen impian siap Anda tempati!</p>
                            </div>
                        </div>
                    </div>
                </section>
            `,

            // Halaman Daftar Properti
            properti: (queryParams) => {
                // Logika filter sederhana berdasarkan queryParams
                let propertiesToDisplay = [...appState.properties];
                let currentSearchTerm = queryParams.get('keyword') || appState.searchTerm || '';
                const filterType = queryParams.get('filter');

                if (filterType === 'unggulan') {
                    propertiesToDisplay = propertiesToDisplay.filter(p => p.type === 'Unggulan');
                } else if (currentSearchTerm) {
                    currentSearchTerm = currentSearchTerm.toLowerCase();
                    propertiesToDisplay = propertiesToDisplay.filter(prop =>
                        prop.name.toLowerCase().includes(currentSearchTerm) ||
                        prop.location.toLowerCase().includes(currentSearchTerm)
                    );
                }

                appState.filteredProperties = propertiesToDisplay; // Simpan hasil filter
                appState.searchTerm = currentSearchTerm; // Simpan term pencarian terakhir

                return `
                <section class="section-padding" aria-labelledby="property-list-title">
                    <div class="container">
                        <div class="section-title">
                            <h2 id="property-list-title">Temukan Properti <span class="text-primary">Ideal</span> Anda</h2>
                            <p>Jelajahi semua properti yang tersedia. Gunakan filter untuk mempersempit pencarian.</p>
                        </div>
                        <form id="propertySearchForm" class="hero-search-form mb-5" role="search" style="background-color: var(--light-color); box-shadow: var(--shadow-md);">
                             <div class="form-group">
                                <i class="fas fa-search" aria-hidden="true"></i>
                                <label for="propertySearchInput" class="sr-only">Cari berdasarkan lokasi, nama apartemen...</label>
                                <input type="search" id="propertySearchInput" name="keyword" placeholder="Cari properti..." value="${appState.searchTerm}" aria-label="Cari Properti di Halaman Properti">
                            </div>
                            <button type="submit" class="button button-primary">
                                <i class="fas fa-filter" aria-hidden="true"></i> Filter
                            </button>
                        </form>

                        <div id="propertyGridOutput" class="property-grid">
                            ${propertiesToDisplay.length > 0 ? propertiesToDisplay.map(templates.propertyCard).join('') : '<p class="text-center" style="grid-column: 1 / -1;">Tidak ada properti yang cocok dengan kriteria pencarian Anda.</p>'}
                        </div>
                        ${propertiesToDisplay.length === 0 && appState.searchTerm ? `
                        <div class="text-center mt-4">
                            <button id="clearSearchBtn" class="button button-secondary">Hapus Pencarian & Tampilkan Semua</button>
                        </div>
                        ` : ''}
                    </div>
                </section>
            `;
            },

            // Halaman Detail Properti
            propertiDetail: (property) => {
                if (!property) return templates.notFound("Properti tidak ditemukan.");
                return `
                <div class="property-detail-page">
                    <section class="property-detail-hero" style="background-image: url('${property.image}');" aria-label="Gambar utama ${property.name}">
                        <div class="container property-detail-header">
                            <h1>${property.name}</h1>
                            <p class="property-detail-location">
                                <i class="fas fa-map-marker-alt" aria-hidden="true"></i> ${property.location}
                            </p>
                        </div>
                    </section>

                    <section class="section-padding-sm">
                        <div class="container">
                            <div class="property-detail-layout">
                                <div class="property-detail-main">
                                    <h2>Deskripsi Properti</h2>
                                    <p>${property.description}</p>

                                    <h3 class="mt-4">Fasilitas Utama</h3>
                                    <ul class="property-features-list">
                                        ${property.features.map(f => `<li><i class="fas fa-check-circle"></i> ${f}</li>`).join('')}
                                    </ul>

                                    <h3 class="mt-4">Detail Tambahan</h3>
                                    <ul class="property-features-list">
                                        <li><i class="fas fa-bed"></i> ${property.beds} Kamar Tidur</li>
                                        <li><i class="fas fa-bath"></i> ${property.baths} Kamar Mandi</li>
                                        <li><i class="fas fa-ruler-combined"></i> Luas ${property.area} m</li>
                                        ${property.type ? `<li><i class="fas fa-star"></i> Kategori: ${property.type}</li>` : ''}
                                    </ul>
                                </div>
                                <aside class="property-detail-sidebar">
                                    <h3>Informasi Sewa</h3>
                                    <p class="property-detail-price-main">
                                        Rp ${property.price} <span class="price-suffix">${property.priceSuffix}</span>
                                    </p>
                                    <button class="button button-primary button-lg" style="width: 100%;">
                                        <i class="fas fa-phone-alt"></i> Hubungi Agen
                                    </button>
                                    <button class="button button-outline-primary mt-2" style="width: 100%;">
                                        <i class="fas fa-calendar-alt"></i> Jadwalkan Kunjungan
                                    </button>

                                    ${property.agent ? `
                                    <div class="agent-info">
                                        <img src="${property.agent.photo}" alt="Foto Agen ${property.agent.name}" loading="lazy">
                                        <h4>${property.agent.name}</h4>
                                        <p class="text-secondary">Agen Properti Profesional</p>
                                    </div>
                                    ` : ''}
                                </aside>
                            </div>
                        </div>
                    </section>
                </div>
                `;
            },

            // Halaman Tentang Kami
            tentang: () => `
                <section class="section-padding" aria-labelledby="about-title">
                    <div class="container">
                        <div class="text-center mb-5">
                            <h2 id="about-title">Tentang <span class="text-primary">BlueStay</span></h2>
                            <p class="lead" style="font-size: 1.2rem; max-width: 700px; margin: 0 auto;">Kami adalah platform inovatif yang berdedikasi untuk merevolusi cara Anda mencari dan menyewa apartemen.</p>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: calc(var(--spacing-unit) * 4); align-items: center;">
                            <div>
                                <img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&w=800&q=80" alt="Tim BlueStay sedang berdiskusi" style="border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg);">
                            </div>
                            <div>
                                <h3>Misi Kami</h3>
                                <p>Menyediakan pengalaman pencarian properti yang mulus, transparan, dan tepercaya. Kami percaya bahwa menemukan rumah impian seharusnya menjadi perjalanan yang menyenangkan, bukan memusingkan.</p>
                                
                                <h3 class="mt-4">Visi Kami</h3>
                                <p>Menjadi platform sewa properti nomor satu di Indonesia, dikenal karena teknologi canggih, layanan pelanggan prima, dan pilihan properti berkualitas tinggi.</p>

                                <h3 class="mt-4">Nilai-Nilai Kami</h3>
                                <ul style="list-style: none; padding-left: 0;">
                                    <li style="display: flex; align-items: center; margin-bottom: var(--spacing-unit);"><i class="fas fa-check-circle text-primary" style="margin-right: var(--spacing-unit);"></i> Integritas & Transparansi</li>
                                    <li style="display: flex; align-items: center; margin-bottom: var(--spacing-unit);"><i class="fas fa-check-circle text-primary" style="margin-right: var(--spacing-unit);"></i> Inovasi Berkelanjutan</li>
                                    <li style="display: flex; align-items: center; margin-bottom: var(--spacing-unit);"><i class="fas fa-check-circle text-primary" style="margin-right: var(--spacing-unit);"></i> Kepuasan Pelanggan</li>
                                    <li style="display: flex; align-items: center; margin-bottom: var(--spacing-unit);"><i class="fas fa-check-circle text-primary" style="margin-right: var(--spacing-unit);"></i> Kemudahan Akses</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>
            `,

            // Halaman Kontak
            kontak: () => `
                <section class="section-padding" aria-labelledby="contact-title">
                    <div class="container">
                        <div class="text-center mb-5">
                            <h2 id="contact-title">Hubungi <span class="text-primary">Kami</span></h2>
                            <p class="lead" style="font-size: 1.2rem; max-width: 700px; margin: 0 auto;">Ada pertanyaan, saran, atau butuh bantuan? Tim kami siap melayani Anda.</p>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: calc(var(--spacing-unit) * 5);">
                            <div class="contact-form-wrapper">
                                <h3>Kirim Pesan Langsung</h3>
                                <form id="contactForm" class="auth-form-container" style="padding: 0; box-shadow: none; max-width: none;">
                                    <div class="form-group">
                                        <label for="contactName">Nama Lengkap</label>
                                        <input type="text" id="contactName" name="name" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="contactEmail">Alamat Email</label>
                                        <input type="email" id="contactEmail" name="email" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="contactSubject">Subjek</label>
                                        <input type="text" id="contactSubject" name="subject" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="contactMessage">Pesan Anda</label>
                                        <textarea id="contactMessage" name="message" rows="5" required></textarea>
                                    </div>
                                    <button type="submit" class="button button-primary button-lg">Kirim Pesan</button>
                                </form>
                            </div>
                            <div class="contact-info-wrapper">
                                <h3>Informasi Kontak</h3>
                                <ul style="list-style: none; padding-left: 0; font-size: 1.1rem;">
                                    <li style="display: flex; align-items: flex-start; margin-bottom: calc(var(--spacing-unit) * 2.5);">
                                        <i class="fas fa-map-marker-alt text-primary" style="font-size: 1.5rem; margin-right: var(--spacing-unit); margin-top: 5px; width: 30px;"></i>
                                        <div>
                                            <strong>Alamat Kantor:</strong><br>
                                            Jl. Properti Digital No. 123, Jakarta Selatan, DKI Jakarta, Indonesia 12000
                                        </div>
                                    </li>
                                    <li style="display: flex; align-items: flex-start; margin-bottom: calc(var(--spacing-unit) * 2.5);">
                                        <i class="fas fa-phone-alt text-primary" style="font-size: 1.5rem; margin-right: var(--spacing-unit); margin-top: 5px; width: 30px;"></i>
                                        <div>
                                            <strong>Telepon:</strong><br>
                                            (021) 555-BLUE (2583)
                                        </div>
                                    </li>
                                    <li style="display: flex; align-items: flex-start; margin-bottom: calc(var(--spacing-unit) * 2.5);">
                                        <i class="fas fa-envelope text-primary" style="font-size: 1.5rem; margin-right: var(--spacing-unit); margin-top: 5px; width: 30px;"></i>
                                        <div>
                                            <strong>Email:</strong><br>
                                            cs@bluestay.co.id (Dukungan Pelanggan)<br>
                                            partnership@bluestay.co.id (Kerja Sama)
                                        </div>
                                    </li>
                                    <li style="display: flex; align-items: flex-start; margin-bottom: calc(var(--spacing-unit) * 2.5);">
                                        <i class="fas fa-clock text-primary" style="font-size: 1.5rem; margin-right: var(--spacing-unit); margin-top: 5px; width: 30px;"></i>
                                        <div>
                                            <strong>Jam Operasional:</strong><br>
                                            Senin - Jumat: 08.00 - 17.00 WIB<br>
                                            Sabtu: 09.00 - 14.00 WIB
                                        </div>
                                    </li>
                                </ul>
                                <h3 class="mt-4">Temukan Kami di Peta</h3>
                                <div id="mapPlaceholder" style="width: 100%; height: 250px; background-color: var(--border-color); border-radius: var(--border-radius-lg); display:flex; align-items:center; justify-content:center; color: var(--secondary-color); font-style:italic;">
                                   (Area Peta Interaktif Akan Ditampilkan di Sini)
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            `,

            // Halaman Masuk (Login)
            masuk: () => `
                <section class="auth-page" aria-labelledby="login-title">
                    <div class="auth-form-container">
                        <h2 id="login-title">Masuk ke <span class="text-primary">BlueStay</span></h2>
                        <form id="loginForm">
                            <div class="form-group">
                                <label for="loginEmail">Alamat Email</label>
                                <input type="email" id="loginEmail" name="email" required autocomplete="email">
                            </div>
                            <div class="form-group">
                                <label for="loginPassword">Kata Sandi</label>
                                <input type="password" id="loginPassword" name="password" required autocomplete="current-password">
                            </div>
                            <div class="form-group" style="display: flex; justify-content: space-between; align-items: center; font-size: 0.9rem;">
                                <label for="rememberMe" style="margin-bottom: 0; display:flex; align-items:center; font-weight: normal;">
                                    <input type="checkbox" id="rememberMe" name="remember" style="width: auto; margin-right: var(--spacing-unit); height: auto; accent-color: var(--primary-color);"> Ingat Saya
                                </label>
                                <a href="#lupa-sandi" class="router-link">Lupa Kata Sandi?</a>
                            </div>
                            <button type="submit" class="button button-primary button-lg">Masuk</button>
                        </form>
                        <p class="form-switch-link mt-4">Belum punya akun? <a href="#daftar" class="router-link">Daftar Sekarang</a></p>
                         <div style="text-align: center; margin-top: var(--spacing-unit); font-size: 0.9rem; color: var(--secondary-color);">
                            Atau masuk dengan:
                            <div class="social-login-icons" style="margin-top: var(--spacing-unit); display:flex; justify-content:center; gap: var(--spacing-unit);">
                                <button aria-label="Masuk dengan Google" class="button icon-only" style="background-color: #DB4437; color:white; width: 40px; height: 40px; padding:0;"><i class="fab fa-google"></i></button>
                                <button aria-label="Masuk dengan Facebook" class="button icon-only" style="background-color: #3B5998; color:white; width: 40px; height: 40px; padding:0;"><i class="fab fa-facebook-f"></i></button>
                            </div>
                        </div>
                    </div>
                </section>
            `,
            // Halaman Daftar (Register) - Placeholder, bisa dikembangkan
            daftar: () => `
                <section class="auth-page" aria-labelledby="register-title">
                     <div class="auth-form-container">
                        <h2 id="register-title">Buat Akun <span class="text-primary">BlueStay</span></h2>
                        <form id="registerForm">
                            <div class="form-group">
                                <label for="registerName">Nama Lengkap</label>
                                <input type="text" id="registerName" name="name" required autocomplete="name">
                            </div>
                            <div class="form-group">
                                <label for="registerEmail">Alamat Email</label>
                                <input type="email" id="registerEmail" name="email" required autocomplete="email">
                            </div>
                            <div class="form-group">
                                <label for="registerPassword">Kata Sandi</label>
                                <input type="password" id="registerPassword" name="password" required autocomplete="new-password">
                            </div>
                             <div class="form-group">
                                <label for="registerConfirmPassword">Konfirmasi Kata Sandi</label>
                                <input type="password" id="registerConfirmPassword" name="confirmPassword" required autocomplete="new-password">
                            </div>
                            <div class="form-group">
                                <label for="agreeTerms" style="margin-bottom: 0; display:flex; align-items:center; font-weight: normal; font-size: 0.9rem;">
                                    <input type="checkbox" id="agreeTerms" name="terms" required style="width: auto; margin-right: var(--spacing-unit); height: auto; accent-color: var(--primary-color);"> Saya setuju dengan <a href="#syarat-ketentuan" class="router-link">Syarat & Ketentuan</a>
                                </label>
                            </div>
                            <button type="submit" class="button button-primary button-lg">Daftar</button>
                        </form>
                        <p class="form-switch-link mt-4">Sudah punya akun? <a href="#masuk" class="router-link">Masuk di sini</a></p>
                    </div>
                </section>
            `,
            // Halaman FAQ (Placeholder)
            faq: () => `
                <section class="section-padding" aria-labelledby="faq-title">
                    <div class="container">
                        <div class="text-center mb-5">
                            <h2 id="faq-title">Pertanyaan yang Sering <span class="text-primary">Diajukan</span> (FAQ)</h2>
                        </div>
                        <p>Halaman FAQ akan segera hadir dengan jawaban atas pertanyaan umum seputar BlueStay.</p>
                    </div>
                </section>
            `,
            // Halaman Lupa Sandi (Placeholder)
            'lupa-sandi': () => `
                <section class="auth-page" aria-labelledby="forgot-password-title">
                     <div class="auth-form-container">
                        <h2 id="forgot-password-title">Lupa Kata <span class="text-primary">Sandi</span>?</h2>
                        <p class="text-center mb-3">Masukkan alamat email Anda. Kami akan mengirimkan tautan untuk mengatur ulang kata sandi.</p>
                        <form id="forgotPasswordForm">
                            <div class="form-group">
                                <label for="forgotEmail">Alamat Email</label>
                                <input type="email" id="forgotEmail" name="email" required autocomplete="email">
                            </div>
                            <button type="submit" class="button button-primary button-lg">Kirim Tautan Reset</button>
                        </form>
                        <p class="form-switch-link mt-4"><a href="#masuk" class="router-link"><i class="fas fa-arrow-left"></i> Kembali ke Halaman Masuk</a></p>
                    </div>
                </section>
            `,
            // Halaman 404 Not Found
            notFound: (message = "Halaman yang Anda cari tidak dapat ditemukan.") => `
                <section class="section-padding text-center" style="min-height: 60vh; display:flex; flex-direction:column; justify-content:center; align-items:center;" aria-labelledby="notfound-title">
                    <div class="container">
                        <i class="fas fa-exclamation-triangle fa-5x text-warning mb-4"></i>
                        <h2 id="notfound-title" class="text-danger">Oops! Kesalahan 404</h2>
                        <p class="lead">${message}</p>
                        <a href="#beranda" class="button button-primary button-lg router-link mt-3">
                            <i class="fas fa-home"></i> Kembali ke Beranda
                        </a>
                    </div>
                </section>
            `
        };

        // --- ROUTER SEDERHANA (Hash-based) ---
        function router() {
            // Mendapatkan hash dari URL, menghilangkan '#' dan parameter query
            const pathParts = window.location.hash.slice(1).split('?');
            const baseRoute = pathParts[0] || 'beranda';
            const queryParams = new URLSearchParams(pathParts[1] || '');

            // Memisahkan rute utama dan ID (jika ada, misal: #properti/1)
            const [pageName, resourceId] = baseRoute.split('/');
            appState.currentPage = pageName;

            let contentHTML;

            // Logika pemilihan template berdasarkan rute
            if (pageName === 'properti' && resourceId) {
                const propertyId = parseInt(resourceId, 10);
                const property = appState.properties.find(p => p.id === propertyId);
                contentHTML = templates.propertiDetail(property);
                if (property) document.title = `${property.name} - BlueStay`;
                else document.title = "Properti Tidak Ditemukan - BlueStay";

            } else if (templates[pageName]) {
                contentHTML = templates[pageName](queryParams); // Kirim queryParams ke template jika perlu
                // Update judul halaman
                const pageTitles = {
                    beranda: 'BlueStay - Sewa Apartemen Impian Anda',
                    properti: 'Cari Properti - BlueStay',
                    tentang: 'Tentang Kami - BlueStay',
                    kontak: 'Hubungi Kami - BlueStay',
                    masuk: 'Masuk Akun - BlueStay',
                    daftar: 'Daftar Akun Baru - BlueStay',
                    faq: 'FAQ - BlueStay',
                    'lupa-sandi': 'Lupa Kata Sandi - BlueStay'
                };
                document.title = pageTitles[pageName] || 'BlueStay';
            } else {
                contentHTML = templates.notFound();
                document.title = "Halaman Tidak Ditemukan - BlueStay";
            }

            // Render konten ke DOM
            mainContentEl.innerHTML = contentHTML;

            // Fokus ke konten utama untuk aksesibilitas setelah navigasi
            mainContentEl.setAttribute('tabindex', '-1');
            mainContentEl.focus();
            // Hapus tabindex setelah fokus agar tidak mengganggu tab order normal
            mainContentEl.removeAttribute('tabindex');


            // Gulir ke atas halaman
            window.scrollTo(0, 0);

            // Update link navigasi yang aktif
            updateActiveNavLinks();

            // Tutup navigasi mobile jika terbuka
            closeMobileNav();

            // Inisialisasi event listener khusus halaman (jika ada)
            initializePageSpecificScripts(pageName, resourceId, queryParams);
        }

        // --- FUNGSI-FUNGSI PEMBANTU & INISIALISASI ---

        // Update status aktif pada link navigasi
        function updateActiveNavLinks() {
            const currentPath = window.location.hash || '#beranda';
            $$('.main-nav a.router-link').forEach(link => {
                // Cocokkan href dengan bagian dasar dari hash (sebelum '?')
                if (link.getAttribute('href').split('?')[0] === currentPath.split('?')[0]) {
                    link.classList.add('active');
                    link.setAttribute('aria-current', 'page');
                } else {
                    link.classList.remove('active');
                    link.removeAttribute('aria-current');
                }
            });
        }

        // Logika untuk header yang berubah saat scroll (fancy effect)
        function handleHeaderScroll() {
            if (window.scrollY > 50) {
                siteHeaderEl.classList.add('scrolled');
            } else {
                siteHeaderEl.classList.remove('scrolled');
            }
            // Sesuaikan top navigasi mobile jika header fixed
            if (mainNavEl.classList.contains('nav-open')) {
                mainNavEl.style.top = `${siteHeaderEl.offsetHeight}px`;
            }
        }

        // Logika Navigasi Mobile
        function toggleMobileNav() {
            const isOpen = mainNavEl.classList.toggle('nav-open');
            mobileNavToggleEl.classList.toggle('active', isOpen);
            mobileNavToggleEl.setAttribute('aria-expanded', isOpen.toString());
            mobileNavOverlayEl.classList.toggle('active', isOpen);
            document.body.style.overflow = isOpen ? 'hidden' : ''; // Mencegah scroll body saat menu mobile terbuka

            if (isOpen) {
                mainNavEl.style.top = `${siteHeaderEl.offsetHeight}px`; // Set top berdasarkan tinggi header
                mainNavEl.focus(); // Fokus ke menu untuk aksesibilitas
            }
        }

        function closeMobileNav() {
            if (mainNavEl.classList.contains('nav-open')) {
                mainNavEl.classList.remove('nav-open');
                mobileNavToggleEl.classList.remove('active');
                mobileNavToggleEl.setAttribute('aria-expanded', 'false');
                mobileNavOverlayEl.classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        // Inisialisasi skrip khusus halaman (event listener untuk form, dll.)
        function initializePageSpecificScripts(pageName, resourceId, queryParams) {
            if (pageName === 'beranda') {
                const heroSearchForm = $('#heroSearchForm');
                if (heroSearchForm) {
                    heroSearchForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        const searchTerm = $('#heroSearchInput').value.trim();
                        if (searchTerm) {
                            window.location.hash = `#properti?keyword=${encodeURIComponent(searchTerm)}`;
                        } else {
                            window.location.hash = '#properti';
                        }
                    });
                }
            }

            if (pageName === 'properti') {
                const propertySearchForm = $('#propertySearchForm');
                if (propertySearchForm) {
                    propertySearchForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        const searchTerm = $('#propertySearchInput').value.trim();
                        if (searchTerm) {
                            // Update URL hash untuk memicu router dan menyimpan state pencarian
                            window.location.hash = `#properti?keyword=${encodeURIComponent(searchTerm)}`;
                        } else {
                            window.location.hash = '#properti'; // Kembali ke tampilan semua properti
                        }
                    });
                }
                const clearSearchBtn = $('#clearSearchBtn');
                if (clearSearchBtn) {
                    clearSearchBtn.addEventListener('click', () => {
                        appState.searchTerm = ''; // Hapus state pencarian
                        window.location.hash = '#properti'; // Muat ulang halaman properti tanpa filter
                    });
                }
            }

            if (pageName === 'kontak') {
                const contactForm = $('#contactForm');
                if (contactForm) {
                    contactForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        // Logika pengiriman form kontak (di aplikasi nyata, ini akan mengirim data ke server)
                        alert('Pesan Anda telah "dikirim"! (Ini adalah demo, tidak ada pengiriman aktual)');
                        contactForm.reset();
                    });
                }
            }

            if (pageName === 'masuk') {
                const loginForm = $('#loginForm');
                if (loginForm) {
                    loginForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        // Logika login (demo)
                        alert('Proses masuk berhasil! (Ini adalah demo)');
                        window.location.hash = '#beranda'; // Redirect ke beranda setelah "login"
                    });
                }
            }
            if (pageName === 'daftar') {
                const registerForm = $('#registerForm');
                if (registerForm) {
                    registerForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        const password = $('#registerPassword').value;
                        const confirmPassword = $('#registerConfirmPassword').value;
                        if (password !== confirmPassword) {
                            alert('Konfirmasi kata sandi tidak cocok!');
                            return;
                        }
                        // Logika daftar (demo)
                        alert('Pendaftaran berhasil! Silakan masuk. (Ini adalah demo)');
                        window.location.hash = '#masuk';
                    });
                }
            }

            const newsletterForm = $('#newsletterForm'); // Form ini ada di footer, jadi selalu ada
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const email = $('#newsletterEmail').value;
                    if (email) {
                        alert(`Terima kasih! Email ${email} telah didaftarkan untuk nawala. (Demo)`);
                        newsletterForm.reset();
                    }
                });
            }
        }

        // Fungsi untuk menangani klik pada semua link internal (router-link)
        function handleInternalLinks(event) {
            const targetLink = event.target.closest('a.router-link');
            if (targetLink) {
                event.preventDefault(); // Mencegah navigasi default browser
                const newHash = targetLink.getAttribute('href');
                if (window.location.hash !== newHash) {
                    window.location.hash = newHash; // Ubah hash untuk memicu router
                } else {
                    // Jika hash sama, panggil router secara manual untuk re-render (misal: filter di halaman yang sama)
                    router();
                }
                // Tutup menu mobile jika link di dalamnya diklik
                if (mainNavEl.contains(targetLink)) {
                    closeMobileNav();
                }
            }
        }

        // Inisialisasi Aplikasi
        function initializeApp() {
            // Sembunyikan loader setelah beberapa saat (simulasi pemuatan konten)
            // Di aplikasi nyata, ini akan disembunyikan setelah data penting dimuat.
            setTimeout(() => {
                initialLoaderEl.classList.add('hidden');
            }, 800); // Beri sedikit waktu agar animasi loader terlihat

            // Set tahun saat ini di footer
            if (currentYearEl) {
                currentYearEl.textContent = new Date().getFullYear();
            }

            // Event listener global
            window.addEventListener('hashchange', router);
            window.addEventListener('scroll', handleHeaderScroll);
            document.addEventListener('click', handleInternalLinks);

            // Event listener untuk navigasi mobile
            mobileNavToggleEl.addEventListener('click', toggleMobileNav);
            mobileNavOverlayEl.addEventListener('click', closeMobileNav); // Tutup juga saat klik overlay

            // Panggil router untuk memuat halaman awal berdasarkan hash URL saat ini
            router();
        }

        // --- ENTRY POINT APLIKASI ---
        // Jalankan inisialisasi setelah DOM sepenuhnya dimuat
        document.addEventListener('DOMContentLoaded', initializeApp);

    </script>
</body>

</html>