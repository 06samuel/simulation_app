<!DOCTYPE html>
<html lang="id" data-theme="light"> <!-- Default tema terang, bisa diubah via JS -->

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ApartemenNotif | Pusat Notifikasi Rental Terpadu</title>
    <meta name="description"
        content="Dasbor pusat notifikasi SaaS modern dengan desain responsif, aksesibilitas, dan UI/UX tingkat profesional untuk rental apartemen. Dibangun dengan Vanilla HTML, CSS, dan JavaScript.">
    <meta name="keywords"
        content="notifikasi, rental, apartemen, dashboard, saas, vanilla js, spa, native, monolith, pusat notifikasi">
    <meta name="author" content="Pengembang Aplikasi Anda">
    <meta name="theme-color" content="#6366f1"> <!-- Warna tema untuk address bar mobile (Indigo 500) -->

    <!--
        Favicon:
        Menggunakan data URI dengan emoji gedung sebagai placeholder.
        Ini adalah SVG inline, jika batasan "tidak menggunakan SVG" berlaku sangat ketat bahkan untuk favicon,
        Anda perlu menggantinya dengan file .ico atau .png yang dihosting.
        Namun, untuk demonstrasi monolith dan "gratis", ini adalah solusi yang ringkas.
    -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè¢</text></svg>">

    <!-- Font Awesome (Ikon Online Gratis via CDN) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /*=============================================
=            VARIABEL GLOBAL & RESET          =
Design System Terpusat (CSS Variables)
Arsitektur: Monolith dengan pemisahan logis styling.
Layer: Global, Layout, Utilities, Components, Pages.
Prinsip: Konsistensi, Skalabilitas, Maintainabilitas.
=============================================*/
        :root {
            /* Skema Warna Dasar (Mode Terang) - Layer Warna */
            --primary-color-rgb: 99, 102, 241;
            /* Untuk penggunaan dengan alpha, contoh: rgba(var(--primary-color-rgb), 0.5) */
            --primary-color: #6366f1;
            /* Indigo 500 */
            --primary-color-hover: #4f46e5;
            /* Indigo 600 */
            --primary-color-light: #e0e7ff;
            /* Indigo 100 */
            --primary-color-dark-text: #4338ca;
            /* Indigo 700 (untuk teks di bg light) */

            --secondary-color-rgb: 16, 185, 129;
            --secondary-color: #10b981;
            /* Emerald 500 */
            --secondary-color-hover: #059669;
            /* Emerald 600 */
            --secondary-color-light: #d1fae5;
            /* Emerald 100 */

            --accent-color-rgb: 245, 158, 11;
            --accent-color: #f59e0b;
            /* Amber 500 */
            --accent-color-hover: #d97706;
            /* Amber 600 */
            --accent-color-light: #fef3c7;
            /* Amber 100 */

            --danger-color-rgb: 239, 68, 68;
            --danger-color: #ef4444;
            /* Red 500 */
            --danger-color-hover: #dc2626;
            /* Red 600 */
            --danger-color-light: #fee2e2;
            /* Red 100 */

            --success-color-rgb: 34, 197, 94;
            --success-color: #22c55e;
            /* Green 500 */
            --success-color-light: #dcfce7;
            /* Green 100 */
            --success-color-hover: #16a34a;
            /* Green 600 */

            --warning-color-rgb: 234, 179, 8;
            --warning-color: #eab308;
            /* Yellow 500 */
            --warning-color-light: #fef9c3;
            /* Yellow 100 */
            --warning-color-hover: #ca8a04;
            /* Yellow 600 */

            --info-color-rgb: 59, 130, 246;
            --info-color: #3b82f6;
            /* Blue 500 */
            --info-color-light: #dbeafe;
            /* Blue 100 */
            --info-color-hover: #2563eb;
            /* Blue 600 */

            --bg-color: #f8fafc;
            /* Slate 50 - Latar utama */
            --bg-color-alt: #ffffff;
            /* White - Latar alternatif, misal card header */
            --text-color: #1e293b;
            /* Slate 800 - Teks utama */
            --text-color-muted: #64748b;
            /* Slate 500 - Teks sekunder */
            --text-color-subtle: #94a3b8;
            /* Slate 400 - Teks sangat halus */
            --border-color: #e2e8f0;
            /* Slate 200 - Border standar */
            --border-color-strong: #cbd5e1;
            /* Slate 300 - Border lebih tegas */
            --card-bg-color: #ffffff;
            /* Latar belakang kartu */
            --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -2px rgba(0, 0, 0, 0.05);
            --card-shadow-hover: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
            --input-bg-color: #f1f5f9;
            /* Slate 100 - Latar input */
            --input-border-color: var(--border-color-strong);
            --focus-ring-color: rgba(var(--primary-color-rgb), 0.4);
            /* Warna cincin fokus */

            /* Tipografi - Layer Tipografi */
            --font-family-sans: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            --font-size-base: 1rem;
            /* 16px */
            --font-size-xs: 0.75rem;
            /* 12px */
            --font-size-sm: 0.875rem;
            /* 14px */
            --font-size-lg: 1.125rem;
            /* 18px */
            --font-size-xl: 1.25rem;
            /* 20px */
            --font-size-2xl: 1.5rem;
            /* 24px */
            --font-size-3xl: 1.875rem;
            /* 30px */
            --font-size-4xl: 2.25rem;
            /* 36px */
            --font-weight-light: 300;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            --line-height-normal: 1.6;
            --line-height-tight: 1.3;
            --line-height-snug: 1.45;
            /* Untuk paragraf yang lebih rapat */

            /* Border Radius - Layer Bentuk */
            --border-radius-sm: 0.25rem;
            /* 4px */
            --border-radius-md: 0.5rem;
            /* 8px */
            --border-radius-lg: 0.75rem;
            /* 12px */
            --border-radius-xl: 1rem;
            /* 16px */
            --border-radius-full: 9999px;

            /* Spasi (menggunakan kelipatan 4px) - Layer Spasi */
            --spacing-unit: 0.25rem;
            /* 4px */
            --spacing-px: 1px;
            /* Untuk border tipis atau offset kecil */
            --spacing-0: 0;
            --spacing-1: calc(1 * var(--spacing-unit));
            /* 4px */
            --spacing-2: calc(2 * var(--spacing-unit));
            /* 8px */
            --spacing-3: calc(3 * var(--spacing-unit));
            /* 12px */
            --spacing-4: calc(4 * var(--spacing-unit));
            /* 16px */
            --spacing-5: calc(5 * var(--spacing-unit));
            /* 20px */
            --spacing-6: calc(6 * var(--spacing-unit));
            /* 24px */
            --spacing-8: calc(8 * var(--spacing-unit));
            /* 32px */
            --spacing-10: calc(10 * var(--spacing-unit));
            /* 40px */
            --spacing-12: calc(12 * var(--spacing-unit));
            /* 48px */

            /* Transisi - Layer Animasi */
            --transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);

            /* Layout - Layer Struktur */
            --max-width-container: 1280px;
            /* Lebar maksimum kontainer utama */
            --header-height: 68px;
            /* Tinggi header aplikasi */
        }

        /* Skema Warna Mode Gelap */
        [data-theme="dark"] {
            --primary-color-rgb: 129, 140, 248;
            --primary-color: #818cf8;
            /* Indigo 400 */
            --primary-color-hover: #a5b4fc;
            /* Indigo 300 */
            --primary-color-light: #3730a3;
            /* Indigo 800 - Untuk background di dark mode */
            --primary-color-dark-text: #c7d2fe;
            /* Indigo 200 (untuk teks di bg dark) */

            --secondary-color-rgb: 52, 211, 153;
            --secondary-color: #34d399;
            /* Emerald 400 */
            --secondary-color-hover: #6ee7b7;
            /* Emerald 300 */
            --secondary-color-light: #065f46;
            /* Emerald 800 */

            --accent-color-rgb: 251, 191, 36;
            --accent-color: #fbbf24;
            /* Amber 400 */
            --accent-color-hover: #fcd34d;
            /* Amber 300 */
            --accent-color-light: #78350f;
            /* Amber 800 */

            --danger-color-rgb: 248, 113, 113;
            --danger-color: #f87171;
            /* Red 400 */
            --danger-color-hover: #ef4444;
            /* Red 500 */
            --danger-color-light: #7f1d1d;
            /* Red 800 */

            --success-color-rgb: 74, 222, 128;
            --success-color: #4ade80;
            /* Green 400 */
            --success-color-light: #166534;
            /* Green 800 */
            --success-color-hover: #22c55e;
            /* Green 500 */

            --warning-color-rgb: 250, 204, 21;
            --warning-color: #facc15;
            /* Yellow 400 */
            --warning-color-light: #713f12;
            /* Yellow 800 */
            --warning-color-hover: #eab308;
            /* Yellow 500 */

            --info-color-rgb: 96, 165, 250;
            --info-color: #60a5fa;
            /* Blue 400 */
            --info-color-light: #1e40af;
            /* Blue 800 */
            --info-color-hover: #3b82f6;
            /* Blue 500 */

            --bg-color: #0f172a;
            /* Slate 900 */
            --bg-color-alt: #1e293b;
            /* Slate 800 */
            --text-color: #f1f5f9;
            /* Slate 100 */
            --text-color-muted: #94a3b8;
            /* Slate 400 */
            --text-color-subtle: #64748b;
            /* Slate 500 */
            --border-color: #334155;
            /* Slate 700 */
            --border-color-strong: #475569;
            /* Slate 600 */
            --card-bg-color: #1e293b;
            /* Slate 800 */
            --input-bg-color: #334155;
            /* Slate 700 */
            --input-border-color: var(--border-color-strong);
            --focus-ring-color: rgba(var(--primary-color-rgb), 0.5);
        }

        /* Reset Dasar & Gaya Global - Layer Reset */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            /* Teks lebih halus di Webkit */
            -moz-osx-font-smoothing: grayscale;
            /* Teks lebih halus di Firefox */
        }

        html {
            font-size: 100%;
            /* Basis 16px */
            scroll-behavior: smooth;
            /* Scroll halus */
            -webkit-tap-highlight-color: transparent;
            /* Hilangkan highlight biru saat tap di mobile */
        }

        body {
            font-family: var(--font-family-sans);
            font-size: var(--font-size-base);
            font-weight: var(--font-weight-normal);
            line-height: var(--line-height-normal);
            color: var(--text-color);
            background-color: var(--bg-color);
            min-height: 100vh;
            /* Pastikan body mengisi seluruh tinggi viewport */
            display: flex;
            /* Untuk struktur footer menempel di bawah */
            flex-direction: column;
            transition: background-color var(--transition-normal), color var(--transition-normal);
        }

        /* Shell aplikasi utama, memungkinkan footer menempel jika konten pendek */
        #app-shell {
            flex: 1;
            /* Mengisi ruang yang tersedia */
            display: flex;
            flex-direction: column;
        }

        img,
        picture,
        video,
        canvas {
            display: block;
            /* Hilangkan spasi ekstra di bawah gambar inline */
            max-width: 100%;
            /* Gambar responsif */
            height: auto;
            /* Jaga rasio aspek */
        }

        input,
        button,
        textarea,
        select {
            font: inherit;
            /* Warisi font dari body */
            border: none;
            /* Hapus border default */
            outline: none;
            /* Hapus outline default */
        }

        button {
            cursor: pointer;
            /* Kursor tangan untuk elemen interaktif */
            background: none;
            /* Hapus background default */
            color: inherit;
            /* Warisi warna teks */
            padding: 0;
            /* Hapus padding default */
            -webkit-appearance: none;
            /* Hilangkan style default di iOS */
            appearance: none;
            /* Hilangkan style default */
        }

        a {
            text-decoration: none;
            /* Hapus underline default */
            color: var(--primary-color);
            transition: color var(--transition-fast);
        }

        a:hover {
            color: var(--primary-color-hover);
            text-decoration: underline;
            /* Tambahkan underline saat hover untuk kejelasan */
        }

        ul,
        ol {
            list-style: none;
            /* Hapus bullet/numbering default */
        }

        /* Heading konsisten */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-weight: var(--font-weight-bold);
            line-height: var(--line-height-tight);
            color: var(--text-color);
            /* Pastikan heading menggunakan warna teks utama */
            margin-top: 0;
            /* Reset margin atas default heading */
        }

        h1 {
            font-size: var(--font-size-3xl);
            margin-bottom: var(--spacing-6);
        }

        h2 {
            font-size: var(--font-size-2xl);
            margin-bottom: var(--spacing-5);
        }

        h3 {
            font-size: var(--font-size-xl);
            margin-bottom: var(--spacing-4);
        }

        h4 {
            font-size: var(--font-size-lg);
            margin-bottom: var(--spacing-3);
        }

        p {
            line-height: var(--line-height-snug);
            /* Line height yang nyaman dibaca */
            margin-bottom: var(--spacing-4);
        }

        p:last-child {
            margin-bottom: 0;
            /* Hapus margin bawah dari paragraf terakhir dalam sebuah kontainer */
        }

        /* Fokus Universal (Aksesibilitas) - Layer Aksesibilitas */
        *:focus-visible {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
            box-shadow: 0 0 0 3px var(--focus-ring-color);
            border-radius: var(--border-radius-sm);
            /* Radius kecil untuk cincin fokus */
        }

        /* Khusus untuk input agar border ikut berubah warna */
        input:focus-visible,
        textarea:focus-visible,
        select:focus-visible {
            border-color: var(--primary-color) !important;
            /* Pastikan override style lain */
        }


        /*=============================================
=                LAYOUT CONTAINER             =
Struktur Dasar Aplikasi - Layer Layout
=============================================*/
        .container {
            width: 100%;
            max-width: var(--max-width-container);
            margin-left: auto;
            margin-right: auto;
            padding-left: var(--spacing-4);
            padding-right: var(--spacing-4);
        }

        /* Penyesuaian padding kontainer di layar kecil */
        @media (max-width: 767.98px) {

            /* Target mobile */
            .container {
                padding-left: var(--spacing-3);
                padding-right: var(--spacing-3);
            }
        }

        /*=============================================
=               UTILITY CLASSES               =
Kelas Pembantu Umum - Layer Utilities
=============================================*/
        /* Display */
        .d-none {
            display: none !important;
        }

        .d-block {
            display: block !important;
        }

        .d-inline {
            display: inline !important;
        }

        .d-inline-block {
            display: inline-block !important;
        }

        .d-flex {
            display: flex !important;
        }

        .d-grid {
            display: grid !important;
        }

        /* Flexbox */
        .flex-column {
            flex-direction: column !important;
        }

        .flex-row {
            flex-direction: row !important;
        }

        .justify-start {
            justify-content: flex-start !important;
        }

        .justify-end {
            justify-content: flex-end !important;
        }

        .justify-center {
            justify-content: center !important;
        }

        .justify-between {
            justify-content: space-between !important;
        }

        .justify-around {
            justify-content: space-around !important;
        }

        .align-start {
            align-items: flex-start !important;
        }

        .align-end {
            align-items: flex-end !important;
        }

        .align-center {
            align-items: center !important;
        }

        .align-stretch {
            align-items: stretch !important;
        }

        .flex-wrap {
            flex-wrap: wrap !important;
        }

        .flex-nowrap {
            flex-wrap: nowrap !important;
        }

        .flex-grow-1 {
            flex-grow: 1 !important;
        }

        /* Grid Gap */
        .gap-1 {
            gap: var(--spacing-1);
        }

        .gap-2 {
            gap: var(--spacing-2);
        }

        .gap-3 {
            gap: var(--spacing-3);
        }

        .gap-4 {
            gap: var(--spacing-4);
        }

        .gap-6 {
            gap: var(--spacing-6);
        }

        .gap-8 {
            gap: var(--spacing-8);
        }

        /* Text Alignment */
        .text-center {
            text-align: center !important;
        }

        .text-left {
            text-align: left !important;
        }

        .text-right {
            text-align: right !important;
        }

        /* Sizing */
        .w-full {
            width: 100% !important;
        }

        .h-full {
            height: 100% !important;
        }

        /* Margin & Padding Utilities */
        .m-0 {
            margin: var(--spacing-0) !important;
        }

        .mt-auto {
            margin-top: auto !important;
        }

        /* Untuk mendorong footer ke bawah */
        .mt-1 {
            margin-top: var(--spacing-1) !important;
        }

        .mb-1 {
            margin-bottom: var(--spacing-1) !important;
        }

        .mt-2 {
            margin-top: var(--spacing-2) !important;
        }

        .mb-2 {
            margin-bottom: var(--spacing-2) !important;
        }

        .mt-3 {
            margin-top: var(--spacing-3) !important;
        }

        .mb-3 {
            margin-bottom: var(--spacing-3) !important;
        }

        .mt-4 {
            margin-top: var(--spacing-4) !important;
        }

        .mb-4 {
            margin-bottom: var(--spacing-4) !important;
        }

        .mt-6 {
            margin-top: var(--spacing-6) !important;
        }

        .mb-6 {
            margin-bottom: var(--spacing-6) !important;
        }

        .mt-8 {
            margin-top: var(--spacing-8) !important;
        }

        .mb-8 {
            margin-bottom: var(--spacing-8) !important;
        }

        .p-0 {
            padding: var(--spacing-0) !important;
        }

        .p-1 {
            padding: var(--spacing-1) !important;
        }

        .py-1 {
            padding-top: var(--spacing-1) !important;
            padding-bottom: var(--spacing-1) !important;
        }

        .px-1 {
            padding-left: var(--spacing-1) !important;
            padding-right: var(--spacing-1) !important;
        }

        .p-2 {
            padding: var(--spacing-2) !important;
        }

        .py-2 {
            padding-top: var(--spacing-2) !important;
            padding-bottom: var(--spacing-2) !important;
        }

        .px-2 {
            padding-left: var(--spacing-2) !important;
            padding-right: var(--spacing-2) !important;
        }

        .p-3 {
            padding: var(--spacing-3) !important;
        }

        .py-3 {
            padding-top: var(--spacing-3) !important;
            padding-bottom: var(--spacing-3) !important;
        }

        .px-3 {
            padding-left: var(--spacing-3) !important;
            padding-right: var(--spacing-3) !important;
        }

        .p-4 {
            padding: var(--spacing-4) !important;
        }

        .py-4 {
            padding-top: var(--spacing-4) !important;
            padding-bottom: var(--spacing-4) !important;
        }

        .px-4 {
            padding-left: var(--spacing-4) !important;
            padding-right: var(--spacing-4) !important;
        }

        .p-6 {
            padding: var(--spacing-6) !important;
        }

        .py-6 {
            padding-top: var(--spacing-6) !important;
            padding-bottom: var(--spacing-6) !important;
        }

        .px-6 {
            padding-left: var(--spacing-6) !important;
            padding-right: var(--spacing-6) !important;
        }

        /* Rounded Corners */
        .rounded-sm {
            border-radius: var(--border-radius-sm);
        }

        .rounded-md {
            border-radius: var(--border-radius-md);
        }

        .rounded-lg {
            border-radius: var(--border-radius-lg);
        }

        .rounded-xl {
            border-radius: var(--border-radius-xl);
        }

        .rounded-full {
            border-radius: var(--border-radius-full);
        }

        /* Shadows */
        .shadow-sm {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .shadow-md {
            box-shadow: var(--card-shadow);
        }

        .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .shadow-xl {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        /* Text Colors & Font Weights */
        .text-primary {
            color: var(--primary-color) !important;
        }

        /* Use !important for utilities to ensure override */
        .text-secondary {
            color: var(--secondary-color) !important;
        }

        .text-accent {
            color: var(--accent-color) !important;
        }

        .text-muted {
            color: var(--text-color-muted) !important;
        }

        .text-subtle {
            color: var(--text-color-subtle) !important;
        }

        .text-danger {
            color: var(--danger-color) !important;
        }

        .text-success {
            color: var(--success-color) !important;
        }

        .text-white {
            color: #ffffff !important;
        }

        .text-black {
            color: #000000 !important;
        }

        .fw-light {
            font-weight: var(--font-weight-light) !important;
        }

        .fw-normal {
            font-weight: var(--font-weight-normal) !important;
        }

        .fw-medium {
            font-weight: var(--font-weight-medium) !important;
        }

        .fw-semibold {
            font-weight: var(--font-weight-semibold) !important;
        }

        .fw-bold {
            font-weight: var(--font-weight-bold) !important;
        }

        /* Font Sizes */
        .fs-xs {
            font-size: var(--font-size-xs) !important;
        }

        .fs-sm {
            font-size: var(--font-size-sm) !important;
        }

        .fs-base {
            font-size: var(--font-size-base) !important;
        }

        .fs-lg {
            font-size: var(--font-size-lg) !important;
        }

        .fs-xl {
            font-size: var(--font-size-xl) !important;
        }

        /* Visually Hidden (Aksesibilitas) */
        .sr-only {
            position: absolute !important;
            width: 1px !important;
            height: 1px !important;
            padding: 0 !important;
            margin: -1px !important;
            overflow: hidden !important;
            clip: rect(0, 0, 0, 0) !important;
            white-space: nowrap !important;
            border-width: 0 !important;
        }

        /*=============================================
=            KOMPONEN HEADER APLIKASI         =
Header Aplikasi - Layer Komponen
=============================================*/
        .app-header {
            background-color: var(--card-bg-color);
            box-shadow: var(--card-shadow);
            padding: var(--spacing-3) 0;
            /* Padding atas-bawah konsisten */
            height: var(--header-height);
            /* Tinggi header tetap */
            display: flex;
            /* Untuk alignment vertikal isi header */
            align-items: center;
            position: sticky;
            /* Header menempel di atas saat scroll */
            top: 0;
            z-index: 1000;
            /* Di atas konten lain */
            transition: background-color var(--transition-normal);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            /* Pastikan kontainer di dalam header mengisi penuh */
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            color: var(--text-color);
            /* Warna teks logo dari variabel */
            text-decoration: none;
            /* Hapus underline default dari link */
        }

        .logo:hover {
            /* Efek hover untuk logo */
            color: var(--primary-color);
            /* Ubah warna saat hover */
            text-decoration: none;
            /* Pastikan tidak ada underline saat hover */
        }

        .logo-icon {
            font-size: var(--font-size-2xl);
            /* Ukuran ikon logo */
            color: var(--primary-color);
            /* Warna ikon logo */
        }

        .logo-text {
            /* Mungkin perlu style khusus jika nama aplikasi panjang atau ada bagian yang di-highlight */
        }

        .logo-highlight {
            /* Untuk bagian nama aplikasi yang ingin di-highlight */
            color: var(--primary-color);
            font-weight: var(--font-weight-bold);
            /* Atau lebih tebal */
        }

        /* Navigasi Desktop */
        .app-nav .nav-list {
            display: flex;
            gap: var(--spacing-2);
            /* Jarak antar item navigasi */
        }

        .app-nav .nav-link {
            padding: var(--spacing-2) var(--spacing-3);
            border-radius: var(--border-radius-md);
            color: var(--text-color-muted);
            font-weight: var(--font-weight-medium);
            transition: color var(--transition-fast), background-color var(--transition-fast);
            text-decoration: none;
            /* Pastikan tidak ada underline default */
            position: relative;
            /* Untuk pseudo-element active state */
        }

        .app-nav .nav-link:hover,
        .app-nav .nav-link.active {
            /* State aktif dan hover */
            color: var(--primary-color);
            background-color: var(--primary-color-light);
            text-decoration: none;
        }

        .app-nav .nav-link.active::after {
            /* Indikator aktif yang lebih subtle */
            content: '';
            position: absolute;
            bottom: -2px;
            /* Sedikit di bawah teks */
            left: var(--spacing-2);
            right: var(--spacing-2);
            height: 2px;
            background-color: var(--primary-color);
            border-radius: 1px;
        }

        /* Penyesuaian untuk tema gelap pada link navigasi */
        [data-theme="dark"] .app-nav .nav-link:hover,
        [data-theme="dark"] .app-nav .nav-link.active {
            color: var(--primary-color-dark-text);
            /* Teks lebih terang di bg gelap */
            background-color: var(--primary-color-light);
            /* Background dari dark theme */
        }

        [data-theme="dark"] .app-nav .nav-link.active::after {
            background-color: var(--primary-color-dark-text);
        }


        .header-actions {
            /* Kontainer untuk tombol aksi di header */
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
        }

        .theme-toggle-btn,
        .mobile-nav-toggle {
            /* Styling seragam untuk tombol ikon */
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color-muted);
            width: 40px;
            /* Ukuran tetap untuk konsistensi */
            height: 40px;
            border-radius: var(--border-radius-full);
            /* Tombol bulat */
            display: inline-flex;
            /* Untuk alignment ikon */
            justify-content: center;
            align-items: center;
            font-size: var(--font-size-lg);
            /* Ukuran ikon di dalam tombol */
            transition: var(--transition-normal);
            /* Transisi halus */
        }

        .theme-toggle-btn:hover,
        .mobile-nav-toggle:hover {
            background-color: var(--bg-color);
            /* Warna latar saat hover (sangat halus) */
            border-color: var(--border-color-strong);
            /* Border lebih jelas saat hover */
            color: var(--primary-color);
            /* Warna ikon berubah saat hover */
        }

        [data-theme="dark"] .theme-toggle-btn,
        [data-theme="dark"] .mobile-nav-toggle {
            border-color: var(--border-color-strong);
            /* Warna border di tema gelap */
        }

        [data-theme="dark"] .theme-toggle-btn:hover,
        [data-theme="dark"] .mobile-nav-toggle:hover {
            background-color: var(--card-bg-color);
            /* Latar hover di tema gelap */
            border-color: var(--border-color);
            /* Border hover di tema gelap */
        }

        /* Navigasi Mobile (awalnya tersembunyi di desktop) */
        .mobile-nav-toggle {
            display: none;
            /* Sembunyikan di desktop secara default */
        }

        .app-nav-mobile {
            display: none;
            /* Default tersembunyi */
            position: absolute;
            /* Posisi relatif terhadap header atau viewport */
            top: calc(var(--header-height) - 1px);
            /* Tepat di bawah header */
            left: 0;
            right: 0;
            background-color: var(--card-bg-color);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            /* Bayangan agar terlihat di atas konten */
            z-index: 999;
            /* Satu tingkat di bawah header utama */
            padding: var(--spacing-4);
            border-top: 1px solid var(--border-color);
            transform: translateY(-100%);
            /* Awalnya tersembunyi di atas */
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            opacity: 0;
        }

        .app-nav-mobile .nav-list {
            flex-direction: column;
            gap: var(--spacing-2);
            /* Jarak antar item di menu mobile */
        }

        .app-nav-mobile .nav-link {
            display: block;
            /* Agar link mengisi lebar kontainer */
            padding: var(--spacing-3);
            /* Padding lebih besar untuk tap target */
            width: 100%;
            /* Mengisi lebar penuh */
            text-align: left;
            /* Teks rata kiri */
        }

        .app-nav-mobile.active {
            /* Kelas untuk menampilkan navigasi mobile */
            display: block;
            /* Tampilkan */
            transform: translateY(0);
            /* Geser ke posisi normal */
            opacity: 1;
        }

        /* Badge Notifikasi di Navigasi */
        .nav-link .badge {
            background-color: var(--danger-color);
            color: var(--bg-color-alt);
            font-size: var(--font-size-xs);
            padding: var(--spacing-px) var(--spacing-1);
            /* Padding kecil untuk badge */
            border-radius: var(--border-radius-full);
            margin-left: var(--spacing-1);
            font-weight: var(--font-weight-bold);
            line-height: 1;
            /* Jaga tinggi badge */
            min-width: 18px;
            /* Lebar minimum agar angka terlihat baik */
            text-align: center;
        }

        /* Media Query untuk Navigasi Mobile */
        @media (max-width: 767.98px) {

            /* Breakpoint untuk mobile */
            .app-nav {
                /* Sembunyikan navigasi desktop di mobile */
                display: none;
            }

            .mobile-nav-toggle {
                /* Tampilkan tombol hamburger di mobile */
                display: inline-flex;
            }

            /* Pastikan header actions tidak terlalu rapat di mobile */
            .header-actions {
                gap: var(--spacing-2);
            }
        }

        /*=============================================
=            KONTEN UTAMA & LOADER            =
Main Content Area dan Indikator Loading - Layer Komponen
=============================================*/
        .main-content {
            flex-grow: 1;
            /* Konten mengisi sisa ruang */
            padding-top: var(--spacing-8);
            /* Padding atas dari konten */
            padding-bottom: var(--spacing-8);
            /* Padding bawah dari konten */
            transition: opacity 0.3s ease-in-out;
            /* Transisi halus saat konten berubah */
        }

        .page-container {
            /* Wrapper tambahan per halaman untuk animasi atau styling khusus */
            animation: fadeInPage 0.5s ease-out;
            /* Animasi fadeIn untuk halaman baru */
        }

        @keyframes fadeInPage {

            /* Definsi animasi fadeIn */
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .loader-container {
            /* Kontainer untuk loader (saat ganti halaman atau inisialisasi) */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 300px;
            /* Tinggi minimum agar loader tidak terlalu kecil */
            text-align: center;
            padding: var(--spacing-6);
        }

        .loader {
            /* Animasi spinner loader */
            border: 5px solid var(--bg-color);
            /* Warna dasar loader (transparan atau bg) */
            border-top: 5px solid var(--primary-color);
            /* Warna animasi loader */
            border-radius: 50%;
            /* Bentuk bulat */
            width: 50px;
            /* Ukuran loader */
            height: 50px;
            animation: spinLoader 1s linear infinite;
            /* Animasi putar */
        }

        @keyframes spinLoader {

            /* Definisi animasi putar */
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .initial-loader {
            /* Loader awal saat aplikasi pertama kali dimuat */
            position: fixed;
            /* Mengisi seluruh layar */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            /* Latar sama dengan body */
            z-index: 9999;
            /* Di atas segalanya */
            display: flex;
            /* Pusatkan loader */
            justify-content: center;
            align-items: center;
            flex-direction: column;
            opacity: 1;
            transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
            /* Transisi fade out */
        }

        .initial-loader .loader {
            /* Loader awal sedikit lebih besar */
            width: 60px;
            height: 60px;
            border-width: 6px;
        }

        .initial-loader p {
            /* Teks di bawah loader awal */
            margin-top: var(--spacing-4);
            color: var(--text-color-muted);
            font-size: var(--font-size-lg);
        }

        /*=============================================
=               KOMPONEN KARTU (CARD)          =
Komponen Kartu Serbaguna - Layer Komponen
=============================================*/
        .card {
            background-color: var(--card-bg-color);
            border-radius: var(--border-radius-lg);
            /* Sudut lebih melengkung */
            box-shadow: var(--card-shadow);
            padding: var(--spacing-6);
            /* Padding internal yang lapang */
            transition: var(--transition-normal);
            /* Transisi untuk hover, dll. */
            border: 1px solid var(--border-color);
            /* Border halus */
            overflow: hidden;
            /* Untuk border-left atau elemen anak yang mungkin keluar */
        }

        .card:hover {
            /* Efek hover pada kartu */
            transform: translateY(-3px);
            /* Angkat kartu sedikit */
            box-shadow: var(--card-shadow-hover);
            /* Bayangan lebih menonjol */
        }

        .card-header {
            margin: calc(-1 * var(--spacing-6)) calc(-1 * var(--spacing-6)) var(--spacing-4) calc(-1 * var(--spacing-6));
            /* Tarik header ke tepi card */
            padding: var(--spacing-4) var(--spacing-6);
            /* Padding untuk header */
            border-bottom: 1px solid var(--border-color);
            background-color: var(--bg-color-alt);
            /* Latar header sedikit berbeda */
        }

        [data-theme="dark"] .card-header {
            background-color: var(--bg-color);
            /* Header di dark mode */
        }

        .card-title {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--spacing-1);
            /* Margin bawah judul kartu */
        }

        .card-subtitle {
            font-size: var(--font-size-sm);
            color: var(--text-color-muted);
            margin-top: calc(-1 * var(--spacing-1));
            /* Kurangi jarak dari judul */
            display: block;
            /* Pastikan sebagai block untuk margin */
        }

        .card-body {
            font-size: var(--font-size-base);
        }

        .card-footer {
            margin: var(--spacing-4) calc(-1 * var(--spacing-6)) calc(-1 * var(--spacing-6)) calc(-1 * var(--spacing-6));
            /* Tarik footer ke tepi */
            padding: var(--spacing-3) var(--spacing-6);
            /* Padding untuk footer */
            border-top: 1px solid var(--border-color);
            background-color: var(--bg-color-alt);
            /* Latar footer sama dengan header */
            display: flex;
            justify-content: flex-end;
            /* Tombol aksi di kanan secara default */
            gap: var(--spacing-2);
        }

        [data-theme="dark"] .card-footer {
            background-color: var(--bg-color);
        }

        /* Variasi Card dengan Border Kiri Berwarna (untuk notifikasi, dll) */
        .card.card-border-left {
            padding-left: calc(var(--spacing-6) + 5px);
            /* Tambah padding kiri untuk ruang border */
            border-left-width: 5px;
            border-left-style: solid;
        }

        .card-info.card-border-left {
            border-left-color: var(--info-color);
        }

        .card-success.card-border-left {
            border-left-color: var(--success-color);
        }

        .card-warning.card-border-left {
            border-left-color: var(--warning-color);
        }

        .card-danger.card-border-left {
            border-left-color: var(--danger-color);
        }

        /*=============================================
=               KOMPONEN TOMBOL (BUTTON)      =
Tombol Aksi Utama dan Sekunder - Layer Komponen
=============================================*/
        .btn {
            display: inline-flex;
            /* Untuk alignment ikon dan teks */
            align-items: center;
            justify-content: center;
            gap: var(--spacing-2);
            /* Jarak antara ikon dan teks */
            padding: var(--spacing-2) var(--spacing-4);
            font-size: var(--font-size-base);
            font-weight: var(--font-weight-medium);
            border-radius: var(--border-radius-md);
            border: 1px solid transparent;
            /* Border default transparan */
            transition: var(--transition-fast);
            text-decoration: none;
            /* Untuk tag <a> yang di-style seperti button */
            line-height: 1.5;
            /* Untuk konsistensi tinggi tombol */
            user-select: none;
            /* Mencegah teks tombol terseleksi */
            white-space: nowrap;
            /* Mencegah teks tombol wrap */
        }

        .btn:focus-visible {
            /* Custom focus untuk button, lebih halus dari universal */
            outline-offset: 1px;
            /* Lebih dekat dengan tombol */
            box-shadow: 0 0 0 2px var(--bg-color), 0 0 0 4px var(--primary-color);
            /* Efek cincin ganda */
        }

        .btn:active {
            /* Efek saat tombol ditekan */
            transform: translateY(1px);
        }

        .btn i,
        .btn .fas,
        .btn .far,
        .btn .fab {
            /* Ikon di dalam button */
            font-size: 1.1em;
            /* Ikon sedikit lebih besar dari teks */
            line-height: 1;
            /* Jaga agar ikon tidak menambah tinggi tombol */
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: var(--bg-color-alt);
            /* Teks putih/terang di tombol primer */
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background-color: var(--primary-color-hover);
            border-color: var(--primary-color-hover);
            color: var(--bg-color-alt);
            /* Jaga warna teks saat hover */
            text-decoration: none;
            /* Hapus underline jika <a> */
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: var(--bg-color-alt);
            border-color: var(--secondary-color);
        }

        .btn-secondary:hover {
            background-color: var(--secondary-color-hover);
            border-color: var(--secondary-color-hover);
            color: var(--bg-color-alt);
            text-decoration: none;
        }

        .btn-outline-primary {
            background-color: transparent;
            color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-outline-primary:hover {
            background-color: var(--primary-color-light);
            color: var(--primary-color-dark-text);
            /* Teks gelap untuk kontras di bg terang */
            text-decoration: none;
        }

        [data-theme="dark"] .btn-outline-primary:hover {
            background-color: rgba(var(--primary-color-rgb), 0.15);
            /* Warna lebih subtle di dark mode */
            color: var(--primary-color);
            /* Teks tetap warna primer (cerah) */
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: var(--bg-color-alt);
            border-color: var(--danger-color);
        }

        .btn-danger:hover {
            background-color: var(--danger-color-hover);
            border-color: var(--danger-color-hover);
            color: var(--bg-color-alt);
            text-decoration: none;
        }

        .btn-sm {
            /* Tombol ukuran kecil */
            padding: var(--spacing-1) var(--spacing-2);
            font-size: var(--font-size-sm);
        }

        .btn-lg {
            /* Tombol ukuran besar */
            padding: var(--spacing-3) var(--spacing-6);
            font-size: var(--font-size-lg);
        }

        .btn-block {
            /* Tombol mengisi lebar kontainer */
            width: 100%;
            display: flex;
            /* Pastikan tetap flex untuk alignment ikon */
        }

        .btn-icon-only {
            /* Tombol hanya ikon, untuk aksi cepat */
            padding: var(--spacing-2);
            width: calc(var(--font-size-base) * 1.5 + var(--spacing-2) * 2);
            /* Lebar = tinggi */
            height: calc(var(--font-size-base) * 1.5 + var(--spacing-2) * 2);
            gap: 0;
            /* Tidak ada gap jika hanya ikon */
        }

        .btn-icon-only i {
            margin: 0;
            /* Hapus margin default ikon jika ada */
            font-size: 1.2em;
            /* Ikon sedikit lebih besar */
        }


        /*=============================================
=                KOMPONEN FORMULIR            =
Elemen Formulir (Input, Select, Textarea) - Layer Komponen
=============================================*/
        .form-group {
            margin-bottom: var(--spacing-4);
            /* Jarak antar grup form */
        }

        .form-label {
            display: block;
            /* Label di atas input */
            font-weight: var(--font-weight-medium);
            margin-bottom: var(--spacing-1);
            color: var(--text-color);
            font-size: var(--font-size-sm);
            /* Label sedikit lebih kecil */
        }

        .form-control {
            display: block;
            width: 100%;
            padding: var(--spacing-2) var(--spacing-3);
            font-size: var(--font-size-base);
            line-height: 1.5;
            color: var(--text-color);
            background-color: var(--input-bg-color);
            background-clip: padding-box;
            /* Penting untuk border dan background */
            border: 1px solid var(--input-border-color);
            appearance: none;
            /* Hapus style default browser (terutama untuk select) */
            border-radius: var(--border-radius-md);
            transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
        }

        .form-control:focus {
            /* Tidak menggunakan :focus-visible agar selalu ada saat fokus */
            border-color: var(--primary-color);
            outline: 0;
            /* Hapus outline default, gunakan box-shadow */
            box-shadow: 0 0 0 3px var(--focus-ring-color);
            /* Cincin fokus yang lebih modern */
        }

        .form-control::placeholder {
            color: var(--text-color-subtle);
            opacity: 1;
            /* Pastikan placeholder terlihat jelas */
        }

        textarea.form-control {
            min-height: calc(1.5em * 3 + (var(--spacing-2) * 2) + 2px);
            /* Tinggi default untuk sekitar 3 baris */
            resize: vertical;
            /* Hanya bisa di-resize vertikal */
        }

        select.form-control {
            /* Styling khusus untuk select agar terlihat konsisten */
            padding-right: var(--spacing-8);
            /* Ruang untuk ikon dropdown */
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23333' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right var(--spacing-3) center;
            background-size: 16px 12px;
        }

        [data-theme="dark"] select.form-control {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23ccc' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
        }

        .form-check {
            /* Untuk grup checkbox atau radio button */
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            margin-bottom: var(--spacing-2);
            /* Jarak antar item check */
        }

        .form-check-input {
            /* Styling input checkbox/radio */
            width: 1.25em;
            /* Ukuran yang nyaman disentuh */
            height: 1.25em;
            margin-top: 0.1em;
            /* Penyesuaian posisi vertikal agar sejajar teks */
            vertical-align: top;
            background-color: var(--input-bg-color);
            border: 1px solid var(--input-border-color);
            border-radius: var(--border-radius-sm);
            transition: var(--transition-fast);
            flex-shrink: 0;
            /* Mencegah input mengecil */
        }

        .form-check-input:checked {
            /* Saat tercentang */
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 8l3 3 5-5'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: center;
            background-size: 70%;
        }

        .form-check-input[type="radio"] {
            /* Radio button bulat */
            border-radius: 50%;
        }

        .form-check-input[type="radio"]:checked {
            /* Indikator centang untuk radio */
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e");
        }

        .form-check-label {
            font-weight: var(--font-weight-normal);
            color: var(--text-color);
            cursor: pointer;
            /* Kursor tangan untuk label */
            font-size: var(--font-size-base);
            /* Samakan dengan input */
        }

        .form-text {
            /* Teks bantuan di bawah input */
            font-size: var(--font-size-sm);
            color: var(--text-color-muted);
            margin-top: var(--spacing-1);
            display: block;
            /* Pastikan sebagai block */
        }

        .alert {
            /* Komponen Alert untuk pesan feedback */
            padding: var(--spacing-3) var(--spacing-4);
            margin-bottom: var(--spacing-4);
            border: 1px solid transparent;
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
            font-size: var(--font-size-sm);
            /* Teks alert sedikit lebih kecil */
        }

        .alert i,
        .alert .fas {
            /* Ikon di dalam alert */
            font-size: var(--font-size-lg);
            flex-shrink: 0;
            /* Mencegah ikon mengecil */
        }

        .alert-success {
            color: var(--success-color-hover);
            /* Teks lebih gelap untuk kontras */
            background-color: var(--success-color-light);
            border-color: var(--success-color);
            /* Border senada */
        }

        [data-theme="dark"] .alert-success {
            color: var(--text-color);
            /* Teks terang di dark mode */
            background-color: rgba(var(--success-color-rgb), 0.25);
            /* Latar lebih subtle */
            border-color: var(--success-color);
        }

        .alert-danger {
            color: var(--danger-color-hover);
            background-color: var(--danger-color-light);
            border-color: var(--danger-color);
        }

        [data-theme="dark"] .alert-danger {
            color: var(--text-color);
            background-color: rgba(var(--danger-color-rgb), 0.25);
            border-color: var(--danger-color);
        }

        .alert-info {
            color: var(--info-color-hover);
            background-color: var(--info-color-light);
            border-color: var(--info-color);
        }

        [data-theme="dark"] .alert-info {
            color: var(--text-color);
            background-color: rgba(var(--info-color-rgb), 0.25);
            border-color: var(--info-color);
        }

        /*=============================================
=               GRID SYSTEM SEDERHANA         =
Sistem Grid Fleksibel - Layer Layout
=============================================*/
        .grid {
            display: grid;
            gap: var(--spacing-6);
            /* Gap default yang lebih besar untuk layout utama */
        }

        /* Kolom dasar, bisa ditambah sesuai kebutuhan */
        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }

        .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .grid-cols-3 {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }

        .grid-cols-4 {
            grid-template-columns: repeat(4, minmax(0, 1fr));
        }

        /* Kolom responsif (contoh untuk tablet dan mobile) */
        @media (max-width: 1023.98px) {

            /* Tablet (md breakpoint) */
            .md-grid-cols-1 {
                grid-template-columns: repeat(1, minmax(0, 1fr));
            }

            .md-grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            /* ...tambahkan md-grid-cols-lain jika perlu */
        }

        @media (max-width: 767.98px) {

            /* Mobile (sm breakpoint) */
            .grid {
                gap: var(--spacing-4);
            }

            /* Kurangi gap di mobile */
            .sm-grid-cols-1 {
                grid-template-columns: repeat(1, minmax(0, 1fr));
            }

            .sm-grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            /* Untuk item yang lebih kecil */
            /* ...tambahkan sm-grid-cols-lain jika perlu */
        }


        /*=============================================
=            FOOTER APLIKASI                  =
Footer Aplikasi - Layer Komponen
=============================================*/
        .app-footer {
            background-color: var(--card-bg-color);
            /* Footer dengan latar sedikit beda dari body */
            color: var(--text-color-muted);
            padding: var(--spacing-6) 0;
            /* Padding atas-bawah yang lapang */
            text-align: center;
            /* Teks rata tengah */
            font-size: var(--font-size-sm);
            /* Teks footer sedikit lebih kecil */
            border-top: 1px solid var(--border-color);
            /* Garis pemisah tipis */
            margin-top: auto;
            /* Mendorong footer ke bawah jika konten halaman pendek */
            transition: background-color var(--transition-normal), color var(--transition-normal), border-color var(--transition-normal);
        }

        [data-theme="dark"] .app-footer {
            background-color: var(--bg-color);
            /* Footer di dark mode bisa sama dengan body */
        }

        .app-footer p {
            margin-bottom: var(--spacing-1);
            /* Jarak antar paragraf di footer */
            line-height: var(--line-height-normal);
            /* Jaga keterbacaan */
        }

        .app-footer p:last-child {
            margin-bottom: 0;
            /* Hapus margin dari paragraf terakhir */
        }

        .app-footer .fas.fa-heart {
            /* Ikon hati di footer */
            color: var(--danger-color);
            /* Warna merah untuk ikon hati */
            transition: color var(--transition-fast);
        }

        .app-footer .fas.fa-mug-hot {
            /* Ikon mug di footer */
            color: var(--accent-color);
            /* Warna aksen untuk ikon mug */
            transition: color var(--transition-fast);
        }


        /*=============================================
=            HALAMAN SPESIFIK (CONTOH)        =
Styling Khusus per Halaman - Layer Pages
=============================================*/
        /* Halaman Beranda (Hero Section) */
        .hero-section {
            background-color: var(--primary-color-light);
            padding: var(--spacing-10) 0;
            /* Padding sangat lapang untuk hero */
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            /* Garis pemisah halus */
        }

        [data-theme="dark"] .hero-section {
            background-color: rgba(var(--primary-color-rgb), 0.1);
            /* Latar hero di dark mode */
        }

        .hero-section h1 {
            color: var(--primary-color-dark-text);
            /* Teks judul hero */
            font-size: var(--font-size-4xl);
            /* Judul sangat besar */
            margin-bottom: var(--spacing-4);
            /* Jarak bawah judul */
        }

        [data-theme="dark"] .hero-section h1 {
            color: var(--primary-color);
            /* Teks judul hero di dark mode */
        }

        .hero-section p {
            font-size: var(--font-size-lg);
            color: var(--text-color);
            /* Teks paragraf hero */
            max-width: 700px;
            /* Batasi lebar paragraf agar mudah dibaca */
            margin-left: auto;
            margin-right: auto;
            margin-bottom: var(--spacing-6);
            /* Jarak bawah paragraf */
        }

        [data-theme="dark"] .hero-section p {
            color: var(--text-color-muted);
            /* Teks paragraf hero di dark mode */
        }

        /* Halaman Fitur (Contoh Card Fitur) */
        .feature-list .card {
            /* Styling khusus untuk card di daftar fitur */
            text-align: center;
            /* Konten card fitur rata tengah */
        }

        .feature-list .card .feature-icon {
            /* Ikon di card fitur */
            font-size: var(--font-size-3xl);
            /* Ikon besar */
            color: var(--primary-color);
            margin-bottom: var(--spacing-4);
            /* Jarak bawah ikon */
            display: inline-block;
            /* Agar margin bekerja */
        }

        /* Halaman Notifikasi */
        .notification-filters {
            margin-bottom: var(--spacing-6);
            display: flex;
            flex-wrap: wrap;
            /* Filter bisa turun baris di mobile */
            gap: var(--spacing-3);
            /* Jarak antar elemen filter */
            align-items: center;
            /* Sejajarkan elemen filter secara vertikal */
        }

        .notification-filters .form-control {
            /* Select filter kategori */
            width: auto;
            /* Lebar sesuai konten */
            min-width: 180px;
            /* Lebar minimum */
            display: inline-block;
            /* Agar bisa sejajar dengan tombol */
        }

        .notification-item {
            /* Setiap item notifikasi */
            display: flex;
            /* Layout flex untuk ikon dan konten */
            gap: var(--spacing-4);
            /* Jarak antara ikon dan konten */
            align-items: flex-start;
            /* Ikon dan teks sejajar atas */
            border: none;
            /* Hapus border default card untuk notif item */
            padding: var(--spacing-4);
            /* Padding lebih kecil untuk item list */
            border-bottom: 1px solid var(--border-color);
            /* Garis pemisah antar notifikasi */
            border-radius: 0;
            /* Hapus radius jika item list */
        }

        .notification-item:last-child {
            border-bottom: none;
            /* Hapus border dari item terakhir */
        }

        .notification-item .icon-wrapper {
            /* Wrapper untuk ikon notifikasi */
            font-size: var(--font-size-xl);
            padding-top: var(--spacing-px);
            /* Sejajarkan ikon dengan baris pertama teks (fine-tuning) */
            flex-shrink: 0;
            /* Mencegah ikon mengecil */
            width: 32px;
            /* Lebar tetap untuk ikon wrapper */
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--border-radius-full);
        }

        /* Warna ikon wrapper berdasarkan tipe notifikasi */
        .notification-item .icon-wrapper.type-info {
            background-color: var(--info-color-light);
            color: var(--info-color);
        }

        .notification-item .icon-wrapper.type-success {
            background-color: var(--success-color-light);
            color: var(--success-color);
        }

        .notification-item .icon-wrapper.type-warning {
            background-color: var(--warning-color-light);
            color: var(--warning-color);
        }

        .notification-item .icon-wrapper.type-danger {
            background-color: var(--danger-color-light);
            color: var(--danger-color);
        }

        .notification-item .content {
            /* Konten teks notifikasi */
            flex-grow: 1;
            /* Konten mengisi sisa ruang */
        }

        .notification-item .content h5 {
            /* Judul notifikasi */
            margin-bottom: var(--spacing-1);
            font-size: var(--font-size-base);
            /* Judul notifikasi tidak terlalu besar */
            font-weight: var(--font-weight-semibold);
        }

        .notification-item .content p {
            /* Pesan notifikasi */
            font-size: var(--font-size-sm);
            color: var(--text-color-muted);
            line-height: var(--line-height-normal);
        }

        .notification-item .meta {
            /* Metadata notifikasi (timestamp, kategori) */
            font-size: var(--font-size-xs);
            color: var(--text-color-subtle);
            margin-top: var(--spacing-2);
        }

        .notification-item.unread {
            /* Styling untuk notifikasi belum dibaca */
            background-color: var(--primary-color-light);
            /* Highlight notifikasi belum dibaca */
            border-left: 3px solid var(--primary-color);
            /* Indikator border kiri */
        }

        .notification-item.unread .content h5 {
            font-weight: var(--font-weight-bold);
            /* Judul lebih tebal jika belum dibaca */
        }

        [data-theme="dark"] .notification-item.unread {
            background-color: rgba(var(--primary-color-rgb), 0.15);
            /* Warna lebih subtle di dark mode */
            border-left-color: var(--primary-color);
        }

        .notification-item .actions {
            /* Tombol aksi di notifikasi */
            margin-left: auto;
            /* Dorong tombol ke kanan */
            padding-left: var(--spacing-3);
            /* Jarak dari konten */
            display: flex;
            align-items: center;
        }

        /* Halaman Kontak */
        .contact-form-container {
            max-width: 700px;
            /* Batasi lebar form kontak */
            margin: 0 auto;
            /* Pusatkan form di halaman */
        }
    </style>
</head>

<body>
    <!-- Shell Aplikasi Utama (Struktur Dasar SPA) -->
    <div id="app-shell">
        <!-- Header Aplikasi -->
        <header class="app-header" role="banner">
            <div class="container header-container">
                <a href="#/" class="logo" aria-label="Beranda Aplikasi ApartemenNotif">
                    <i class="fas fa-building-user logo-icon" aria-hidden="true"></i>
                    <span class="logo-text">Apartemen<span class="logo-highlight">Notif</span></span>
                </a>

                <!-- Navigasi Desktop -->
                <nav class="app-nav" aria-label="Navigasi Utama">
                    <ul class="nav-list">
                        <li class="nav-item"><a href="#/" class="nav-link" data-route="home">Beranda</a></li>
                        <li class="nav-item"><a href="#/notifications" class="nav-link"
                                data-route="notifications">Notifikasi <span class="badge d-none"
                                    id="notif-badge-count">0</span></a></li>
                        <li class="nav-item"><a href="#/features" class="nav-link" data-route="features">Fitur</a></li>
                        <li class="nav-item"><a href="#/contact" class="nav-link" data-route="contact">Kontak</a></li>
                    </ul>
                </nav>

                <!-- Aksi di Header (Tombol Tema dan Toggle Navigasi Mobile) -->
                <div class="header-actions">
                    <button id="theme-toggle-btn" class="theme-toggle-btn" aria-label="Ganti Tema Aplikasi"
                        title="Ganti Tema">
                        <i class="fas fa-sun" aria-hidden="true"></i> <!-- Ikon akan berubah via JS -->
                    </button>
                    <button class="mobile-nav-toggle" id="mobile-nav-toggle-btn"
                        aria-label="Buka atau tutup navigasi mobile" aria-expanded="false"
                        aria-controls="app-nav-mobile">
                        <i class="fas fa-bars" aria-hidden="true"></i> <!-- Ikon berubah menjadi X saat aktif via JS -->
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigasi Mobile (tersembunyi secara default, dikontrol oleh JS) -->
        <nav class="app-nav-mobile" id="app-nav-mobile" aria-label="Navigasi Mobile" aria-hidden="true">
            <ul class="nav-list">
                <li class="nav-item"><a href="#/" class="nav-link" data-route="home">Beranda</a></li>
                <li class="nav-item"><a href="#/notifications" class="nav-link" data-route="notifications">Notifikasi
                        <span class="badge d-none" id="notif-badge-count-mobile">0</span></a></li>
                <li class="nav-item"><a href="#/features" class="nav-link" data-route="features">Fitur</a></li>
                <li class="nav-item"><a href="#/contact" class="nav-link" data-route="contact">Kontak</a></li>
            </ul>
        </nav>


        <!-- Konten Utama (Dinamis, diisi oleh JavaScript Router) -->
        <main id="main-content" class="main-content" aria-live="polite" role="main">
            <!-- Konten halaman akan dimuat di sini. Loader awal ada di bawah. -->
        </main>

        <!-- Footer Aplikasi -->
        <footer class="app-footer mt-auto" role="contentinfo">
            <div class="container">
                <p>¬© <span id="current-year"></span> ApartemenNotif. Semua hak cipta dilindungi.</p>
                <p>Dirancang dengan <i class="fas fa-heart text-danger" aria-hidden="true"></i> dan <i
                        class="fas fa-mug-hot text-accent" aria-hidden="true"></i> menggunakan Vanilla HTML, CSS, &
                    JavaScript.</p>
            </div>
        </footer>
    </div>

    <!-- Loader Awal Aplikasi (Full Screen) -->
    <div class="initial-loader" id="initial-app-loader" aria-hidden="false" aria-label="Memuat aplikasi">
        <div class="loader" role="status" aria-live="assertive">
            <span class="sr-only">Memuat...</span>
        </div>
        <p class="mt-4 text-muted fs-lg">Memuat Aplikasi ApartemenNotif...</p>
    </div>

    <!-- Template untuk Item Notifikasi (Digunakan oleh JavaScript untuk Render Dinamis) -->
    <template id="notification-item-template">
        <div class="notification-item" role="listitem"> <!-- Tambahkan role listitem -->
            <div class="icon-wrapper" aria-hidden="true">
                <i class=""></i> <!-- Kelas ikon dan warna diisi JS -->
            </div>
            <div class="content">
                <h5 class="card-title"></h5>
                <p class="card-text-message"></p> <!-- Ganti kelas agar tidak bentrok dengan utilitas .card-text -->
                <div class="meta">
                    <span class="timestamp"></span> | <span class="category"></span>
                </div>
            </div>
            <div class="actions">
                <button class="btn btn-sm btn-icon-only btn-outline-primary mark-as-read"
                    title="Tandai sebagai sudah dibaca">
                    <i class="fas fa-check"></i>
                    <span class="sr-only">Tandai sebagai sudah dibaca</span>
                </button>
                <button class="btn btn-sm btn-icon-only btn-danger delete-notification" title="Hapus notifikasi">
                    <i class="fas fa-trash-alt"></i>
                    <span class="sr-only">Hapus notifikasi</span>
                </button>
            </div>
        </div>
    </template>


    <script>
        // Melakukan scope untuk menghindari polusi global dan mengaktifkan strict mode.
        // Paradigma: Modular, Event-Driven.
        // Prinsip: Single Responsibility (untuk manajer/modul), DRY.
        (function () {
            'use strict';

            //=============================================
            //========= STATE APLIKASI & KONFIGURASI ======
            // Layer: Data & State Management
            // Hirarki: AppState sebagai state global terpusat.
            //=============================================
            const AppState = {
                currentTheme: localStorage.getItem('apartemenNotifTheme') || 'light', // Preferensi tema dari localStorage
                activeRoute: '', // Rute yang sedang aktif
                notifications: [ // Contoh data notifikasi awal, di aplikasi nyata ini dari API
                    { id: 1, title: 'Pembaruan Kebijakan Privasi', message: 'Kami telah memperbarui kebijakan privasi kami. Mohon tinjau perubahan tersebut untuk memahami hak dan kewajiban Anda.', type: 'info', icon: 'fas fa-info-circle', timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000), category: 'Umum', unread: true },
                    { id: 2, title: 'Pembayaran Tagihan Berhasil', message: 'Pembayaran tagihan bulan Juli Anda sebesar Rp2.500.000 telah berhasil kami proses. Terima kasih.', type: 'success', icon: 'fas fa-check-circle', timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000), category: 'Keuangan', unread: false },
                    { id: 3, title: 'Perbaikan Lift Terjadwal', message: 'Lift di lobi utama akan dalam perbaikan pada tanggal 15 Juli pukul 10:00 - 14:00. Mohon gunakan lift alternatif.', type: 'warning', icon: 'fas fa-triangle-exclamation', timestamp: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000), category: 'Pemeliharaan', unread: true },
                    { id: 4, title: 'Laporan Keamanan Mendesak', message: 'Terdeteksi aktivitas mencurigakan di area parkir P2. Keamanan sedang melakukan patroli. Harap waspada.', type: 'danger', icon: 'fas fa-shield-alt', timestamp: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000), category: 'Keamanan', unread: false },
                    { id: 5, title: 'Acara Komunitas: Malam Keakraban', message: 'Jangan lewatkan malam keakraban penghuni pada hari Sabtu, 20 Juli di aula serbaguna. Ada doorprize menarik!', type: 'info', icon: 'fas fa-calendar-alt', timestamp: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000), category: 'Acara', unread: false },
                ],
                nextNotificationId: 6, // Untuk ID notifikasi baru
                currentNotificationFilter: 'all', // Filter notifikasi saat ini
                currentNotificationCategory: 'all', // Filter kategori saat ini
            };

            //=============================================
            //========= ELEMEN DOM YANG SERING DIGUNAKAN ==
            // Layer: Akses DOM (Caching elemen untuk performa)
            //=============================================
            const DOM = {
                html: document.documentElement,
                body: document.body,
                appShell: document.getElementById('app-shell'),
                header: document.querySelector('.app-header'),
                mainContent: document.getElementById('main-content'),
                themeToggleButton: document.getElementById('theme-toggle-btn'),
                mobileNavToggleBtn: document.getElementById('mobile-nav-toggle-btn'),
                mobileNavMenu: document.getElementById('app-nav-mobile'),
                allNavLinks: document.querySelectorAll('.nav-link'), // Termasuk di nav desktop & mobile
                currentYearSpan: document.getElementById('current-year'),
                initialAppLoader: document.getElementById('initial-app-loader'),
                notifBadgeCount: document.getElementById('notif-badge-count'),
                notifBadgeCountMobile: document.getElementById('notif-badge-count-mobile'),
                notificationItemTemplate: document.getElementById('notification-item-template'),
            };

            //=============================================
            //========= FUNGSI UTILITAS ===================
            // Layer: Utilities (Fungsi pembantu umum)
            //=============================================
            const Utils = {
                /**
                 * Debounce: Menunda eksekusi fungsi hingga setelah `delay` milidetik tidak ada pemanggilan baru.
                 * Berguna untuk event seperti resize atau input.
                 * @param {Function} func - Fungsi yang akan di-debounce.
                 * @param {number} delay - Waktu tunda dalam milidetik.
                 * @returns {Function} Fungsi yang sudah di-debounce.
                 */
                debounce: function (func, delay) {
                    let timeout;
                    return function (...args) {
                        clearTimeout(timeout);
                        timeout = setTimeout(() => func.apply(this, args), delay);
                    };
                },

                /**
                 * EscapeHTML: Mengamankan string dari potensi XSS dengan mengganti karakter khusus HTML.
                 * @param {string | null | undefined} str - String yang akan di-escape.
                 * @returns {string} String yang aman untuk ditampilkan di HTML.
                 */
                escapeHTML: function (str) {
                    if (str === null || typeof str === 'undefined') return '';
                    return String(str).replace(/[&<>"']/g, function (match) {
                        return {
                            '&': '&amp;',
                            '<': '&lt;',
                            '>': '&gt;',
                            '"': '&quot;',
                            "'": '&#39;' // atau &apos;
                        }[match];
                    });
                },

                /**
                 * TimeAgo: Mengonversi objek Date menjadi format waktu relatif (misal: "2 jam lalu").
                 * @param {Date} date - Objek Date yang akan diformat.
                 * @returns {string} String representasi waktu relatif.
                 */
                timeAgo: function (date) {
                    const now = new Date();
                    const seconds = Math.round((now - date) / 1000);
                    const minutes = Math.round(seconds / 60);
                    const hours = Math.round(minutes / 60);
                    const days = Math.round(hours / 24);
                    const weeks = Math.round(days / 7);
                    const months = Math.round(days / 30.44); // Rata-rata hari per bulan
                    const years = Math.round(days / 365.25); // Akuntansi tahun kabisat

                    if (seconds < 5) return 'baru saja';
                    if (seconds < 60) return `${seconds} detik lalu`;
                    if (minutes < 60) return `${minutes} menit lalu`;
                    if (hours < 24) return `${hours} jam lalu`;
                    if (days < 7) return `${days} hari lalu`;
                    if (weeks < 5) return `${weeks} minggu lalu`; // Hingga 4 minggu
                    if (months < 12) return `${months} bulan lalu`;
                    return `${years} tahun lalu`;
                },

                /**
                 * GenerateUUID: Membuat ID unik sederhana (bukan UUID standar, tapi cukup untuk demo).
                 * @returns {string} ID unik.
                 */
                generateSimpleId: function () {
                    return Math.random().toString(36).substring(2, 9);
                }
            };

            //=============================================
            //========= MANAJEMEN TEMA ====================
            // Layer: Presentasi (Mengelola tampilan tema gelap/terang)
            //=============================================
            const ThemeManager = {
                init: function () {
                    this.applyTheme(AppState.currentTheme); // Terapkan tema awal dari state
                    DOM.themeToggleButton.addEventListener('click', () => this.toggleTheme());
                    // Pastikan ikon di tombol tema sesuai dengan state awal
                    this._updateThemeButtonIcon(AppState.currentTheme);
                },

                applyTheme: function (theme) {
                    DOM.html.setAttribute('data-theme', theme);
                    AppState.currentTheme = theme; // Update state aplikasi
                    localStorage.setItem('apartemenNotifTheme', theme); // Simpan preferensi tema
                    this._updateThemeButtonIcon(theme); // Update ikon tombol tema
                },

                toggleTheme: function () {
                    const newTheme = AppState.currentTheme === 'light' ? 'dark' : 'light';
                    this.applyTheme(newTheme);
                    // Beri feedback ke pengguna (opsional, bisa dengan toast)
                    // console.log(`Tema diubah ke: ${newTheme}`);
                },

                _updateThemeButtonIcon: function (theme) {
                    const iconElement = DOM.themeToggleButton.querySelector('i');
                    if (iconElement) {
                        if (theme === 'dark') {
                            iconElement.classList.remove('fa-sun');
                            iconElement.classList.add('fa-moon');
                            DOM.themeToggleButton.setAttribute('aria-label', 'Ganti ke Tema Terang');
                            DOM.themeToggleButton.title = 'Ganti ke Tema Terang';
                        } else {
                            iconElement.classList.remove('fa-moon');
                            iconElement.classList.add('fa-sun');
                            DOM.themeToggleButton.setAttribute('aria-label', 'Ganti ke Tema Gelap');
                            DOM.themeToggleButton.title = 'Ganti ke Tema Gelap';
                        }
                    }
                }
            };

            //=============================================
            //========= MANAJEMEN NAVIGASI MOBILE =========
            // Layer: Interaksi (Mengelola navigasi di perangkat mobile)
            //=============================================
            const MobileNavManager = {
                init: function () {
                    DOM.mobileNavToggleBtn.addEventListener('click', () => this.toggleNav());
                    // Tutup nav mobile jika salah satu link di dalamnya diklik
                    DOM.mobileNavMenu.querySelectorAll('.nav-link').forEach(link => {
                        link.addEventListener('click', () => {
                            if (DOM.mobileNavMenu.classList.contains('active')) {
                                this.closeNav(); // Gunakan fungsi closeNav yang lebih spesifik
                            }
                        });
                    });
                },

                toggleNav: function () {
                    const isActive = DOM.mobileNavMenu.classList.toggle('active');
                    DOM.mobileNavToggleBtn.setAttribute('aria-expanded', isActive.toString());
                    DOM.mobileNavMenu.setAttribute('aria-hidden', (!isActive).toString());
                    const iconElement = DOM.mobileNavToggleBtn.querySelector('i');
                    if (iconElement) {
                        if (isActive) {
                            iconElement.classList.remove('fa-bars');
                            iconElement.classList.add('fa-times');
                            DOM.mobileNavToggleBtn.setAttribute('aria-label', 'Tutup navigasi mobile');
                        } else {
                            iconElement.classList.remove('fa-times');
                            iconElement.classList.add('fa-bars');
                            DOM.mobileNavToggleBtn.setAttribute('aria-label', 'Buka navigasi mobile');
                        }
                    }
                },

                closeNav: function () { // Fungsi terpisah untuk menutup navigasi
                    DOM.mobileNavMenu.classList.remove('active');
                    DOM.mobileNavToggleBtn.setAttribute('aria-expanded', 'false');
                    DOM.mobileNavMenu.setAttribute('aria-hidden', 'true');
                    const iconElement = DOM.mobileNavToggleBtn.querySelector('i');
                    if (iconElement) {
                        iconElement.classList.remove('fa-times');
                        iconElement.classList.add('fa-bars');
                        DOM.mobileNavToggleBtn.setAttribute('aria-label', 'Buka navigasi mobile');
                    }
                }
            };

            //=============================================
            //========= MANAJEMEN NOTIFIKASI ==============
            // Layer: Logika Aplikasi (Mengelola data dan tampilan notifikasi)
            //=============================================
            const NotificationManager = {
                init: function () {
                    this.updateUnreadCountBadge(); // Inisialisasi hitungan badge
                },

                updateUnreadCountBadge: function () {
                    const unreadCount = AppState.notifications.filter(n => n.unread).length;
                    const badges = [DOM.notifBadgeCount, DOM.notifBadgeCountMobile];

                    badges.forEach(badge => {
                        if (badge) {
                            if (unreadCount > 0) {
                                badge.textContent = unreadCount > 99 ? '99+' : unreadCount.toString();
                                badge.classList.remove('d-none');
                            } else {
                                badge.classList.add('d-none');
                            }
                        }
                    });
                },

                markAsRead: function (notificationId) {
                    const notification = AppState.notifications.find(n => n.id === notificationId);
                    if (notification && notification.unread) {
                        notification.unread = false;
                        this.updateUnreadCountBadge();
                        // Jika halaman notifikasi sedang aktif, render ulang daftar notifikasi
                        if (AppState.activeRoute === 'notifications') {
                            PageRenderer.notifications();
                        }
                        // Beri feedback (opsional)
                        // Utils.showToast('Notifikasi ditandai sudah dibaca.', 'success');
                    }
                },

                deleteNotification: function (notificationId) {
                    AppState.notifications = AppState.notifications.filter(n => n.id !== notificationId);
                    this.updateUnreadCountBadge();
                    if (AppState.activeRoute === 'notifications') {
                        PageRenderer.notifications();
                    }
                    // Beri feedback (opsional)
                    // Utils.showToast('Notifikasi dihapus.', 'info');
                },

                addSampleNotification: function () {
                    const sampleTitles = [
                        "Peringatan Keamanan: Pintu Gerbang Depan",
                        "Tagihan Air Bulan Ini Telah Terbit",
                        "Pesta Barbekyu Komunitas Akhir Pekan",
                        "Pemadaman Listrik Terjadwal Wilayah Anda",
                        "Paket Baru Telah Tiba di Resepsionis"
                    ];
                    const sampleMessages = [
                        "Pintu gerbang depan dilaporkan terbuka pada pukul 02:30. Tim keamanan telah dikirim untuk pemeriksaan.",
                        "Tagihan air Anda untuk periode ini sebesar Rp150.000 sudah tersedia di portal pembayaran.",
                        "Mari bergabung dalam pesta barbekyu komunitas pada hari Sabtu ini pukul 18:00 di area taman.",
                        "Akan ada pemadaman listrik terjadwal pada hari Rabu, 17 Juli dari pukul 13:00 hingga 15:00 untuk pemeliharaan jaringan.",
                        "Paket atas nama Anda telah diterima oleh resepsionis. Silakan ambil sebelum pukul 20:00."
                    ];
                    const types = ['danger', 'info', 'info', 'warning', 'success'];
                    const icons = ['fas fa-shield-virus', 'fas fa-file-invoice-dollar', 'fas fa-users', 'fas fa-bolt', 'fas fa-box-open'];
                    const categories = ['Keamanan', 'Keuangan', 'Acara', 'Pemeliharaan', 'Umum'];

                    const randomIndex = Math.floor(Math.random() * sampleTitles.length);
                    const newNotif = {
                        id: AppState.nextNotificationId++,
                        title: sampleTitles[randomIndex],
                        message: sampleMessages[randomIndex],
                        type: types[randomIndex],
                        icon: icons[randomIndex],
                        timestamp: new Date(),
                        category: categories[randomIndex],
                        unread: true
                    };
                    AppState.notifications.unshift(newNotif); // Tambah ke awal array agar muncul di atas
                    this.updateUnreadCountBadge();
                    if (AppState.activeRoute === 'notifications') {
                        PageRenderer.notifications(); // Render ulang jika di halaman notifikasi
                    }
                    // Utils.showToast(`Notifikasi baru ditambahkan: "${newNotif.title}"`, 'info');
                },

                getFilteredNotifications: function () {
                    return AppState.notifications.filter(n => {
                        const filterMatch = (AppState.currentNotificationFilter === 'all') ||
                            (AppState.currentNotificationFilter === 'unread' && n.unread) ||
                            (AppState.currentNotificationFilter === 'read' && !n.unread);
                        const categoryMatch = (AppState.currentNotificationCategory === 'all') ||
                            (n.category === AppState.currentNotificationCategory);
                        return filterMatch && categoryMatch;
                    }).sort((a, b) => b.timestamp - a.timestamp); // Urutkan dari terbaru
                }
            };

            //=============================================
            //========= RENDERER HALAMAN ==================
            // Layer: Presentasi (Bertanggung jawab membuat HTML untuk setiap halaman)
            //=============================================
            const PageRenderer = {
                _showLoader: function () {
                    DOM.mainContent.innerHTML = `
                    <div class="loader-container" role="status" aria-live="polite">
                        <div class="loader">
                            <span class="sr-only">Memuat konten...</span>
                        </div>
                        <p class="mt-2 text-muted">Memuat konten halaman...</p>
                    </div>`;
                    DOM.mainContent.style.opacity = '0.5'; // Efek visual loading
                },

                _hideLoader: function () {
                    // Konten baru akan menggantikan loader, jadi cukup reset opacity
                    DOM.mainContent.style.opacity = '1';
                },

                _renderPageStructure: function (pageTitle, contentHTML, pageSpecificId = '') {
                    document.title = `${pageTitle} | ApartemenNotif`; // Update judul tab browser
                    const pageContainerId = pageSpecificId ? ` id="${Utils.escapeHTML(pageSpecificId)}"` : '';
                    DOM.mainContent.innerHTML = `<div class="page-container container"${pageContainerId}>${contentHTML}</div>`;
                    this._hideLoader(); // Sembunyikan loader setelah konten dirender
                    window.scrollTo(0, 0); // Selalu scroll ke atas halaman saat navigasi
                    // Umumkan perubahan halaman ke screen reader (jika judul berubah signifikan)
                    // DOM.mainContent.setAttribute('aria-label', `Konten halaman ${pageTitle} dimuat`);
                },

                home: function () {
                    const content = `
                    <section class="hero-section">
                        <h1>Selamat Datang di Apartemen<span class="logo-highlight">Notif</span></h1>
                        <p class="mb-6">Pusat notifikasi terpadu untuk semua kebutuhan informasi rental apartemen Anda. Jangan lewatkan pembaruan penting!</p>
                        <a href="#/notifications" class="btn btn-primary btn-lg">Lihat Notifikasi <i class="fas fa-bell"></i></a>
                    </section>
                    <section class="py-8">
                        <h2 class="text-center mb-6">Mengapa Memilih Kami?</h2>
                        <div class="grid grid-cols-1 md-grid-cols-3 gap-6">
                            <div class="card">
                                <div class="card-header"><h3 class="card-title text-center"><i class="fas fa-tachometer-alt text-primary mr-2"></i> Real-time Update</h3></div>
                                <div class="card-body">
                                    <p class="text-center text-muted">Dapatkan notifikasi instan untuk pengumuman, tagihan, dan acara komunitas penting lainnya.</p>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header"><h3 class="card-title text-center"><i class="fas fa-mobile-alt text-secondary mr-2"></i> Akses Mudah</h3></div>
                                <div class="card-body">
                                    <p class="text-center text-muted">Akses dari perangkat mana saja, kapan saja. Desain responsif untuk kenyamanan maksimal Anda.</p>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header"><h3 class="card-title text-center"><i class="fas fa-shield-alt text-accent mr-2"></i> Aman & Terpercaya</h3></div>
                                <div class="card-body">
                                    <p class="text-center text-muted">Informasi Anda aman bersama kami. Kami memprioritaskan privasi dan keamanan data pengguna.</p>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section class="py-8 bg-color-alt">
                         <div class="container text-center">
                             <h2 class="mb-4">Siap Memulai?</h2>
                             <p class="text-muted mb-6">Lihat notifikasi terbaru Anda atau pelajari lebih lanjut tentang fitur kami.</p>
                             <div class="d-flex justify-center gap-4">
                                 <a href="#/features" class="btn btn-secondary">Pelajari Fitur</a>
                                 <button id="addSampleNotificationHomeBtn" class="btn btn-outline-primary">Tambah Notifikasi Contoh</button>
                             </div>
                         </div>
                    </section>
                `;
                    this._renderPageStructure('Beranda', content, 'page-home');
                    document.getElementById('addSampleNotificationHomeBtn')?.addEventListener('click', () => NotificationManager.addSampleNotification());
                },

                notifications: function () {
                    this._showLoader(); // Tampilkan loader sebelum memproses data notifikasi

                    const filteredNotifications = NotificationManager.getFilteredNotifications();
                    let notificationsHTML = `
                    <div class="d-flex justify-between align-center mb-4">
                        <div>
                            <h1 class="mb-1">Notifikasi Anda</h1>
                            <p class="text-muted fs-sm">Kelola semua pemberitahuan penting Anda di satu tempat.</p>
                        </div>
                        <button id="addSampleNotificationPageBtn" class="btn btn-sm btn-primary"><i class="fas fa-plus mr-1"></i> Tambah Contoh</button>
                    </div>
                    
                    <div class="card mb-6">
                        <div class="card-body notification-filters">
                            <div class="form-group mb-0 mr-3">
                                <label for="filter-type" class="form-label fs-xs fw-medium">Filter Status:</label>
                                <select id="filter-type" class="form-control form-control-sm" style="width: auto; min-width: 150px;">
                                    <option value="all" ${AppState.currentNotificationFilter === 'all' ? 'selected' : ''}>Semua</option>
                                    <option value="unread" ${AppState.currentNotificationFilter === 'unread' ? 'selected' : ''}>Belum Dibaca</option>
                                    <option value="read" ${AppState.currentNotificationFilter === 'read' ? 'selected' : ''}>Sudah Dibaca</option>
                                </select>
                            </div>
                            <div class="form-group mb-0">
                                <label for="filter-category" class="form-label fs-xs fw-medium">Filter Kategori:</label>
                                <select id="filter-category" class="form-control form-control-sm" style="width: auto; min-width: 150px;">
                                    <option value="all" ${AppState.currentNotificationCategory === 'all' ? 'selected' : ''}>Semua Kategori</option>
                                    <option value="Umum" ${AppState.currentNotificationCategory === 'Umum' ? 'selected' : ''}>Umum</option>
                                    <option value="Keuangan" ${AppState.currentNotificationCategory === 'Keuangan' ? 'selected' : ''}>Keuangan</option>
                                    <option value="Pemeliharaan" ${AppState.currentNotificationCategory === 'Pemeliharaan' ? 'selected' : ''}>Pemeliharaan</option>
                                    <option value="Keamanan" ${AppState.currentNotificationCategory === 'Keamanan' ? 'selected' : ''}>Keamanan</option>
                                    <option value="Acara" ${AppState.currentNotificationCategory === 'Acara' ? 'selected' : ''}>Acara</option>
                                </select>
                            </div>
                        </div>
                    </div>
                `;

                    if (filteredNotifications.length === 0) {
                        notificationsHTML += `
                        <div class="card text-center py-6">
                            <i class="fas fa-bell-slash fa-3x text-muted mb-4"></i>
                            <h3 class="text-muted">Tidak ada notifikasi</h3>
                            <p class="text-subtle">Saat ini tidak ada notifikasi yang sesuai dengan filter Anda.</p>
                        </div>`;
                    } else {
                        notificationsHTML += '<div id="notification-list-container" role="list">'; // Tambahkan role list
                        filteredNotifications.forEach(notif => {
                            const templateContent = DOM.notificationItemTemplate.content.cloneNode(true);
                            const notifElement = templateContent.querySelector('.notification-item');

                            notifElement.dataset.id = notif.id; // Simpan ID notifikasi
                            if (notif.unread) {
                                notifElement.classList.add('unread');
                            } else {
                                notifElement.classList.remove('unread'); // Pastikan kelas unread tidak ada jika sudah dibaca
                                const markReadBtn = notifElement.querySelector('.mark-as-read');
                                markReadBtn.innerHTML = '<i class="fas fa-envelope-open"></i>'; // Ubah ikon jika sudah dibaca
                                markReadBtn.title = "Tandai sebagai belum dibaca";
                                markReadBtn.querySelector('.sr-only').textContent = "Tandai sebagai belum dibaca";
                            }

                            const iconWrapper = notifElement.querySelector('.icon-wrapper');
                            iconWrapper.classList.add(`type-${notif.type}`);
                            iconWrapper.querySelector('i').className = `${Utils.escapeHTML(notif.icon)}`;

                            notifElement.querySelector('.card-title').textContent = Utils.escapeHTML(notif.title);
                            notifElement.querySelector('.card-text-message').textContent = Utils.escapeHTML(notif.message);
                            notifElement.querySelector('.timestamp').textContent = Utils.timeAgo(notif.timestamp);
                            notifElement.querySelector('.category').textContent = Utils.escapeHTML(notif.category);

                            // Tambahkan atribut aria-label yang deskriptif
                            const srSummary = `${notif.title}, kategori ${notif.category}, ${Utils.timeAgo(notif.timestamp)}. ${notif.unread ? 'Belum dibaca.' : 'Sudah dibaca.'}`;
                            notifElement.setAttribute('aria-label', srSummary);

                            notificationsHTML += notifElement.outerHTML; // Gunakan outerHTML untuk elemen utuh
                        });
                        notificationsHTML += '</div>';
                    }

                    this._renderPageStructure('Notifikasi', notificationsHTML, 'page-notifications');
                    this._attachNotificationPageListeners(); // Pasang event listener setelah render
                },

                _attachNotificationPageListeners: function () {
                    const notificationListContainer = document.getElementById('notification-list-container');

                    if (notificationListContainer) {
                        notificationListContainer.addEventListener('click', (event) => {
                            const targetButton = event.target.closest('button');
                            if (!targetButton) return;

                            const notificationItem = targetButton.closest('.notification-item');
                            if (!notificationItem) return;

                            const notificationId = parseInt(notificationItem.dataset.id, 10);

                            if (targetButton.classList.contains('mark-as-read')) {
                                NotificationManager.markAsRead(notificationId);
                            } else if (targetButton.classList.contains('delete-notification')) {
                                if (confirm('Apakah Anda yakin ingin menghapus notifikasi ini?')) {
                                    NotificationManager.deleteNotification(notificationId);
                                }
                            }
                        });
                    }

                    const filterTypeSelect = document.getElementById('filter-type');
                    const filterCategorySelect = document.getElementById('filter-category');

                    if (filterTypeSelect) {
                        filterTypeSelect.addEventListener('change', (e) => {
                            AppState.currentNotificationFilter = e.target.value;
                            PageRenderer.notifications(); // Render ulang dengan filter baru
                        });
                    }
                    if (filterCategorySelect) {
                        filterCategorySelect.addEventListener('change', (e) => {
                            AppState.currentNotificationCategory = e.target.value;
                            PageRenderer.notifications(); // Render ulang dengan filter baru
                        });
                    }
                    document.getElementById('addSampleNotificationPageBtn')?.addEventListener('click', () => NotificationManager.addSampleNotification());
                },

                features: function () {
                    const content = `
                    <div class="text-center">
                        <h1 class="mb-2">Fitur Unggulan ApartemenNotif</h1>
                        <p class="text-muted mb-6 fs-lg">Temukan berbagai fitur canggih yang dirancang untuk memudahkan pengelolaan notifikasi rental apartemen Anda.</p>
                    </div>
                    <div class="grid grid-cols-1 md-grid-cols-2 lg-grid-cols-3 gap-6 feature-list">
                        <div class="card">
                            <div class="card-header"><h3 class="card-title text-center"><i class="fas fa-bell text-primary mr-2"></i> Notifikasi Real-time</h3></div>
                            <div class="card-body">
                                <p class="text-center text-muted">Jangan pernah ketinggalan informasi penting lagi. Dapatkan pembaruan instan terkait tagihan, pengumuman, dan pemeliharaan langsung ke perangkat Anda.</p>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header"><h3 class="card-title text-center"><i class="fas fa-history text-secondary mr-2"></i> Riwayat Notifikasi Lengkap</h3></div>
                            <div class="card-body">
                                <p class="text-center text-muted">Akses arsip semua notifikasi Anda kapan saja. Mudah untuk mencari dan meninjau pemberitahuan sebelumnya jika diperlukan.</p>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header"><h3 class="card-title text-center"><i class="fas fa-filter text-accent mr-2"></i> Filter Kustom & Cerdas</h3></div>
                            <div class="card-body">
                                <p class="text-center text-muted">Saring notifikasi berdasarkan kategori (Keuangan, Pemeliharaan, Umum), status (dibaca/belum dibaca), atau tanggal untuk fokus pada yang paling relevan.</p>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header"><h3 class="card-title text-center"><i class="fas fa-palette text-info mr-2"></i> Tema Ganda (Terang & Gelap)</h3></div>
                            <div class="card-body">
                                <p class="text-center text-muted">Pilih antara tema terang yang bersih atau tema gelap yang nyaman di mata, sesuai preferensi visual Anda untuk pengalaman penggunaan terbaik.</p>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header"><h3 class="card-title text-center"><i class="fas fa-mobile-alt text-success mr-2"></i> Desain Responsif Penuh</h3></div>
                            <div class="card-body">
                                <p class="text-center text-muted">Nikmati pengalaman pengguna yang mulus dan konsisten di semua perangkat, baik Anda mengakses melalui desktop, tablet, maupun smartphone.</p>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header"><h3 class="card-title text-center"><i class="fas fa-headset text-danger mr-2"></i> Dukungan Prioritas Pengguna</h3></div>
                            <div class="card-body">
                                <p class="text-center text-muted">Tim dukungan kami siap membantu Anda dengan pertanyaan atau masalah apa pun yang mungkin Anda hadapi terkait penggunaan aplikasi.</p>
                            </div>
                        </div>
                    </div>
                `;
                    this._renderPageStructure('Fitur Aplikasi', content, 'page-features');
                },

                contact: function () {
                    const content = `
                    <div class="contact-form-container">
                        <div class="text-center">
                            <h1 class="mb-2">Hubungi Kami</h1>
                            <p class="text-muted mb-6 fs-lg">Punya pertanyaan, masukan, atau butuh bantuan? Kami senang mendengar dari Anda. Isi formulir di bawah ini.</p>
                        </div>
                        
                        <div id="alert-placeholder" class="mb-4"></div>

                        <form id="contact-form" class="card">
                            <div class="card-body">
                                <div class="form-group">
                                    <label for="contactName" class="form-label">Nama Lengkap Anda</label>
                                    <input type="text" id="contactName" name="name" class="form-control" placeholder="Masukkan nama lengkap" required aria-required="true">
                                </div>
                                <div class="form-group">
                                    <label for="contactEmail" class="form-label">Alamat Email Anda</label>
                                    <input type="email" id="contactEmail" name="email" class="form-control" placeholder="Contoh: nama@domain.com" required aria-required="true">
                                </div>
                                <div class="form-group">
                                    <label for="contactSubject" class="form-label">Subjek Pesan</label>
                                    <input type="text" id="contactSubject" name="subject" class="form-control" placeholder="Tuliskan subjek pesan Anda" required aria-required="true">
                                </div>
                                <div class="form-group">
                                    <label for="contactMessage" class="form-label">Isi Pesan</label>
                                    <textarea id="contactMessage" name="message" class="form-control" rows="5" placeholder="Tuliskan pesan, pertanyaan, atau masukan Anda di sini..." required aria-required="true"></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary btn-block btn-lg mt-4">Kirim Pesan <i class="fas fa-paper-plane ml-2"></i></button>
                            </div>
                        </form>
                    </div>
                `;
                    this._renderPageStructure('Hubungi Kami', content, 'page-contact');
                    this._attachContactFormListener(); // Pasang listener setelah form dirender
                },

                _attachContactFormListener: function () {
                    const form = document.getElementById('contact-form');
                    if (form) {
                        form.addEventListener('submit', function (event) {
                            event.preventDefault();
                            const alertPlaceholder = document.getElementById('alert-placeholder');
                            alertPlaceholder.innerHTML = ''; // Bersihkan alert sebelumnya

                            // Validasi input sederhana
                            const name = form.elements.contactName.value.trim();
                            const email = form.elements.contactEmail.value.trim();
                            const subject = form.elements.contactSubject.value.trim();
                            const message = form.elements.contactMessage.value.trim();
                            let isValid = true;
                            let errorMessage = '';

                            if (!name || !email || !subject || !message) {
                                isValid = false;
                                errorMessage = 'Semua field wajib diisi.';
                            } else if (!/^\S+@\S+\.\S+$/.test(email)) { // Validasi format email sederhana
                                isValid = false;
                                errorMessage = 'Format email tidak valid. Mohon periksa kembali.';
                            }

                            if (!isValid) {
                                alertPlaceholder.innerHTML = `<div class="alert alert-danger" role="alert"><i class="fas fa-times-circle mr-2"></i> ${Utils.escapeHTML(errorMessage)}</div>`;
                                return;
                            }

                            // Simulasi pengiriman (di aplikasi nyata, ini akan menjadi AJAX call ke server)
                            const submitButton = form.querySelector('button[type="submit"]');
                            const originalButtonHTML = submitButton.innerHTML; // Simpan HTML asli tombol
                            submitButton.disabled = true;
                            submitButton.innerHTML = `<div class="loader" style="width:20px;height:20px;border-width:3px; border-top-color:white; display:inline-block; margin-right: 8px;"></div> Mengirim...`;

                            setTimeout(() => { // Simulasi delay jaringan
                                // Tampilkan pesan sukses
                                alertPlaceholder.innerHTML = `<div class="alert alert-success" role="alert"><i class="fas fa-check-circle mr-2"></i> Pesan Anda telah berhasil terkirim! Kami akan segera menghubungi Anda.</div>`;
                                form.reset(); // Kosongkan form setelah berhasil
                                submitButton.disabled = false; // Aktifkan kembali tombol
                                submitButton.innerHTML = originalButtonHTML; // Kembalikan teks tombol
                            }, 1500); // Delay 1.5 detik
                        });
                    }
                },

                notFound: function () { // Halaman untuk rute yang tidak ditemukan
                    const content = `
                    <div class="text-center py-8">
                        <i class="fas fa-exclamation-triangle fa-5x text-warning mb-4"></i>
                        <h1 class="text-danger mb-2">404 - Halaman Tidak Ditemukan</h1>
                        <p class="text-muted fs-lg mb-6">Maaf, halaman yang Anda minta tidak dapat ditemukan di server kami.</p>
                        <a href="#/" class="btn btn-primary btn-lg">Kembali ke Beranda</a>
                    </div>
                `;
                    this._renderPageStructure('Halaman Tidak Ditemukan', content, 'page-notfound');
                }
            };

            //=============================================
            //========= ROUTER APLIKASI (SPA) =============
            // Layer: Navigasi (Mengelola perpindahan antar "halaman" dalam SPA)
            //=============================================
            const AppRouter = {
                routes: { // Definisi rute dan fungsi renderer halamannya
                    '/': PageRenderer.home.bind(PageRenderer),
                    '/notifications': PageRenderer.notifications.bind(PageRenderer),
                    '/features': PageRenderer.features.bind(PageRenderer),
                    '/contact': PageRenderer.contact.bind(PageRenderer)
                },

                init: function () {
                    // Listener untuk perubahan hash URL (navigasi SPA)
                    window.addEventListener('hashchange', () => this.handleRouteChange());
                    // Listener untuk load awal aplikasi
                    window.addEventListener('DOMContentLoaded', () => {
                        this.handleRouteChange(); // Tangani rute awal saat DOM siap
                        // Sembunyikan loader awal setelah konten pertama dimuat
                        if (DOM.initialAppLoader) {
                            DOM.initialAppLoader.style.opacity = '0';
                            // Hapus elemen loader dari DOM setelah transisi selesai untuk kebersihan
                            DOM.initialAppLoader.addEventListener('transitionend', () => {
                                if (DOM.initialAppLoader) DOM.initialAppLoader.remove();
                            }, { once: true });
                        }
                    });
                },

                handleRouteChange: function () {
                    const path = window.location.hash.slice(1) || '/'; // Ambil path dari hash, default ke '/' (Beranda)
                    AppState.activeRoute = path.split('/')[0] || 'home'; // Ambil segmen pertama sebagai nama rute
                    if (AppState.activeRoute === '') AppState.activeRoute = 'home'; // fallback jika path hanya '#'

                    PageRenderer._showLoader(); // Tampilkan loader global sebelum render halaman baru

                    // Memberikan sedikit delay untuk UX, agar loader terlihat dan browser sempat "bernapas"
                    setTimeout(() => {
                        if (this.routes[path]) {
                            this.routes[path](); // Panggil fungsi render yang sesuai
                        } else {
                            // Jika rute tidak ditemukan dalam definisi, tampilkan halaman 404
                            PageRenderer.notFound();
                            AppState.activeRoute = 'notFound'; // Set state untuk rute tidak ditemukan
                        }
                        this.updateActiveNavLink(); // Update style link navigasi yang aktif
                    }, 200); // Delay 200ms, bisa disesuaikan
                },

                updateActiveNavLink: function () {
                    DOM.allNavLinks.forEach(link => {
                        link.classList.remove('active'); // Hapus kelas aktif dari semua link
                        link.removeAttribute('aria-current'); // Hapus atribut aria-current
                        // Cocokkan data-route (atau href jika lebih sederhana) dengan AppState.activeRoute
                        const linkRoute = link.dataset.route;
                        if (linkRoute === AppState.activeRoute) {
                            link.classList.add('active');
                            link.setAttribute('aria-current', 'page'); // Tandai link aktif untuk aksesibilitas
                        }
                    });
                }
            };

            //=============================================
            //========= INISIALISASI APLIKASI =============
            // Fungsi utama untuk menjalankan semua modul dan setup awal
            //=============================================
            function initializeApp() {
                // Set tahun sekarang di footer secara dinamis
                if (DOM.currentYearSpan) {
                    DOM.currentYearSpan.textContent = new Date().getFullYear().toString();
                }

                ThemeManager.init();        // Inisialisasi manajemen tema
                MobileNavManager.init();    // Inisialisasi navigasi mobile
                NotificationManager.init(); // Inisialisasi manajemen notifikasi
                AppRouter.init();           // Inisialisasi router SPA

                // Log status aplikasi untuk debugging (opsional, bisa dihapus di production)
                console.info('Aplikasi Pusat Notifikasi ApartemenNotif v1.0.0 berhasil dimuat.');
                console.log('Tema saat ini:', AppState.currentTheme);
                console.log('Rute awal:', AppState.activeRoute || 'Beranda (default)');
            }

            // Mulai aplikasi ketika DOM (Document Object Model) sudah siap sepenuhnya.
            // Ini memastikan semua elemen HTML sudah ada sebelum JavaScript mencoba mengaksesnya.
            if (document.readyState === 'loading') { // Jika DOM masih loading
                document.addEventListener('DOMContentLoaded', initializeApp);
            } else { // Jika DOM sudah siap (misalnya, skrip diletakkan di akhir body)
                initializeApp();
            }

        })(); // Akhir dari IIFE (Immediately Invoked Function Expression)
    </script>
</body>

</html>