<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Valley LuxStay - Akomodasi Mewah</title>
    <meta name="description"
        content="Temukan akomodasi mewah dan nyaman di Green Valley LuxStay. Kualitas dan kenyamanan adalah prioritas kami.">
    <link rel="icon"
        href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAWFJREFUOE+NkkssPFFMhP9/80yqEFIRYaCIBzFUSGhQYjQh7cTEiMXGxifEgUQR0cRITPQBBO1BEPQBEFESUVQQNHgQEaU+jBAyYkKRnXl/88y9e7N9mp/LOfd7LgA1e5sF27W8fJ91x7A9+I1wYcW4+G9gBsFjYPgV/EVAMBAWzY4k9YbE7Yc0zG6FwHoklWf40iN8ZAL4yMyTE2AKgAABFma02g1tMEEQCg9z/D20F0wQGzZWQGucwDExZk8AswAPd56AJv9/E57903JALsFhYPgV/EVAMBAs2g1NGGIAWAIwns/+gVd54H1jIzAaxzAdTFnTwC/AMd7vwE2+3vKdV9NlQC7BYWD4FfxFQDAsqTKaW02mGGIARgC8N7PH9D1HkDfsjIDXOYBqIszbQK4BTje+w2w2d8r1301VQLsFhYPgV/EVAMBs/P/ANQ02g2tMUQAu83e/h25/gPcNjMDrHEG6mLO2gBeAV57vXvY7O8Vv3xVA4yqBnxTAdgA/Ls7M3k4f13uY2z/yP9Pz6bF64+G9gIAAAAASUVORK5CYII="
        type="image/png"> <!-- Contoh Favicon Sederhana -->

    <!-- Google Font Roboto -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <!-- Font tambahan untuk heading agar lebih fancy -->


    <style>
        /* 1. Arsitektur Antarmuka Pengguna: Variabel CSS Global */
        :root {
            --primary-color: #2E7D32;
            /* Warna hijau yang lebih elegan untuk Green Valley */
            --secondary-color: #1B5E20;
            /* Hijau lebih gelap untuk aksen dan teks penting */
            --accent-color: #FFB300;
            /* Amber yang lebih kaya untuk CTA dan highlight */
            --light-gray-color: #f9f9f9;
            /* Latar belakang yang sangat terang */
            --medium-gray-color: #e0e0e0;
            /* Untuk border atau separator halus */
            --dark-gray-color: #333333;
            /* Teks utama dan elemen gelap */
            --text-color: #424242;
            /* Teks konten umum */
            --card-bg: #ffffff;
            --font-family-main: 'Roboto', sans-serif;
            --font-family-headings: 'Playfair Display', serif;
            /* Font heading yang elegan */
            --shadow-soft: 0 4px 15px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 8px 25px rgba(0, 0, 0, 0.1);
            --border-radius-sm: 0.25rem;
            --border-radius-md: 0.5rem;
        }

        /* Reset Dasar dan Pengaturan Global */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
            /* Base font size */
        }

        body {
            font-family: var(--font-family-main);
            background-color: var(--light-gray-color);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Utilitas dasar */
        .container {
            width: 90%;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        .sticky-top {
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .shadow-sm {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .bg-white {
            background-color: #fff;
        }

        .py-4 {
            padding-top: 2rem;
            padding-bottom: 2rem;
        }

        .mb-4 {
            margin-bottom: 2rem;
        }

        .mt-4 {
            margin-top: 2rem;
        }

        .mt-5 {
            margin-top: 3rem;
        }

        .text-center {
            text-align: center;
        }

        .w-100 {
            width: 100%;
        }

        .me-2 {
            margin-right: 0.5rem;
        }

        /* Margin End */

        /* Tipografi */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: var(--font-family-headings);
            color: var(--secondary-color);
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 1rem;
        }

        h1 {
            font-size: 2.8rem;
        }

        h2 {
            font-size: 2.2rem;
        }

        h3 {
            font-size: 1.8rem;
        }

        p {
            margin-bottom: 1rem;
        }

        a {
            color: var(--primary-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: var(--accent-color);
            text-decoration: underline;
        }

        small {
            font-size: 0.85em;
        }

        /* Header & Navigasi */
        .site-header {
            background-color: var(--card-bg);
            box-shadow: var(--shadow-soft);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            /* Padding pada container navbar */
            min-height: 70px;
        }

        .navbar-brand {
            font-family: var(--font-family-headings);
            font-size: 1.75rem;
            color: var(--dark-gray-color);
            font-weight: 700;
        }

        .navbar-brand strong {
            color: var(--primary-color);
        }

        .navbar-toggler {
            display: none;
            /* Sembunyikan di desktop */
            background: none;
            border: 1px solid var(--medium-gray-color);
            padding: 0.5rem 0.75rem;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
        }

        .navbar-toggler-icon {
            display: block;
            width: 24px;
            height: 2px;
            background-color: var(--dark-gray-color);
            position: relative;
            transition: background-color 0.3s ease;
        }

        .navbar-toggler-icon::before,
        .navbar-toggler-icon::after {
            content: '';
            display: block;
            width: 24px;
            height: 2px;
            background-color: var(--dark-gray-color);
            position: absolute;
            left: 0;
            transition: transform 0.3s ease;
        }

        .navbar-toggler-icon::before {
            top: -7px;
        }

        .navbar-toggler-icon::after {
            top: 7px;
        }

        .navbar-toggler[aria-expanded="true"] .navbar-toggler-icon {
            background-color: transparent;
        }

        .navbar-toggler[aria-expanded="true"] .navbar-toggler-icon::before {
            transform: translateY(7px) rotate(45deg);
        }

        .navbar-toggler[aria-expanded="true"] .navbar-toggler-icon::after {
            transform: translateY(-7px) rotate(-45deg);
        }

        .navbar-menu {
            display: flex;
            align-items: center;
        }

        .navbar-nav {
            list-style: none;
            display: flex;
            margin-left: auto;
            /* Pindahkan ke kanan */
        }

        .nav-item {
            margin-left: 0.5rem;
        }

        .nav-link {
            color: var(--text-color);
            padding: 0.75rem 1rem;
            border-radius: var(--border-radius-sm);
            font-weight: 500;
            transition: color 0.3s ease, background-color 0.3s ease;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--primary-color);
            background-color: rgba(46, 125, 50, 0.08);
        }

        .nav-link.active {
            font-weight: 700;
        }

        .navbar-auth-buttons {
            margin-left: 1.5rem;
            /* Jarak dari nav links */
            display: flex;
            gap: 0.5rem;
        }


        /* Tombol */
        .btn {
            display: inline-block;
            font-family: var(--font-family-main);
            font-weight: 500;
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            user-select: none;
            background-color: transparent;
            border: 1px solid transparent;
            padding: 0.6rem 1.2rem;
            font-size: 0.95rem;
            line-height: 1.5;
            border-radius: var(--border-radius-sm);
            transition: all 0.3s ease;
        }

        .btn-sm {
            padding: 0.35rem 0.8rem;
            font-size: 0.85rem;
        }

        .btn-lg {
            padding: 0.8rem 1.8rem;
            font-size: 1.1rem;
        }

        .btn-primary {
            color: #fff;
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .btn-outline-secondary {
            color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .btn-outline-secondary:hover {
            color: #fff;
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .btn-cta {
            color: var(--dark-gray-color);
            background-color: var(--accent-color);
            border-color: var(--accent-color);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-cta:hover {
            background-color: #FFC107;
            /* Sedikit lebih terang dari accent-color */
            border-color: #FFC107;
            color: var(--dark-gray-color);
            transform: scale(1.05);
            box-shadow: var(--shadow-medium);
        }

        /* Konten Utama */
        #app-root {
            flex-grow: 1;
        }

        .page-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .page-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Grid System Sederhana dengan Flexbox */
        .row {
            display: flex;
            flex-wrap: wrap;
            margin-left: -0.75rem;
            /* Gutter Ausgleich */
            margin-right: -0.75rem;
        }

        .col,
        .col-md-2,
        .col-md-4,
        .col-md-5,
        .col-md-6,
        .col-md-8,
        .col-lg-4 {
            /* Definisi dasar, bisa disesuaikan */
            padding-left: 0.75rem;
            padding-right: 0.75rem;
            width: 100%;
            /* Default untuk mobile-first */
            margin-bottom: 1.5rem;
            /* Spasi antar item di kolom vertikal */
        }

        /* Komponen Kartu Properti */
        .apartment-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-soft);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .apartment-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-medium);
        }

        .card-img-top {
            width: 100%;
            height: 220px;
            object-fit: cover;
        }

        .card-body {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .card-title {
            font-size: 1.4rem;
            color: var(--secondary-color);
            margin-bottom: 0.5rem;
        }

        .card-text {
            font-size: 0.9rem;
            color: #555;
            flex-grow: 1;
            margin-bottom: 1rem;
        }

        .card-text.location {
            font-size: 0.85rem;
            color: var(--text-color);
            opacity: 0.8;
            margin-bottom: 0.75rem;
        }

        .card-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .price {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .rating {
            color: var(--accent-color);
            font-weight: 500;
        }

        .card-footer {
            padding: 1rem 1.5rem;
            background-color: transparent;
            border-top: 1px solid var(--medium-gray-color);
        }

        /* Formulir */
        .form-control,
        .form-select {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: var(--text-color);
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid var(--medium-gray-color);
            appearance: none;
            border-radius: var(--border-radius-sm);
            transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: var(--primary-color);
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(46, 125, 50, 0.25);
        }

        .form-label {
            margin-bottom: 0.5rem;
            display: inline-block;
            font-weight: 500;
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        /* Hero Section di Beranda */
        .hero-section {
            background-color: #e9f5e9;
            /* Warna hijau muda yang lembut */
            padding: 4rem 0;
            border-radius: var(--border-radius-md);
            text-align: center;
            margin-bottom: 3rem;
        }

        .hero-section h1 {
            font-size: 3rem;
            color: var(--secondary-color);
        }

        .hero-section p {
            font-size: 1.2rem;
            color: var(--text-color);
            max-width: 700px;
            margin: 1rem auto 2rem;
        }

        /* Halaman Detail Properti */
        .property-detail-img {
            width: 100%;
            max-height: 550px;
            object-fit: cover;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-medium);
            margin-bottom: 2rem;
        }

        .property-detail-location {
            font-size: 1.2rem;
            color: var(--text-color);
            opacity: 0.9;
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .property-detail-location .icon {
            margin-right: 0.5rem;
            color: var(--primary-color);
        }

        .facilities-list {
            list-style: none;
            padding-left: 0;
        }

        .facilities-list li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
        }

        .facilities-list .icon {
            color: var(--primary-color);
            margin-right: 0.75rem;
            font-size: 1.1em;
        }

        .booking-card {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-soft);
            position: sticky;
            /* Membuat kartu booking "mengikuti" saat scroll */
            top: 90px;
            /* Sesuaikan dengan tinggi header */
        }

        .booking-card .price {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        /* Placeholder Map */
        .map-placeholder {
            height: 350px;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            border-radius: var(--border-radius-md);
            margin-bottom: 1rem;
            border: 1px dashed var(--medium-gray-color);
            color: var(--text-color);
            font-style: italic;
        }

        /* Footer */
        .site-footer {
            background-color: var(--dark-gray-color);
            color: var(--light-gray-color);
            padding: 2.5rem 0;
            margin-top: auto;
            /* Dorong ke bawah */
            font-size: 0.9rem;
        }

        .site-footer a {
            color: var(--accent-color);
            font-weight: 500;
        }

        .site-footer a:hover {
            text-decoration: underline;
            color: #fff;
        }

        .site-footer p {
            margin-bottom: 0.5rem;
        }

        /* Modal (Vanilla JS) */
        .modal {
            display: none;
            /* Sembunyikan secara default */
            position: fixed;
            z-index: 1050;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
        }

        .modal.open {
            display: flex;
            /* Tampilkan saat kelas 'open' ditambahkan */
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--card-bg);
            margin: auto;
            padding: 2rem;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-medium);
            width: 90%;
            max-width: 500px;
            position: relative;
            animation: modal-fade-in 0.3s ease-out;
        }

        @keyframes modal-fade-in {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--medium-gray-color);
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }

        .modal-title {
            font-size: 1.5rem;
            margin-bottom: 0;
        }

        .btn-close {
            background: none;
            border: none;
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--text-color);
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            line-height: 1;
            opacity: 0.7;
        }

        .btn-close:hover {
            opacity: 1;
        }

        .modal-body p {
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        /* Responsivitas */
        @media (min-width: 768px) {

            /* Tablet dan lebih besar */
            .col-md-2 {
                flex: 0 0 16.666667%;
                max-width: 16.666667%;
            }

            .col-md-4 {
                flex: 0 0 33.333333%;
                max-width: 33.333333%;
            }

            .col-md-5 {
                flex: 0 0 41.666667%;
                max-width: 41.666667%;
            }

            .col-md-6 {
                flex: 0 0 50%;
                max-width: 50%;
            }

            .col-md-8 {
                flex: 0 0 66.666667%;
                max-width: 66.666667%;
            }

            .navbar-auth-buttons {
                margin-top: 0;
            }

            .hero-section h1 {
                font-size: 3.5rem;
            }

            .hero-section p {
                font-size: 1.3rem;
            }
        }

        @media (min-width: 992px) {

            /* Desktop */
            .col-lg-4 {
                flex: 0 0 33.333333%;
                max-width: 33.333333%;
            }

            .navbar-toggler {
                display: none;
            }

            .navbar-menu {
                display: flex !important;
                /* Override inline style dari JS */
            }

            .navbar-nav {
                flex-direction: row;
            }

            .nav-item {
                margin-left: 1rem;
                /* Jarak antar item nav di desktop */
            }

            .navbar-auth-buttons {
                margin-left: 2rem;
            }
        }

        @media (max-width: 991px) {

            /* Di bawah Desktop, menu akan ter-collapse */
            .navbar-toggler {
                display: block;
            }

            .navbar-menu {
                display: none;
                /* Sembunyikan default, JS akan handle */
                flex-direction: column;
                width: 100%;
                position: absolute;
                top: 100%;
                /* Di bawah header */
                left: 0;
                background-color: var(--card-bg);
                box-shadow: var(--shadow-soft);
                padding: 1rem 0;
            }

            .navbar-menu.open {
                display: flex;
            }

            .navbar-nav {
                flex-direction: column;
                width: 100%;
                align-items: stretch;
                /* Item nav memenuhi lebar */
            }

            .nav-item {
                margin-left: 0;
                width: 100%;
            }

            .nav-link {
                padding: 0.75rem 1.5rem;
                /* Padding di container */
                border-bottom: 1px solid var(--medium-gray-color);
            }

            .nav-item:last-child .nav-link {
                border-bottom: none;
            }

            .navbar-auth-buttons {
                margin-left: 0;
                padding: 1rem 1.5rem;
                /* Padding di container */
                flex-direction: column;
                gap: 0.75rem;
            }

            .navbar-auth-buttons .btn {
                width: 100%;
            }
        }
    </style>
</head>

<body>

    <!-- Header & Navigasi -->
    <header class="site-header sticky-top">
        <div class="container">
            <nav class="navbar">
                <a class="navbar-brand" href="#home">Green Valley <strong>LuxStay</strong></a>
                <button class="navbar-toggler" type="button" aria-label="Toggle navigation" aria-expanded="false"
                    aria-controls="navbarMenu">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-menu" id="navbarMenu">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link active" href="#home">Beranda</a></li>
                        <li class="nav-item"><a class="nav-link" href="#listings">Daftar Properti</a></li>
                        <li class="nav-item"><a class="nav-link" href="#about">Tentang Kami</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Kontak</a></li>
                    </ul>
                    <div class="navbar-auth-buttons">
                        <button class="btn btn-outline-secondary btn-sm" data-modal-target="loginModal">Login</button>
                        <button class="btn btn-primary btn-sm" data-modal-target="registerModal">Daftar</button>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- Konten Utama (SPA Target) -->
    <main id="app-root" class="container py-4">
        <!-- Konten akan dimuat di sini oleh JavaScript -->
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container text-center">
            <p>© <span id="currentYear"></span> Green Valley LuxStay. Semua hak dilindungi.</p>
            <p>Desain oleh Tim LuxStay | <a href="#privacy">Kebijakan Privasi</a> | <a href="#terms">Syarat &
                    Ketentuan</a></p>
        </div>
    </footer>

    <!-- === TEMPLATES UNTUK "HALAMAN" (Mirip SFC) === -->

    <!-- Template: Halaman Beranda -->
    <template id="home-page-template">
        <section id="home" class="page-content">
            <div class="hero-section">
                <div class="container">
                    <h1 class="display-5">Selamat Datang di Green Valley LuxStay</h1>
                    <p>Temukan akomodasi mewah dan nyaman untuk liburan atau perjalanan bisnis Anda. Kualitas dan
                        kenyamanan adalah prioritas kami.</p>
                    <a href="#listings" class="btn btn-cta btn-lg">Lihat Properti Unggulan</a>
                </div>
            </div>

            <h2 class="mb-4 text-center">Properti Pilihan Kami</h2>
            <div id="featured-listings" class="row">
                <!-- Kartu properti unggulan akan dimuat di sini -->
            </div>
            <div class="text-center mt-4">
                <a href="#listings" class="btn btn-primary">Lihat Semua Properti</a>
            </div>
        </section>
    </template>

    <!-- Template: Halaman Daftar Properti -->
    <template id="listings-page-template">
        <section id="listings" class="page-content">
            <h1 class="mb-4 text-center">Daftar Properti Kami</h1>
            <div class="row mb-4" style="align-items: flex-end;">
                <div class="col-md-5">
                    <label for="searchInput" class="form-label">Pencarian</label>
                    <input type="text" id="searchInput" class="form-control form-control-lg"
                        placeholder="Cari lokasi, nama, atau fasilitas...">
                </div>
                <div class="col-md-4">
                    <label for="propertyTypeSelect" class="form-label">Tipe Properti</label>
                    <select id="propertyTypeSelect" class="form-select form-select-lg">
                        <option selected value="">Semua Tipe</option>
                        <option value="Apartemen">Apartemen</option>
                        <option value="Villa">Villa</option>
                        <option value="Rumah">Rumah</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label for="searchButton" class="form-label" style="visibility:hidden">Aksi</label>
                    <!-- Label placeholder untuk alignment -->
                    <button id="searchButton" class="btn btn-primary btn-lg w-100">Cari</button>
                </div>
            </div>

            <div id="all-listings" class="row">
                <!-- Semua kartu properti akan dimuat di sini -->
            </div>
        </section>
    </template>

    <!-- Template: Komponen Kartu Properti -->
    <template id="apartment-card-template">
        <div class="col-md-6 col-lg-4">
            <article class="apartment-card">
                <img src="" class="card-img-top" alt="">
                <div class="card-body">
                    <h3 class="card-title">Nama Properti</h3>
                    <p class="card-text location">Lokasi</p>
                    <p class="card-text description">Deskripsi singkat.</p>
                    <div class="card-details">
                        <span class="price">Rp 0/malam</span>
                        <span class="rating">⭐ 0 (0 ulasan)</span>
                    </div>
                </div>
                <div class="card-footer">
                    <a href="#" class="btn btn-primary w-100 view-details-btn" data-id="">Lihat Detail</a>
                </div>
            </article>
        </div>
    </template>

    <!-- Template: Halaman Detail Properti -->
    <template id="property-detail-page-template">
        <section id="property-detail" class="page-content">
            <div class="row">
                <div class="col-md-8">
                    <img src="" class="property-detail-img" alt="Nama Properti">
                    <h1 class="mb-2 property-name">Nama Properti</h1>
                    <p class="property-detail-location">
                        <span class="icon">📍</span> <span class="location-text">Lokasi Properti</span>
                    </p>
                    <hr class="mb-4 mt-1">
                    <h3 class="mt-4">Deskripsi Lengkap</h3>
                    <p class="description-long">Deskripsi panjang properti...</p>

                    <h3 class="mt-4">Fasilitas Unggulan</h3>
                    <ul class="facilities-list">
                        <!-- Fasilitas akan diisi JS -->
                    </ul>
                </div>
                <div class="col-md-4">
                    <div class="booking-card">
                        <h3 class="price-detail">Rp 0/malam</h3>
                        <p class="rating-detail">⭐ 0 (0 ulasan)</p>
                        <hr>
                        <form id="bookingForm">
                            <div class="mb-3">
                                <label for="checkin" class="form-label">Tanggal Check-in</label>
                                <input type="date" class="form-control" id="checkin" required>
                            </div>
                            <div class="mb-3">
                                <label for="checkout" class="form-label">Tanggal Check-out</label>
                                <input type="date" class="form-control" id="checkout" required>
                            </div>
                            <div class="mb-3">
                                <label for="guests" class="form-label">Jumlah Tamu</label>
                                <select class="form-select" id="guests">
                                    <option value="1">1 Tamu</option>
                                    <option value="2" selected>2 Tamu</option>
                                    <option value="3">3 Tamu</option>
                                    <option value="4">4+ Tamu</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-cta w-100">Pesan Sekarang</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="mt-5">
                <h3>Lokasi pada Peta</h3>
                <div class="map-placeholder">Peta Interaktif Akan Ditampilkan Disini (Integrasi di masa depan)</div>
            </div>

            <div class="mt-5">
                <h3>Ulasan Pengguna (Contoh)</h3>
                <div class="card"> <!-- Menggunakan style kartu yang ada untuk konsistensi -->
                    <div class="card-body">
                        <p><strong>Andi B.</strong> - ⭐⭐⭐⭐⭐<br>"Tempatnya luar biasa! Sangat bersih dan nyaman.
                            Pelayanannya juga ramah. Pasti akan kembali lagi."</p>
                        <hr>
                        <p><strong>Citra L.</strong> - ⭐⭐⭐⭐<br>"Lokasi strategis, fasilitas lengkap. Sedikit bising di
                            malam hari karena dekat jalan raya, tapi secara keseluruhan memuaskan."</p>
                    </div>
                </div>
            </div>
            <div class="mt-4">
                <a href="#listings" class="btn btn-outline-secondary">← Kembali ke Daftar Properti</a>
            </div>
        </section>
    </template>

    <!-- Template: Halaman Tentang Kami -->
    <template id="about-page-template">
        <section id="about" class="page-content">
            <h1 class="mb-4 text-center">Tentang Green Valley LuxStay</h1>
            <div class="row" style="align-items: center;">
                <div class="col-md-6">
                    <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                        style="width:100%; border-radius: var(--border-radius-md); box-shadow: var(--shadow-medium);"
                        alt="Interior Mewah LuxStay">
                </div>
                <div class="col-md-6">
                    <p style="font-size: 1.1rem;">Green Valley LuxStay didirikan dengan misi untuk menyediakan
                        pengalaman menginap yang tak terlupakan. Kami percaya bahwa kenyamanan, kemewahan, dan pelayanan
                        prima adalah kunci utama kepuasan pelanggan.</p>
                    <p>Setiap properti yang kami kelola dipilih secara cermat dan dirancang untuk memenuhi standar
                        tertinggi. Mulai dari apartemen modern di pusat kota hingga villa mewah dengan pemandangan
                        menakjubkan, kami memiliki pilihan untuk setiap kebutuhan.</p>
                    <h3 class="mt-4">Visi Kami</h3>
                    <p>Menjadi platform penyedia akomodasi mewah terdepan yang mengutamakan kualitas, inovasi, dan
                        kepuasan pelanggan secara global.</p>
                    <h3 class="mt-4">Misi Kami</h3>
                    <ul style="list-style-position: inside; padding-left: 0.5rem;">
                        <li>✔️ Menyediakan pilihan akomodasi berkualitas tinggi dengan standar internasional.</li>
                        <li>✔️ Memberikan pelayanan pelanggan yang responsif, personal, dan profesional.</li>
                        <li>✔️ Menggunakan teknologi terkini untuk mempermudah proses pencarian dan pemesanan.</li>
                        <li>✔️ Berkontribusi aktif pada pariwisata lokal yang berkelanjutan dan bertanggung jawab.</li>
                    </ul>
                </div>
            </div>
        </section>
    </template>

    <!-- Template: Halaman Kontak -->
    <template id="contact-page-template">
        <section id="contact" class="page-content">
            <h1 class="mb-4 text-center">Hubungi Kami</h1>
            <div class="row">
                <div class="col-md-7">
                    <p>Kami senang mendengar dari Anda! Silakan gunakan formulir di bawah ini atau informasi kontak yang
                        tersedia untuk menghubungi tim Green Valley LuxStay. Kami akan merespons secepatnya.</p>
                    <form id="contactForm">
                        <div class="mb-3">
                            <label for="contactName" class="form-label">Nama Lengkap Anda</label>
                            <input type="text" class="form-control" id="contactName" required
                                placeholder="Contoh: Budi Santoso">
                        </div>
                        <div class="mb-3">
                            <label for="contactEmail" class="form-label">Alamat Email Aktif</label>
                            <input type="email" class="form-control" id="contactEmail" required
                                placeholder="Contoh: budi.s@example.com">
                        </div>
                        <div class="mb-3">
                            <label for="contactSubject" class="form-label">Subjek Pesan</label>
                            <input type="text" class="form-control" id="contactSubject" required
                                placeholder="Contoh: Pertanyaan Mengenai Pemesanan">
                        </div>
                        <div class="mb-3">
                            <label for="contactMessage" class="form-label">Pesan Anda</label>
                            <textarea class="form-control" id="contactMessage" rows="6" required
                                placeholder="Tuliskan detail pertanyaan atau pesan Anda di sini..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-cta btn-lg">Kirim Pesan Sekarang</button>
                    </form>
                </div>
                <div class="col-md-5">
                    <h4>Detail Informasi Kontak</h4>
                    <p><strong>📍 Alamat Kantor Pusat:</strong><br>Jl. Lembah Impian No. 123, Kota Harmoni, ID 45678,
                        Nusantara</p>
                    <p><strong>📞 Telepon Layanan:</strong><br><a href="tel:+622112345678">+62 21 1234 5678</a> (Layanan
                        Pelanggan)</p>
                    <p><strong>📧 Email Resmi:</strong><br><a
                            href="mailto:info@greenvalleyluxstay.com">info@greenvalleyluxstay.com</a></p>
                    <h4 class="mt-4">Jam Operasional Layanan</h4>
                    <p>Senin - Jumat: 08:00 - 18:00 WIB<br>Sabtu: 09:00 - 15:00 WIB<br>Minggu & Hari Libur Nasional:
                        Tutup (Email tetap dimonitor)</p>
                    <h4 class="mt-4">Peta Lokasi Kantor (Contoh)</h4>
                    <div class="map-placeholder">Kantor Pusat Green Valley LuxStay (Area Peta)</div>
                </div>
            </div>
        </section>
    </template>

    <!-- Modal Login -->
    <div class="modal" id="loginModal" aria-labelledby="loginModalLabel" aria-hidden="true" role="dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="loginModalLabel">Login Pengguna</h2>
                <button type="button" class="btn-close" data-modal-dismiss aria-label="Tutup">×</button>
            </div>
            <div class="modal-body">
                <p>Fitur autentikasi pengguna akan segera hadir. Untuk saat ini, silakan lanjutkan sebagai tamu atau
                    jelajahi properti kami.</p>
                <form>
                    <div class="mb-3">
                        <label for="loginEmail" class="form-label">Email</label>
                        <input type="email" class="form-control" id="loginEmail" disabled
                            placeholder="segerahadir@example.com">
                    </div>
                    <div class="mb-3">
                        <label for="loginPassword" class="form-label">Password</label>
                        <input type="password" class="form-control" id="loginPassword" disabled placeholder="********">
                    </div>
                    <button type="submit" class="btn btn-primary w-100" disabled>Login</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Register -->
    <div class="modal" id="registerModal" aria-labelledby="registerModalLabel" aria-hidden="true" role="dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="registerModalLabel">Daftar Akun Baru</h2>
                <button type="button" class="btn-close" data-modal-dismiss aria-label="Tutup">×</button>
            </div>
            <div class="modal-body">
                <p>Fitur pendaftaran pengguna akan segera hadir. Nantikan pembaruan dari kami untuk menikmati fitur
                    personalisasi!</p>
                <form>
                    <div class="mb-3">
                        <label for="registerName" class="form-label">Nama Lengkap</label>
                        <input type="text" class="form-control" id="registerName" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="registerEmail" class="form-label">Email</label>
                        <input type="email" class="form-control" id="registerEmail" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="registerPassword" class="form-label">Password</label>
                        <input type="password" class="form-control" id="registerPassword" disabled>
                    </div>
                    <button type="submit" class="btn btn-primary w-100" disabled>Daftar</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // === STATE APLIKASI SEDERHANA ===
            const AppState = {
                currentRoute: '#home',
                properties: [ // Data Mockup Properti (Bisa dari API di masa depan)
                    {
                        id: 1,
                        name: "Apartemen Elegan Pusat Kota",
                        type: "Apartemen",
                        location: "Jakarta Pusat, DKI Jakarta",
                        price: "1.250.000",
                        rating: 4.8,
                        reviews: 125,
                        image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        description: "Apartemen 2 kamar tidur dengan desain kontemporer dan fasilitas premium di jantung kota metropolitan.",
                        description_long: "Nikmati kemewahan urban di apartemen modern yang terletak strategis di pusat kota Jakarta. Dengan dua kamar tidur yang luas, ruang tamu yang elegan, dan dapur berperalatan lengkap, unit ini sempurna untuk keluarga maupun profesional. Fasilitas gedung mencakup kolam renang infinity, pusat kebugaran modern, dan keamanan 24 jam. Akses mudah ke pusat perbelanjaan ternama, restoran fine dining, dan transportasi publik.",
                        facilities: ["WiFi Cepat 100Mbps", "AC Sentral", "Smart TV 55 inch", "Dapur Lengkap & Modern", "Kolam Renang Infinity", "Gym & Sauna", "Parkir Pribadi Gratis", "Layanan Concierge"]
                    },
                    {
                        id: 2,
                        name: "Villa Tropis Tepi Pantai Seminyak",
                        type: "Villa",
                        location: "Seminyak, Bali",
                        price: "3.750.000",
                        rating: 4.9,
                        reviews: 98,
                        image: "https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        description: "Villa mewah 3 kamar tidur dengan kolam renang pribadi eksklusif, beberapa langkah dari pantai Seminyak yang ikonik.",
                        description_long: "Rasakan pengalaman liburan tropis yang tak tertandingi di villa eksklusif kami di Seminyak, Bali. Villa ini menawarkan tiga kamar tidur ensuite yang dirancang dengan indah, ruang tamu terbuka yang luas menghadap ke kolam renang pribadi dan taman tropis yang rimbun. Dapur modern lengkap dan area makan outdoor menjadikannya tempat ideal untuk bersantai dan menjamu. Hanya beberapa langkah dari pantai berpasir putih, butik desainer, dan restoran kelas dunia.",
                        facilities: ["Kolam Renang Pribadi", "WiFi Kecepatan Tinggi", "AC di Setiap Kamar", "Dapur Gourmet", "Layanan Kebersihan Harian", "Dekat Pantai (<100m)", "Bathtub Jacuzzi", "Taman Tropis Luas"]
                    },
                    {
                        id: 3,
                        name: "Rumah Klasik Asri Bandung Utara",
                        type: "Rumah",
                        location: "Dago Pakar, Bandung",
                        price: "2.100.000",
                        rating: 4.7,
                        reviews: 82,
                        image: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        description: "Rumah keluarga yang nyaman dan artistik dengan taman luas serta udara sejuk di kawasan elit Dago Pakar, Bandung.",
                        description_long: "Rumah klasik menawan ini terletak di kawasan Dago Pakar yang sejuk dan asri, Bandung Utara. Menawarkan empat kamar tidur, ruang keluarga yang luas dengan perapian fungsional, dan taman yang indah terawat, rumah ini adalah pilihan sempurna untuk liburan keluarga besar. Udara segar pegunungan dan pemandangan kota Bandung yang menakjubkan dapat dinikmati dari balkon privat. Dekat dengan berbagai kafe trendi, lapangan golf, dan destinasi wisata alam.",
                        facilities: ["Taman Luas & Asri", "Perapian Fungsional", "WiFi Stabil", "AC di Kamar Utama", "Dapur Keluarga", "Area BBQ & Gazebo", "Pemandangan Kota Spektakuler", "Garasi 2 Mobil"]
                    },
                    {
                        id: 4,
                        name: "Studio Modern Minimalis Surabaya",
                        type: "Apartemen",
                        location: "Surabaya Timur, Jawa Timur",
                        price: "800.000",
                        rating: 4.6,
                        reviews: 155,
                        image: "https://images.unsplash.com/photo-1616046229478-9901c5536a45?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        description: "Studio apartemen fungsional dan stylish, sempurna untuk pebisnis atau solo traveler yang dinamis.",
                        description_long: "Apartemen studio minimalis ini menawarkan kombinasi sempurna antara kenyamanan dan fungsionalitas bagi pelancong bisnis maupun solo traveler di Surabaya. Dengan desain interior yang cerdas, unit ini memaksimalkan ruang tanpa mengorbankan gaya. Dilengkapi tempat tidur queen-size premium, area kerja ergonomis, dapur mini modern, dan kamar mandi mewah. Lokasinya sangat strategis, dekat dengan pusat bisnis, mal besar, dan universitas ternama.",
                        facilities: ["WiFi Super Cepat", "AC Dingin", "Smart TV Android", "Dapur Mini Lengkap", "Area Kerja Nyaman", "Keamanan Gedung 24 Jam", "Akses Kolam Renang & Gym Gedung"]
                    },
                    {
                        id: 5,
                        name: "Loft Artistik di Yogyakarta",
                        type: "Apartemen",
                        location: "Prawirotaman, Yogyakarta",
                        price: "950.000",
                        rating: 4.7,
                        reviews: 65,
                        image: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        description: "Loft unik dengan sentuhan seni lokal, di area turis yang vibrant, dekat kafe dan galeri.",
                        description_long: "Nikmati suasana Jogja yang otentik di loft artistik kami. Terletak di area Prawirotaman yang terkenal, apartemen ini menawarkan ruang terbuka dengan langit-langit tinggi, dekorasi yang terinspirasi budaya Jawa, dan kenyamanan modern. Cocok untuk pasangan atau seniman yang mencari inspirasi. Dapur kecil, area santai, dan balkon privat menghadap ke lingkungan yang tenang.",
                        facilities: ["Desain Unik", "WiFi Kencang", "AC", "Dapur Kecil", "Balkon Pribadi", "Dekat Area Turis"]
                    }
                ],
                filteredProperties: [] // Untuk hasil filter di halaman listing
            };

            // === ELEMEN DOM UTAMA ===
            const appRoot = document.getElementById('app-root');
            const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
            const navbarMenu = document.getElementById('navbarMenu');
            const navbarToggler = document.querySelector('.navbar-toggler');
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            // === FUNGSI UTILITAS ===
            /**
             * Fungsi untuk membersihkan konten di appRoot.
             */
            const clearAppRoot = () => {
                appRoot.innerHTML = '';
            };

            /**
             * Fungsi untuk menampilkan konten halaman dengan animasi.
             * @param {Node} pageContent - Elemen Node yang akan ditampilkan.
             */
            const showPageContent = (pageContent) => {
                appRoot.appendChild(pageContent);
                // Timeout kecil untuk memastikan elemen ada di DOM sebelum menambahkan kelas animasi
                setTimeout(() => {
                    const newPageElement = appRoot.querySelector('.page-content, section[id*="property-detail"]');
                    if (newPageElement) newPageElement.classList.add('visible');
                }, 30); // Penundaan kecil
                window.scrollTo(0, 0); // Scroll ke atas setiap pindah halaman
            };

            /**
             * Fungsi untuk menandai link navigasi yang aktif.
             * @param {string} hash - Hash URL yang aktif.
             */
            const setActiveNavLink = (hash) => {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === hash) {
                        link.classList.add('active');
                    }
                });
                // Tutup menu mobile jika terbuka setelah klik link
                if (navbarMenu.classList.contains('open')) {
                    navbarMenu.classList.remove('open');
                    navbarToggler.setAttribute('aria-expanded', 'false');
                }
            };

            // === FUNGSI RENDER KOMPONEN/HALAMAN ===

            /**
             * Merender sebuah kartu properti.
             * @param {object} property - Objek data properti.
             * @returns {Node} Elemen kartu properti.
             */
            function renderApartmentCard(property) {
                const template = document.getElementById('apartment-card-template').content.cloneNode(true);
                const cardElement = template.querySelector('.apartment-card'); // Ambil elemen utama kartu

                cardElement.querySelector('.card-img-top').src = property.image;
                cardElement.querySelector('.card-img-top').alt = `Foto ${property.name}`;
                cardElement.querySelector('.card-title').textContent = property.name;
                cardElement.querySelector('.location').textContent = property.location;
                cardElement.querySelector('.description').textContent = property.description;
                cardElement.querySelector('.price').textContent = `Rp ${property.price}/malam`;
                cardElement.querySelector('.rating').textContent = `⭐ ${property.rating} (${property.reviews} ulasan)`;

                const detailButton = cardElement.querySelector('.view-details-btn');
                detailButton.href = `#property/${property.id}`;
                detailButton.dataset.id = property.id; // Simpan ID untuk event listener jika perlu

                return template; // Mengembalikan DocumentFragment yang berisi .col
            }

            /**
             * Merender Halaman Beranda.
             * @returns {Node} Elemen halaman beranda.
             */
            function renderHomePage() {
                const template = document.getElementById('home-page-template').content.cloneNode(true);
                const featuredListingsContainer = template.getElementById('featured-listings');
                // Tampilkan 3 properti unggulan (misalnya, yang rating tertinggi atau terbaru)
                const featuredProperties = [...AppState.properties].sort((a, b) => b.rating - a.rating).slice(0, 3);
                featuredProperties.forEach(property => {
                    featuredListingsContainer.appendChild(renderApartmentCard(property));
                });
                return template;
            }

            /**
             * Merender Halaman Daftar Properti.
             * @param {Array} propertiesToRender - Daftar properti yang akan dirender.
             * @returns {Node} Elemen halaman daftar properti.
             */
            function renderListingsPage(propertiesToRender = AppState.properties) {
                const template = document.getElementById('listings-page-template').content.cloneNode(true);
                const allListingsContainer = template.getElementById('all-listings');
                allListingsContainer.innerHTML = ''; // Kosongkan dulu jika ada render sebelumnya

                if (propertiesToRender.length === 0) {
                    allListingsContainer.innerHTML = '<p class="col text-center" style="grid-column: 1 / -1;">Tidak ada properti yang sesuai dengan kriteria pencarian Anda.</p>';
                } else {
                    propertiesToRender.forEach(property => {
                        allListingsContainer.appendChild(renderApartmentCard(property));
                    });
                }

                // Setup filter event listeners
                const searchInput = template.getElementById('searchInput');
                const typeSelect = template.getElementById('propertyTypeSelect');
                const searchButton = template.getElementById('searchButton');

                searchButton.addEventListener('click', () => {
                    const searchTerm = searchInput.value.toLowerCase();
                    const selectedType = typeSelect.value;

                    AppState.filteredProperties = AppState.properties.filter(p => {
                        const matchesSearch = p.name.toLowerCase().includes(searchTerm) ||
                            p.location.toLowerCase().includes(searchTerm) ||
                            p.description.toLowerCase().includes(searchTerm);
                        const matchesType = selectedType ? p.type === selectedType : true;
                        return matchesSearch && matchesType;
                    });
                    // Re-render hanya bagian list properti, atau seluruh halaman jika lebih mudah
                    clearAppRoot();
                    showPageContent(renderListingsPage(AppState.filteredProperties));
                });


                return template;
            }

            /**
             * Merender Halaman Detail Properti.
             * @param {string} propertyId - ID properti yang akan ditampilkan.
             * @returns {Node} Elemen halaman detail properti atau pesan error.
             */
            function renderPropertyDetailPage(propertyId) {
                const property = AppState.properties.find(p => p.id === parseInt(propertyId));
                if (!property) {
                    const errorElement = document.createElement('p');
                    errorElement.textContent = "Maaf, properti yang Anda cari tidak ditemukan.";
                    errorElement.className = 'page-content visible text-center'; // Beri class agar animasi berlaku
                    return errorElement;
                }

                const template = document.getElementById('property-detail-page-template').content.cloneNode(true);
                const sectionElement = template.querySelector('section#property-detail'); // Dapatkan elemen section utama

                sectionElement.querySelector('.property-detail-img').src = property.image;
                sectionElement.querySelector('.property-detail-img').alt = `Foto ${property.name}`;
                sectionElement.querySelector('.property-name').textContent = property.name;
                sectionElement.querySelector('.location-text').textContent = property.location;
                sectionElement.querySelector('.description-long').textContent = property.description_long;
                sectionElement.querySelector('.price-detail').textContent = `Rp ${property.price}/malam`;
                sectionElement.querySelector('.rating-detail').textContent = `⭐ ${property.rating} (${property.reviews} ulasan)`;

                const facilitiesList = sectionElement.querySelector('.facilities-list');
                facilitiesList.innerHTML = ''; // Kosongkan dulu
                property.facilities.forEach(facility => {
                    const li = document.createElement('li');
                    li.innerHTML = `<span class="icon">✔️</span> ${facility}`; // Menggunakan emoji centang
                    facilitiesList.appendChild(li);
                });

                // Handle form booking (simulasi)
                const bookingForm = sectionElement.querySelector('#bookingForm');
                bookingForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    // Validasi tanggal sederhana
                    const checkinDate = new Date(bookingForm.querySelector('#checkin').value);
                    const checkoutDate = new Date(bookingForm.querySelector('#checkout').value);
                    if (checkoutDate <= checkinDate) {
                        alert('Tanggal Check-out harus setelah Tanggal Check-in.');
                        return;
                    }
                    alert(`Pemesanan untuk ${property.name} sedang diproses (simulasi). Terima kasih!`);
                    bookingForm.reset();
                });

                return template; // Mengembalikan DocumentFragment
            }

            /**
             * Merender Halaman Tentang Kami.
             * @returns {Node} Elemen halaman tentang kami.
             */
            function renderAboutPage() {
                return document.getElementById('about-page-template').content.cloneNode(true);
            }

            /**
             * Merender Halaman Kontak.
             * @returns {Node} Elemen halaman kontak.
             */
            function renderContactPage() {
                const template = document.getElementById('contact-page-template').content.cloneNode(true);
                const contactForm = template.getElementById('contactForm');
                if (contactForm) {
                    contactForm.addEventListener('submit', (e) => {
                        e.preventDefault();
                        const name = contactForm.querySelector('#contactName').value;
                        alert(`Terima kasih, ${name}! Pesan Anda telah berhasil dikirim (simulasi). Kami akan segera menghubungi Anda.`);
                        contactForm.reset();
                    });
                }
                return template;
            }

            // === ROUTER SEDERHANA (Hash-based) ===
            function router() {
                const hash = window.location.hash || '#home';
                AppState.currentRoute = hash; // Simpan rute saat ini
                clearAppRoot(); // Kosongkan konten sebelumnya

                let pageContent;

                if (hash.startsWith('#property/')) {
                    const propertyId = hash.substring('#property/'.length);
                    pageContent = renderPropertyDetailPage(propertyId);
                    setActiveNavLink(null); // Tidak ada link nav spesifik untuk halaman detail
                } else {
                    switch (hash) {
                        case '#home':
                            pageContent = renderHomePage();
                            setActiveNavLink(hash);
                            break;
                        case '#listings':
                            // Jika ada hasil filter sebelumnya, gunakan itu, jika tidak, tampilkan semua
                            pageContent = renderListingsPage(AppState.filteredProperties.length > 0 ? AppState.filteredProperties : AppState.properties);
                            // Reset filter jika pengguna navigasi langsung ke #listings
                            if (AppState.filteredProperties.length > 0 && window.location.hash === '#listings' && !window.location.search.includes('filter')) {
                                // Ini bisa di-refine, misalnya jika user klik link #listings, reset filter.
                                // Untuk saat ini, jika ada filter, akan ditampilkan.
                            }
                            setActiveNavLink(hash);
                            break;
                        case '#about':
                            pageContent = renderAboutPage();
                            setActiveNavLink(hash);
                            break;
                        case '#contact':
                            pageContent = renderContactPage();
                            setActiveNavLink(hash);
                            break;
                        // Contoh halaman statis tambahan jika ada
                        case '#privacy':
                        case '#terms':
                            const staticPageContent = document.createElement('div');
                            staticPageContent.className = 'page-content';
                            staticPageContent.innerHTML = `<h1 class="text-center">${hash === '#privacy' ? 'Kebijakan Privasi' : 'Syarat & Ketentuan'}</h1><p class="text-center">Konten untuk halaman ini akan segera ditambahkan. Terima kasih atas pengertian Anda.</p><p class="text-center"><a href="#home">Kembali ke Beranda</a></p>`;
                            pageContent = staticPageContent;
                            setActiveNavLink(null);
                            break;
                        default:
                            // Halaman tidak ditemukan atau default ke home
                            pageContent = renderHomePage();
                            setActiveNavLink('#home');
                            window.location.hash = '#home'; // Update hash untuk rute tidak dikenal
                    }
                }
                showPageContent(pageContent);
            }

            // === PENGENDALIAN MODAL (Vanilla JS) ===
            const modalTriggers = document.querySelectorAll('[data-modal-target]');
            const modalDismisses = document.querySelectorAll('[data-modal-dismiss]');

            modalTriggers.forEach(trigger => {
                trigger.addEventListener('click', () => {
                    const modalId = trigger.dataset.modalTarget;
                    const modal = document.getElementById(modalId);
                    if (modal) {
                        modal.classList.add('open');
                        modal.setAttribute('aria-hidden', 'false');
                        document.body.style.overflow = 'hidden'; // Mencegah scroll background
                        modal.querySelector('button, input, textarea, select, a').focus(); // Fokus ke elemen interaktif pertama
                    }
                });
            });

            modalDismisses.forEach(dismiss => {
                dismiss.addEventListener('click', () => {
                    const modal = dismiss.closest('.modal');
                    if (modal) {
                        modal.classList.remove('open');
                        modal.setAttribute('aria-hidden', 'true');
                        document.body.style.overflow = ''; // Kembalikan scroll
                    }
                });
            });

            // Tutup modal jika klik di luar konten modal
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (event) => {
                    if (event.target === modal) { // Hanya jika klik pada overlay modal langsung
                        modal.classList.remove('open');
                        modal.setAttribute('aria-hidden', 'true');
                        document.body.style.overflow = '';
                    }
                });
                // Tutup modal dengan tombol Escape
                modal.addEventListener('keydown', (event) => {
                    if (event.key === 'Escape') {
                        modal.classList.remove('open');
                        modal.setAttribute('aria-hidden', 'true');
                        document.body.style.overflow = '';
                    }
                });
            });

            // === PENGENDALIAN NAVBAR TOGGLE (Vanilla JS) ===
            if (navbarToggler) {
                navbarToggler.addEventListener('click', () => {
                    const isExpanded = navbarToggler.getAttribute('aria-expanded') === 'true' || false;
                    navbarToggler.setAttribute('aria-expanded', !isExpanded);
                    navbarMenu.classList.toggle('open');
                });
            }

            // === INISIALISASI APLIKASI ===
            window.addEventListener('hashchange', router); // Dengarkan perubahan hash untuk navigasi
            router(); // Panggil router untuk memuat halaman awal berdasarkan hash atau default
        });
    </script>
</body>

</html>