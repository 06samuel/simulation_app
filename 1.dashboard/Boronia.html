<!DOCTYPE html>
<html lang="id" data-theme="light">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RentApart | Dashboard</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* Design System Variables */
    :root {
      --clr-primary: #2563eb;
      --clr-primary-hover: #1d4ed8;
      --clr-secondary: #64748b;
      --clr-success: #22c55e;
      --clr-warning: #f59e0b;
      --clr-danger: #ef4444;
      --clr-bg: #f8fafc;
      --clr-text: #1e293b;
      --clr-card: #ffffff;
      --clr-border: #e2e8f0;
      --clr-focus: rgba(37, 99, 235, 0.5);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
      --radius-sm: 0.375rem;
      --radius-md: 0.75rem;
      --radius-lg: 1rem;
      --radius-full: 9999px;
      --transition: 200ms cubic-bezier(0.4, 0, 0.2, 1);
      --spacing-xs: 0.25rem;
      --spacing-sm: 0.5rem;
      --spacing-md: 1rem;
      --spacing-lg: 1.5rem;
      --spacing-xl: 2rem;
      --spacing-2xl: 3rem;
    }

    [data-theme="dark"] {
      --clr-bg: #0f172a;
      --clr-text: #f1f5f9;
      --clr-card: #1e293b;
      --clr-border: #334155;
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.25);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.25);
    }

    /* Base Styles */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      font-size: 16px;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--clr-bg);
      color: var(--clr-text);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      transition: background var(--transition), color var(--transition);
    }

    a {
      color: var(--clr-primary);
      text-decoration: none;
      transition: color var(--transition);
    }

    a:hover {
      color: var(--clr-primary-hover);
    }

    /* Layout Utilities */
    .container {
      width: 100%;
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 var(--spacing-md);
    }

    .flex {
      display: flex;
    }

    .flex-column {
      flex-direction: column;
    }

    .align-items-center {
      align-items: center;
    }

    .justify-content-between {
      justify-content: space-between;
    }

    .gap-xs {
      gap: var(--spacing-xs);
    }

    .gap-sm {
      gap: var(--spacing-sm);
    }

    .gap-md {
      gap: var(--spacing-md);
    }

    .gap-lg {
      gap: var(--spacing-lg);
    }

    .gap-xl {
      gap: var(--spacing-xl);
    }

    /* Grid Utilities (Replacing Bootstrap col-*) */
    .row {
      display: flex;
      flex-wrap: wrap;
      margin: 0 calc(-1 * var(--spacing-md));
    }

    .col-12 {
      width: 100%;
      padding: 0 var(--spacing-md);
    }

    .col-6 {
      width: 50%;
      padding: 0 var(--spacing-md);
    }

    .col-lg-3 {
      width: 25%;
      padding: 0 var(--spacing-md);
    }

    @media (max-width: 992px) {
      .col-lg-3 {
        width: 50%;
      }
    }

    @media (max-width: 768px) {

      .col-6,
      .col-lg-3 {
        width: 100%;
      }
    }

    /* Spacing Utilities */
    .m-0 {
      margin: 0;
    }

    .mt-xs {
      margin-top: var(--spacing-xs);
    }

    .mt-sm {
      margin-top: var(--spacing-sm);
    }

    .mt-md {
      margin-top: var(--spacing-md);
    }

    .mt-lg {
      margin-top: var(--spacing-lg);
    }

    .mt-xl {
      margin-top: var(--spacing-xl);
    }

    .mb-xs {
      margin-bottom: var(--spacing-xs);
    }

    .mb-sm {
      margin-bottom: var(--spacing-sm);
    }

    .mb-md {
      margin-bottom: var(--spacing-md);
    }

    .mb-lg {
      margin-bottom: var(--spacing-lg);
    }

    .mb-xl {
      margin-bottom: var(--spacing-xl);
    }

    .mx-auto {
      margin-left: auto;
      margin-right: auto;
    }

    .p-sm {
      padding: var(--spacing-sm);
    }

    .p-md {
      padding: var(--spacing-md);
    }

    .p-lg {
      padding: var(--spacing-lg);
    }

    .px-sm {
      padding-left: var(--spacing-sm);
      padding-right: var(--spacing-sm);
    }

    .px-md {
      padding-left: var(--spacing-md);
      padding-right: var(--spacing-md);
    }

    .py-sm {
      padding-top: var(--spacing-sm);
      padding-bottom: var(--spacing-sm);
    }

    .py-md {
      padding-top: var(--spacing-md);
      padding-bottom: var(--spacing-md);
    }

    .py-lg {
      padding-top: var(--spacing-lg);
      padding-bottom: var(--spacing-lg);
    }

    /* Typography Utilities */
    .text-center {
      text-align: center;
    }

    .text-muted {
      color: var(--clr-secondary);
    }

    .fw-bold {
      font-weight: 700;
    }

    .fs-sm {
      font-size: 0.875rem;
    }

    .fs-md {
      font-size: 1rem;
    }

    .fs-lg {
      font-size: 1.25rem;
    }

    .fs-xl {
      font-size: 1.5rem;
    }

    .fs-2xl {
      font-size: 2rem;
    }

    .fs-display {
      font-size: 3rem;
    }

    /* Button Utilities (Replacing Bootstrap btn-*) */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-sm);
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition);
      border: none;
      background: none;
    }

    .btn-sm {
      padding: var(--spacing-xs) var(--spacing-sm);
      font-size: var(--fs-sm);
    }

    .btn-lg {
      padding: var(--spacing-md) var(--spacing-lg);
      font-size: var(--fs-lg);
    }

    .btn-primary {
      background: var(--clr-primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--clr-primary-hover);
      transform: translateY(-2px);
    }

    .btn-outline-primary {
      border: 1px solid var(--clr-primary);
      color: var(--clr-primary);
    }

    .btn-outline-primary:hover {
      background: var(--clr-primary);
      color: white;
    }

    .btn-outline-danger {
      border: 1px solid var(--clr-danger);
      color: var(--clr-danger);
    }

    .btn-outline-danger:hover {
      background: var(--clr-danger);
      color: white;
    }

    .btn:focus-visible {
      outline: 2px solid var(--clr-focus);
      outline-offset: 2px;
    }

    /* Badge Utilities (Replacing Bootstrap badge and bg-*) */
    .badge {
      display: inline-block;
      padding: var(--spacing-xs) var(--spacing-sm);
      border-radius: var(--radius-full);
      font-size: var(--fs-sm);
      font-weight: 600;
    }

    .bg-success {
      background: var(--clr-success);
      color: white;
    }

    .bg-warning {
      background: var(--clr-warning);
      color: white;
    }

    .bg-secondary {
      background: var(--clr-secondary);
      color: white;
    }

    /* Header & Navigation */
    .navbar {
      background: var(--clr-card);
      border-bottom: 1px solid var(--clr-border);
      padding: var(--spacing-md);
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(8px);
    }

    .navbar-brand {
      font-size: var(--fs-lg);
      font-weight: 700;
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 250px;
      height: 100vh;
      background: var(--clr-card);
      border-right: 1px solid var(--clr-border);
      transform: translateX(-100%);
      transition: transform var(--transition);
      z-index: 100;
    }

    .sidebar.active {
      transform: translateX(0);
    }

    .sidebar-header {
      padding: var(--spacing-md);
      border-bottom: 1px solid var(--clr-border);
    }

    .sidebar-body {
      padding: var(--spacing-md);
    }

    .nav {
      list-style: none;
    }

    .nav-item {
      margin-bottom: var(--spacing-sm);
    }

    .nav-link {
      display: flex;
      align-items: center;
      padding: var(--spacing-sm) var(--spacing-md);
      color: var(--clr-text);
      border-radius: var(--radius-sm);
      transition: all var(--transition);
    }

    .nav-link:hover,
    .nav-link.active {
      background: var(--clr-primary);
      color: white;
    }

    /* Hero Section */
    .hero {
      background: var(--clr-card);
      padding: var(--spacing-2xl) var(--spacing-lg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      margin: var(--spacing-xl) auto;
      max-width: 800px;
      text-align: center;
    }

    /* Stats Cards */
    .stat-card {
      background: var(--clr-card);
      border: 1px solid var(--clr-border);
      border-radius: var(--radius-md);
      padding: var(--spacing-lg);
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      box-shadow: var(--shadow-md);
      transition: all var(--transition);
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    .stat-icon {
      font-size: var(--fs-xl);
      color: var(--clr-primary);
      transition: transform var(--transition);
    }

    .stat-card:hover .stat-icon {
      transform: scale(1.1);
    }

    .stat-value {
      font-size: var(--fs-xl);
      font-weight: 700;
    }

    .stat-label {
      color: var(--clr-secondary);
      font-size: var(--fs-sm);
    }

    /* Table Styles */
    .table-responsive {
      background: var(--clr-card);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-md);
      overflow-x: auto;
      border: 1px solid var(--clr-border);
    }

    .table {
      width: 100%;
      border-collapse: collapse;
    }

    .table th,
    .table td {
      padding: var(--spacing-md);
      border-bottom: 1px solid var(--clr-border);
      text-align: left;
    }

    .table th {
      background: rgba(0, 0, 0, 0.02);
      font-weight: 600;
    }

    .table tr:last-child td {
      border-bottom: none;
    }

    /* Theme Toggle */
    .theme-toggle {
      background: transparent;
      border: 1px solid var(--clr-border);
      border-radius: var(--radius-sm);
      padding: var(--spacing-sm);
      cursor: pointer;
      transition: all var(--transition);
    }

    .theme-toggle:hover {
      background: rgba(0, 0, 0, 0.05);
      transform: scale(1.05);
    }

    /* Notifications */
    .notification {
      position: fixed;
      top: var(--spacing-md);
      right: var(--spacing-md);
      z-index: 100;
      background: var(--clr-primary);
      color: white;
      padding: var(--spacing-md);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-md);
      animation: slideIn var(--transition) ease-out;
      display: none;
    }

    .notification.active {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }

      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* Avatar */
    .avatar {
      border-radius: var(--radius-full);
      object-fit: cover;
    }

    /* Accessibility */
    :focus-visible {
      outline: 2px solid var(--clr-focus);
      outline-offset: 2px;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      html {
        font-size: 14px;
      }

      .hero {
        margin: var(--spacing-md);
        padding: var(--spacing-xl);
      }

      .sidebar {
        width: 80%;
      }

      .navbar {
        padding: var(--spacing-sm);
      }
    }

    @media (min-width: 992px) {
      .sidebar {
        transform: translateX(0);
      }

      .main-content {
        margin-left: 250px;
      }

      .navbar .sidebar-toggle {
        display: none;
      }
    }

    /* Animation Utilities */
    .fade-in {
      animation: fadeIn var(--transition) ease-in;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body>
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar" aria-label="Navigasi utama">
    <div class="sidebar-header flex align-items-center justify-content-between">
      <h2 class="fs-lg fw-bold">RentApart</h2>
      <button class="btn sidebar-toggle d-lg-none" id="closeSidebar" aria-label="Tutup sidebar">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <nav class="sidebar-body">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link active" href="#dashboard" data-route="dashboard">
            <i class="fas fa-home mr-sm"></i> Dashboard
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#apartments" data-route="apartments">
            <i class="fas fa-building mr-sm"></i> Apartemen
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#tenants" data-route="tenants">
            <i class="fas fa-users mr-sm"></i> Penyewa
          </a>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- Header -->
  <header class="navbar flex align-items-center justify-content-between px-md">
    <div class="flex align-items-center gap-md">
      <button class="btn sidebar-toggle d-lg-none" id="openSidebar" aria-label="Buka sidebar">
        <i class="fas fa-bars"></i>
      </button>
      <a class="navbar-brand" href="#">RentApart</a>
    </div>
    <div class="flex align-items-center gap-md">
      <button class="btn theme-toggle" id="themeToggle" aria-label="Ganti tema">
        <i class="fas fa-moon"></i>
      </button>
      <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Avatar pengguna" class="avatar" width="36"
        height="36">
    </div>
  </header>

  <!-- Notification -->
  <div class="notification" id="notification">
    <i class="fas fa-check-circle"></i>
    <span id="notificationMsg"></span>
  </div>

  <!-- Main Content -->
  <main class="main-content py-lg">
    <div id="app">
      <!-- Dashboard Section -->
      <section class="route" id="dashboard-route">
        <div class="container">
          <section class="hero text-center fade-in">
            <h1 class="fs-display fw-bold mb-md">Selamat Datang di RentApart</h1>
            <p class="fs-lg mb-lg text-muted">
              Kelola penyewaan apartemen Anda dengan mudah menggunakan platform kami.
            </p>
            <a href="#apartments" class="btn btn-primary btn-lg" data-route="apartments">Mulai Sekarang</a>
          </section>
          <section class="row mb-xl">
            <article class="col-6 col-lg-3 mb-md">
              <div class="stat-card fade-in" tabindex="0" aria-label="Total Apartemen">
                <i class="stat-icon fas fa-building"></i>
                <div>
                  <h2 class="stat-value" id="statApartments">24</h2>
                  <p class="stat-label">Total Apartemen</p>
                </div>
              </div>
            </article>
            <article class="col-6 col-lg-3 mb-md">
              <div class="stat-card fade-in" tabindex="0" aria-label="Penyewa Aktif">
                <i class="stat-icon fas fa-users"></i>
                <div>
                  <h2 class="stat-value">15</h2>
                  <p class="stat-label">Penyewa Aktif</p>
                </div>
              </div>
            </article>
            <article class="col-6 col-lg-3 mb-md">
              <div class="stat-card fade-in" tabindex="0" aria-label="Pendapatan Bulanan">
                <i class="stat-icon fas fa-dollar-sign"></i>
                <div>
                  <h2 class="stat-value">Rp 120M</h2>
                  <p class="stat-label">Pendapatan Bulanan</p>
                </div>
              </div>
            </article>
            <article class="col-6 col-lg-3 mb-md">
              <div class="stat-card fade-in" tabindex="0" aria-label="Tingkat Okupansi">
                <i class="stat-icon fas fa-chart-line"></i>
                <div>
                  <h2 class="stat-value">85%</h2>
                  <p class="stat-label">Tingkat Okupansi</p>
                </div>
              </div>
            </article>
          </section>
          <section class="row">
            <div class="col-12">
              <div class="table-responsive mb-xl fade-in">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Penyewa</th>
                      <th>Apartemen</th>
                      <th>Status</th>
                      <th>Sewa</th>
                      <th>Akhir Sewa</th>
                      <th>Aksi</th>
                    </tr>
                  </thead>
                  <tbody id="tenantTableBody"></tbody>
                </table>
              </div>
            </div>
          </section>
        </div>
      </section>

      <!-- Apartments Section -->
      <section class="route hidden" id="apartments-route">
        <div class="container">
          <h2 class="fs-2xl fw-bold mb-lg">Daftar Apartemen</h2>
          <div class="row">
            <div class="col-12">
              <div class="table-responsive mb-xl fade-in">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Nama</th>
                      <th>Lokasi</th>
                      <th>Harga Sewa</th>
                      <th>Status</th>
                      <th>Aksi</th>
                    </tr>
                  </thead>
                  <tbody id="apartmentTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Tenants Section -->
      <section class="route hidden" id="tenants-route">
        <div class="container">
          <h2 class="fs-2xl fw-bold mb-lg">Daftar Penyewa</h2>
          <div class="row">
            <div class="col-12">
              <div class="table-responsive mb-xl fade-in">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Nama</th>
                      <th>Email</th>
                      <th>Apartemen</th>
                      <th>Status</th>
                      <th>Aksi</th>
                    </tr>
                  </thead>
                  <tbody id="tenantDetailTableBody"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="text-center py-lg text-muted">
    Â© 2025 RentApart. Semua hak dilindungi.
  </footer>

  <script>
    // Theme Management
    const htmlEl = document.documentElement;
    const themeToggleBtn = document.getElementById('themeToggle');
    const storedTheme = localStorage.getItem('theme') || 'light';
    htmlEl.setAttribute('data-theme', storedTheme);
    updateToggleIcon(storedTheme);

    themeToggleBtn.addEventListener('click', () => {
      const nextTheme = htmlEl.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      htmlEl.setAttribute('data-theme', nextTheme);
      localStorage.setItem('theme', nextTheme);
      updateToggleIcon(nextTheme);
      showNotification(`Berpindah ke mode ${nextTheme.charAt(0).toUpperCase() + nextTheme.slice(1)}`);
    });

    function updateToggleIcon(theme) {
      themeToggleBtn.innerHTML = theme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    }

    // Notification
    function showNotification(message) {
      const notification = document.getElementById('notification');
      document.getElementById('notificationMsg').textContent = message;
      notification.classList.add('active');
      setTimeout(() => notification.classList.remove('active'), 3000);
    }

    // Sidebar Toggle
    const openSidebarBtn = document.getElementById('openSidebar');
    const closeSidebarBtn = document.getElementById('closeSidebar');
    const sidebar = document.getElementById('sidebar');

    openSidebarBtn.addEventListener('click', () => sidebar.classList.add('active'));
    closeSidebarBtn.addEventListener('click', () => sidebar.classList.remove('active'));

    // Dummy Data
    const tenants = [
      { id: 1, name: 'John Doe', apartment: 'A-101', status: 'Aktif', rent: 'Rp 12,000,000', leaseEnd: '2025-12-31', email: 'john@example.com' },
      { id: 2, name: 'Jane Smith', apartment: 'B-202', status: 'Tertunda', rent: 'Rp 10,000,000', leaseEnd: '2025-11-30', email: 'jane@example.com' }
    ];

    const apartments = [
      { id: 1, name: 'Apartemen Mewah', location: 'Jakarta Selatan', price: 'Rp 12,000,000', status: 'Tersedia' },
      { id: 2, name: 'Studio Cozy', location: 'Bandung', price: 'Rp 8,000,000', status: 'Disewa' }
    ];

    // SPA Routing
    const routes = {
      'dashboard': document.getElementById('dashboard-route'),
      'apartments': document.getElementById('apartments-route'),
      'tenants': document.getElementById('tenants-route')
    };

    function navigateTo(route) {
      Object.values(routes).forEach(r => r.classList.add('hidden'));
      routes[route].classList.remove('hidden');
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.toggle('active', link.dataset.route === route);
      });
      sidebar.classList.remove('active');
    }

    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const route = e.currentTarget.dataset.route;
        navigateTo(route);
        history.pushState({ route }, '', `#${route}`);
      });
    });

    // Populate Tables
    function populateTenantTable() {
      const tbody = document.getElementById('tenantTableBody');
      tbody.innerHTML = tenants.map(t => `
                <tr class="fade-in">
                    <td>${t.name}</td>
                    <td>${t.apartment}</td>
                    <td><span class="badge bg-${t.status === 'Aktif' ? 'success' : 'warning'}">${t.status}</span></td>
                    <td>${t.rent}</td>
                    <td>${t.leaseEnd}</td>
                    <td class="flex gap-sm">
                        <button class="btn btn-outline-primary btn-sm edit-tenant" data-id="${t.id}" title="Edit penyewa">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-outline-danger btn-sm delete-tenant" data-id="${t.id}" title="Hapus penyewa">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
    }

    function populateApartmentTable() {
      const tbody = document.getElementById('apartmentTableBody');
      tbody.innerHTML = apartments.map(a => `
                <tr class="fade-in">
                    <td>${a.name}</td>
                    <td>${a.location}</td>
                    <td>${a.price}</td>
                    <td><span class="badge bg-${a.status === 'Tersedia' ? 'success' : 'secondary'}">${a.status}</span></td>
                    <td class="flex gap-sm">
                        <button class="btn btn-outline-primary btn-sm edit-apartment" data-id="${a.id}" title="Edit apartemen">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-outline-danger btn-sm delete-apartment" data-id="${a.id}" title="Hapus apartemen">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
    }

    function populateTenantDetailTable() {
      const tbody = document.getElementById('tenantDetailTableBody');
      tbody.innerHTML = tenants.map(t => `
                <tr class="fade-in">
                    <td>${t.name}</td>
                    <td>${t.email}</td>
                    <td>${t.apartment}</td>
                    <td><span class="badge bg-${t.status === 'Aktif' ? 'success' : 'warning'}">${t.status}</span></td>
                    <td class="flex gap-sm">
                        <button class="btn btn-outline-primary btn-sm edit-tenant" data-id="${t.id}" title="Edit penyewa">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-outline-danger btn-sm delete-tenant" data-id="${t.id}" title="Hapus penyewa">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
            `).join('');
    }

    // CRUD Operations (Simulated)
    document.addEventListener('click', e => {
      if (e.target.closest('.edit-tenant')) {
        const id = e.target.closest('.edit-tenant').dataset.id;
        showNotification(`Mengedit penyewa ID ${id}`);
      }
      if (e.target.closest('.delete-tenant')) {
        const id = e.target.closest('.delete-tenant').dataset.id;
        tenants.splice(tenants.findIndex(t => t.id == id), 1);
        populateTenantTable();
        populateTenantDetailTable();
        showNotification(`Penyewa ID ${id} dihapus`);
      }
      if (e.target.closest('.edit-apartment')) {
        const id = e.target.closest('.edit-apartment').dataset.id;
        showNotification(`Mengedit apartemen ID ${id}`);
      }
      if (e.target.closest('.delete-apartment')) {
        const id = e.target.closest('.delete-apartment').dataset.id;
        apartments.splice(apartments.findIndex(a => a.id == id), 1);
        populateApartmentTable();
        showNotification(`Apartemen ID ${id} dihapus`);
      }
    });

    // Handle Browser Navigation
    window.addEventListener('popstate', e => {
      const route = e.state?.route || 'dashboard';
      navigateTo(route);
    });

    // Initialize
    window.addEventListener('DOMContentLoaded', () => {
      populateTenantTable();
      populateApartmentTable();
      populateTenantDetailTable();
      navigateTo('dashboard');
      showNotification('Selamat datang di Dashboard RentApart!');
    });
  </script>
</body>

</html>