<!DOCTYPE html>
<html lang="id" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistem Manajemen Properti Sewa - Solusi lengkap untuk mengelola properti sewa di Indonesia">
    <meta name="keywords" content="sewa properti, manajemen kos, aplikasi pengelola kos, laporan keuangan properti, sistem pembayaran sewa">
    <meta name="author" content="Tim Pengembang Rentelindo">
    <title>Rentelindo | Sistem Manajemen Properti Sewa</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" as="style" onload="this.rel='stylesheet'">
    <noscript>
        <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    </noscript>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Existing color variables */
            --color-primary: hsl(215, 80%, 50%);
            --color-primary-dark: hsl(215, 80%, 40%);
            --color-primary-light: hsl(215, 80%, 90%);
            --color-accent: hsl(35, 90%, 55%);
            --color-success: hsl(145, 65%, 45%);
            --color-success-light: hsl(145, 65%, 95%);
            --color-danger: hsl(5, 80%, 55%);
            --color-danger-light: hsl(5, 80%, 95%);
            --color-warning: hsl(35, 90%, 55%);
            --color-warning-light: hsl(35, 90%, 95%);
            --color-info: hsl(200, 90%, 55%);
            --color-info-light: hsl(200, 90%, 95%);
            --color-neutral-50: hsl(220, 20%, 98%);
            --color-neutral-100: hsl(220, 20%, 96%);
            --color-neutral-200: hsl(220, 20%, 92%);
            --color-neutral-300: hsl(220, 20%, 85%);
            --color-neutral-400: hsl(220, 20%, 70%);
            --color-neutral-500: hsl(220, 20%, 55%);
            --color-neutral-600: hsl(220, 20%, 40%);
            --color-neutral-700: hsl(220, 20%, 30%);
            --color-neutral-800: hsl(220, 20%, 20%);
            --color-neutral-900: hsl(220, 20%, 10%);
            --color-bg: var(--color-neutral-50);
            --color-bg-alt: hsl(0, 0%, 100%);
            --color-bg-card: hsl(0, 0%, 100%);
            --color-bg-sidebar: hsl(215, 80%, 15%);
            --color-text: var(--color-neutral-900);
            --color-text-muted: var(--color-neutral-600);
            --color-text-light: hsl(0, 0%, 100%);
            --color-text-sidebar: hsla(0, 0%, 100%, 0.9);
            --color-border: var(--color-neutral-200);
            --color-border-dark: var(--color-neutral-300);
            --color-focus: hsla(215, 80%, 50%, 0.2);
            --color-hover: var(--color-neutral-100);
            --color-active: var(--color-neutral-200);

            /* Typography */
            --font-main: 'Plus Jakarta Sans', system-ui, sans-serif;
            --font-mono: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            --font-xxs: clamp(0.6875rem, 0.6563rem + 0.1563vw, 0.75rem);
            --font-xs: clamp(0.75rem, 0.6875rem + 0.3125vw, 0.875rem);
            --font-sm: clamp(0.875rem, 0.8125rem + 0.3125vw, 1rem);
            --font-md: clamp(1rem, 0.9063rem + 0.4688vw, 1.125rem);
            --font-lg: clamp(1.125rem, 1rem + 0.625vw, 1.375rem);
            --font-xl: clamp(1.25rem, 1.0938rem + 0.7813vw, 1.5rem);
            --font-2xl: clamp(1.5rem, 1.2813rem + 1.0938vw, 1.875rem);
            --font-3xl: clamp(1.75rem, 1.4375rem + 1.5625vw, 2.25rem);
            --font-4xl: clamp(2rem, 1.5625rem + 2.1875vw, 2.75rem);
            --font-display: clamp(2.25rem, 1.7188rem + 2.6563vw, 3.25rem);

            /* Spacing */
            --space-xxs: 0.25rem;
            --space-xs: 0.5rem;
            --space-sm: 0.75rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            --space-3xl: 4rem;

            /* Border Radius */
            --radius-xs: 0.25rem;
            --radius-sm: 0.5rem;
            --radius-md: 0.75rem;
            --radius-lg: 1rem;
            --radius-xl: 1.5rem;
            --radius-2xl: 2rem;
            --radius-full: 9999px;

            /* Shadows */
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.16);
            --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.2);
            --shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.06);
            --shadow-focus: 0 0 0 3px var(--color-focus);

            /* Transitions */
            --transition-fast: all 0.15s ease-in-out;
            --transition-normal: all 0.3s ease-in-out;
            --transition-slow: all 0.5s ease-in-out;
            --transition-transform: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);

            /* Z-index */
            --z-index-dropdown: 1000;
            --z-index-sticky: 1020;
            --z-index-fixed: 1030;
            --z-index-modal-backdrop: 1040;
            --z-index-modal: 1050;
            --z-index-popover: 1060;
            --z-index-tooltip: 1070;
            --z-index-toast: 1080;
        }

        [data-theme="dark"] {
            --color-bg: var(--color-neutral-900);
            --color-bg-alt: var(--color-neutral-800);
            --color-bg-card: var(--color-neutral-800);
            --color-text: var(--color-neutral-50);
            --color-text-muted: var(--color-neutral-400);
            --color-border: var(--color-neutral-700);
            --color-border-dark: var(--color-neutral-600);
            --color-hover: var(--color-neutral-700);
            --color-active: var(--color-neutral-600);
            --color-bg-sidebar: hsl(215, 80%, 10%);
        }

        /* Reset and Base */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }

        body {
            font-family: var(--font-main);
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* New Utility Classes for Missing Attributes */
        .bg-transfer {
            background: var(--color-info-light);
            color: var(--color-info);
        }

        .bg-qris {
            background: var(--color-accent-light);
            color: var(--color-accent);
        }

        .bg-tunai {
            background: var(--color-success-light);
            color: var(--color-success);
        }

        .badge-aktif, .badge-active {
            background: var(--color-success-light);
            color: var(--color-success);
        }

        .badge-menunggu {
            background: var(--color-warning-light);
            color: var(--color-warning);
        }

        .badge-nonaktif {
            background: var(--color-danger-light);
            color: var(--color-danger);
        }

        .badge-tersedia {
            background: var(--color-success-light);
            color: var(--color-success);
        }

        .badge-ditempati {
            background: var(--color-info-light);
            color: var(--color-info);
        }

        .badge-perbaikan {
            background: var(--color-warning-light);
            color: var(--color-warning);
        }

        .badge-akan-berakhir {
            background: var(--color-warning-light);
            color: var(--color-warning);
        }

        .badge-selesai {
            background: var(--color-success-light);
            color: var(--color-success);
        }

        .badge-rendah {
            background: var(--color-success-light);
            color: var(--color-success);
        }

        .badge-sedang {
            background: var(--color-info-light);
            color: var(--color-info);
        }

        .badge-tinggi {
            background: var(--color-warning-light);
            color: var(--color-warning);
        }

        .badge-darurat {
            background: var(--color-danger-light);
            color: var(--color-danger);
        }

        .badge-baru {
            background: var(--color-info-light);
            color: var(--color-info);
        }

        .badge-proses {
            background: var(--color-warning-light);
            color: var(--color-warning);
        }

        .text-transfer {
            color: var(--color-info);
        }

        .text-qris {
            color: var(--color-accent);
        }

        .text-tunai {
            color: var(--color-success);
        }

        .payment-method.active {
            background: var(--color-primary-light);
            color: var(--color-primary);
            border: 1px solid var(--color-primary);
        }

        .mb-4 {
            margin-bottom: var(--space-lg);
        }

        .mt-4 {
            margin-top: var(--space-lg);
        }

        .p-0 {
            padding: 0;
        }

        .min-w-160 {
            min-width: 160px;
        }

        .max-w-400 {
            max-width: 400px;
        }

        .grid-auto-fill-240 {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
        }

        .grid-2fr-1fr {
            display: grid;
            grid-template-columns: 2fr 1fr;
        }

        /* Existing Layout Utilities */
        .container {
            max-width: 1440px;
            margin: 0 auto;
            padding: var(--space-md);
            width: 100%;
        }

        .l-flex {
            display: flex;
            gap: var(--space-md);
        }

        .l-grid {
            display: grid;
            gap: var(--space-md);
        }

        .justify-between {
            justify-content: space-between;
        }

        .align-center {
            align-items: center;
        }

        .flex-col {
            flex-direction: column;
        }

        .flex-wrap {
            flex-wrap: wrap;
        }

        .flex-grow {
            flex-grow: 1;
        }

        .gap-xs {
            gap: var(--space-xs);
        }

        .gap-sm {
            gap: var(--space-sm);
        }

        .w-full {
            width: 100%;
        }

        .text-center {
            text-align: center;
        }

        .text-muted {
            color: var(--color-text-muted);
        }

        .text-xl {
            font-size: var(--font-xl);
        }

        .text-bold {
            font-weight: var(--font-weight-bold);
        }

        .hidden {
            display: none !important;
        }

        /* Header */
        .c-header {
            background: var(--color-bg-sidebar);
            padding: var(--space-sm) 0;
            position: sticky;
            top: 0;
            z-index: var(--z-index-sticky);
            box-shadow: var(--shadow-sm);
            color: var(--color-text-light);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .logo {
            font-size: var(--font-xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-text-light);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            transition: var(--transition-fast);
        }

        .logo:hover {
            opacity: 0.9;
        }

        /* Button */
        .c-button {
            padding: var(--space-sm) var(--space-lg);
            background: var(--color-primary);
            color: var(--color-text-light);
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-weight: var(--font-weight-medium);
            font-size: var(--font-sm);
            transition: var(--transition-fast);
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            min-height: 40px;
            white-space: nowrap;
            box-shadow: var(--shadow-xs);
        }

        .c-button:hover {
            background: var(--color-primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .c-button.btn-outline {
            background: transparent;
            border: 1px solid var(--color-primary);
            color: var(--color-primary);
            box-shadow: none;
        }

        .c-button.btn-outline:hover {
            background: var(--color-primary-light);
            color: var(--color-primary-dark);
            border-color: var(--color-primary-dark);
        }

        .c-button.btn-sm {
            padding: var(--space-xs) var(--space-md);
            font-size: var(--font-xs);
            min-height: 32px;
        }

        /* Sidebar */
        .sidebar {
            background: var(--color-bg-sidebar);
            color: var(--color-text-sidebar);
            min-width: 280px;
            height: 100vh;
            position: sticky;
            top: 0;
            padding: var(--space-xl);
            overflow-y: auto;
            transition: var(--transition-normal);
            z-index: var(--z-index-sticky);
        }

        .sidebar-collapsed {
            min-width: 80px;
            padding: var(--space-lg);
        }

        .sidebar-collapsed .logo-text,
        .sidebar-collapsed .nav-text {
            display: none;
        }

        .sidebar nav a {
            color: var(--color-text-sidebar);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-sm);
            transition: var(--transition-fast);
            text-decoration: none;
            font-size: var(--font-sm);
        }

        .sidebar nav a.active {
            background: var(--color-primary);
            font-weight: var(--font-weight-medium);
        }

        .sidebar-toggle {
            position: absolute;
            top: var(--space-md);
            right: var(--space-md);
            background: none;
            border: none;
            color: var(--color-text-light);
            cursor: pointer;
            font-size: var(--font-md);
            transition: var(--transition-fast);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: var(--space-xl);
            background: var(--color-bg-alt);
            transition: var(--transition-normal);
        }

        /* Hero */
        .c-hero {
            min-height: 320px;
            border-radius: var(--radius-lg);
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
            display: flex;
            align-items: center;
            box-shadow: var(--shadow-md);
            overflow: hidden;
            position: relative;
            color: var(--color-text-light);
        }

        .hero-content {
            padding: var(--space-xl);
            max-width: 600px;
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-size: var(--font-3xl);
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--space-md);
            line-height: 1.2;
        }

        .hero-desc {
            font-size: var(--font-lg);
            margin-bottom: var(--space-lg);
            color: hsla(0, 0%, 100%, 0.9);
        }

        /* Card */
        .c-card {
            background: var(--color-bg-card);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            box-shadow: var(--shadow-sm);
            transition: var(--transition-fast);
            border: 1px solid var(--color-border);
        }

        .c-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
            border-color: var(--color-primary-light);
        }

        .c-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-md);
            padding-bottom: var(--space-sm);
            border-bottom: 1px solid var(--color-border);
        }

        .c-card-title {
            font-size: var(--font-lg);
            font-weight: var(--font-weight-semibold);
            margin: 0;
            color: var(--color-primary-dark);
        }

        /* Table */
        .c-table {
            width: 100%;
            border-collapse: collapse;
            border-radius: var(--radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            background: var(--color-bg-card);
        }

        .c-table th {
            padding: var(--space-md);
            text-align: left;
            font-weight: var(--font-weight-semibold);
            color: var(--color-primary-dark);
            white-space: nowrap;
            font-size: var(--font-xs);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .c-table td {
            padding: var(--space-md);
            vertical-align: middle;
            font-size: var(--font-sm);
        }

        .table-responsive {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            border-radius: var(--radius-md);
        }

        /* Form */
        .c-form {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-xs);
        }

        .form-label {
            font-weight: var(--font-weight-medium);
            font-size: var(--font-sm);
            color: var(--color-text);
        }

        .c-input,
        .c-select,
        .c-textarea {
            padding: var(--space-sm);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-sm);
            font-size: var(--font-sm);
            transition: var(--transition-fast);
            width: 100%;
            font-family: var(--font-main);
            background: var(--color-bg-card);
            color: var(--color-text);
        }

        .c-input:focus,
        .c-select:focus,
        .c-textarea:focus {
            border-color: var(--color-primary);
            outline: none;
            box-shadow: var(--shadow-focus);
        }

        .form-error {
            color: var(--color-danger);
            font-size: var(--font-xs);
            margin-top: var(--space-xxs);
        }

        /* Modal */
        .c-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: var(--z-index-modal);
            opacity: 0;
            transition: var(--transition-normal);
            backdrop-filter: blur(4px);
        }

        .c-modal.open {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: var(--color-bg-card);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: translateY(20px);
            transition: var(--transition-normal);
            box-shadow: var(--shadow-xl);
        }

        .c-modal.open .modal-content {
            transform: translateY(0);
        }

        /* Toast */
        .c-toast {
            position: fixed;
            bottom: var(--space-lg);
            right: var(--space-lg);
            padding: var(--space-md);
            border-radius: var(--radius-sm);
            box-shadow: var(--shadow-lg);
            z-index: var(--z-index-toast);
            opacity: 0;
            transform: translateY(20px);
            transition: var(--transition-normal);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            max-width: 400px;
        }

        .c-toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        .toast-success {
            background: var(--color-success);
            color: var(--color-text-light);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                position: fixed;
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .mobile-menu-toggle {
                display: flex;
            }
        }

        @media (max-width: 768px) {
            .grid-2fr-1fr {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body>
    <header class="c-header" role="banner">
        <div class="container header-container">
            <button class="c-button btn-outline mobile-menu-toggle hidden" aria-label="Toggle menu" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            <a href="#" class="logo" aria-label="Rentelindo Beranda">
                <span class="logo-icon">üè†</span>
                <span class="logo-text">Rentelindo</span>
            </a>
            <div class="l-flex gap-sm">
                <button class="c-button btn-outline theme-toggle" aria-label="Toggle mode gelap">
                    <i class="fas fa-moon"></i>
                    <span class="theme-text">Mode Gelap</span>
                </button>
                <div class="c-tooltip">
                    <button class="c-button btn-outline" aria-label="Notifikasi">
                        <i class="fas fa-bell"></i>
                        <span class="c-badge badge-danger" style="position: absolute; top: -5px; right: -5px;">3</span>
                    </button>
                    <span class="tooltip-text">Notifikasi</span>
                </div>
                <div class="c-tooltip">
                    <button class="c-button btn-outline" aria-label="Profil">
                        <div class="c-avatar">A</div>
                    </button>
                    <span class="tooltip-text">Profil</span>
                </div>
            </div>
        </div>
    </header>

    <div class="dashboard l-flex">
        <aside class="sidebar" id="sidebar" aria-label="Menu Navigasi">
            <button class="sidebar-toggle" aria-label="Toggle sidebar">
                <i class="fas fa-chevron-left"></i>
            </button>
            <a href="#" class="logo">
                <span class="logo-icon">üè†</span>
                <span class="logo-text">Rentelindo</span>
            </a>
            <nav>
                <ul>
                    <li><a href="#dashboard" class="nav-item active" data-section="dashboard"><i class="fas fa-home nav-icon"></i><span class="nav-text">Beranda</span></a></li>
                    <li><a href="#penyewa" class="nav-item" data-section="penyewa"><i class="fas fa-users nav-icon"></i><span class="nav-text">Penyewa</span></a></li>
                    <li><a href="#unit" class="nav-item" data-section="unit"><i class="fas fa-building nav-icon"></i><span class="nav-text">Unit</span></a></li>
                    <li><a href="#pembayaran" class="nav-item" data-section="pembayaran"><i class="fas fa-credit-card nav-icon"></i><span class="nav-text">Pembayaran</span></a></li>
                    <li><a href="#kontrak" class="nav-item" data-section="kontrak"><i class="fas fa-file-contract nav-icon"></i><span class="nav-text">Kontrak</span></a></li>
                    <li><a href="#pemeliharaan" class="nav-item" data-section="pemeliharaan"><i class="fas fa-tools nav-icon"></i><span class="nav-text">Pemeliharaan</span></a></li>
                    <li class="mt-auto"><a href="#" class="nav-item" onclick="logout()"><i class="fas fa-sign-out-alt nav-icon"></i><span class="nav-text">Keluar</span></a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content" id="main-content" tabindex="-1">
            <section class="c-hero fade-in">
                <div class="container hero-content">
                    <h1 class="hero-title">Kelola Properti Sewa dengan Mudah</h1>
                    <p class="hero-desc">Sistem manajemen properti sewa terintegrasi untuk memudahkan pengelolaan unit, penyewa, pembayaran, dan laporan keuangan.</p>
                    <div class="l-flex gap-sm flex-wrap">
                        <button class="c-button" onclick="openModal('add-tenant')"><i class="fas fa-user-plus"></i> Tambah Penyewa</button>
                        <button class="c-button btn-outline" onclick="openModal('add-unit')"><i class="fas fa-building"></i> Tambah Unit</button>
                    </div>
                </div>
            </section>

            <div class="container">
                <section id="dashboard" class="fade-in">
                    <h2 class="text-center">Ringkasan Dashboard</h2>
                    <p class="text-center text-muted mb-4">Tinjau statistik dan aktivitas terbaru properti Anda</p>
                    <div class="l-grid grid-auto-fill-240">
                        <div class="c-card">
                            <div class="l-flex align-center justify-between">
                                <div>
                                    <h3 class="text-muted">Total Unit</h3>
                                    <p id="total-units" class="text-xl text-bold">0</p>
                                </div>
                                <div class="c-badge badge-info"><i class="fas fa-building"></i></div>
                            </div>
                        </div>
                        <div class="c-card">
                            <div class="l-flex align-center justify-between">
                                <div>
                                    <h3 class="text-muted">Unit Ditempati</h3>
                                    <p id="rented-units" class="text-xl text-bold">0</p>
                                </div>
                                <div class="c-badge badge-success"><i class="fas fa-check"></i></div>
                            </div>
                        </div>
                        <div class="c-card">
                            <div class="l-flex align-center justify-between">
                                <div>
                                    <h3 class="text-muted">Unit Tersedia</h3>
                                    <p id="vacant-units" class="text-xl text-bold">0</p>
                                </div>
                                <div class="c-badge badge-warning"><i class="fas fa-home"></i></div>
                            </div>
                        </div>
                        <div class="c-card">
                            <div class="l-flex align-center justify-between">
                                <div>
                                    <h3 class="text-muted">Penyewa Baru</h3>
                                    <p id="new-tenants" class="text-xl text-bold">0</p>
                                </div>
                                <div class="c-badge badge-info"><i class="fas fa-users"></i></div>
                            </div>
                        </div>
                    </div>

                    <div class="c-card mt-4">
                        <div class="c-card-header">
                            <h3 class="c-card-title">Penyewa Terbaru</h3>
                            <button class="c-button btn-sm" onclick="navigateTo('penyewa')">Lihat Semua <i class="fas fa-arrow-right"></i></button>
                        </div>
                        <div class="table-responsive">
                            <table class="c-table" aria-label="Penyewa terbaru">
                                <thead>
                                    <tr>
                                        <th>ID Penyewa</th>
                                        <th>Nama</th>
                                        <th>Email</th>
                                        <th>Unit</th>
                                    </tr>
                                </thead>
                                <tbody id="new-tenants-table"></tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <section id="penyewa" class="fade-in" hidden>
                    <div class="l-flex justify-between align-center mb-4">
                        <div>
                            <h2>Manajemen Penyewa</h2>
                            <p class="text-muted">Kelola data penyewa dan status hunian</p>
                        </div>
                        <button class="c-button" onclick="openModal('add-tenant')"><i class="fas fa-user-plus"></i> Tambah Penyewa</button>
                    </div>
                    <div class="c-card">
                        <div class="c-card-header">
                            <div class="l-flex align-center gap-md flex-wrap" style="flex-grow: 1;">
                                <div class="l-flex align-center gap-sm max-w-400">
                                    <div class="l-flex align-center w-full" style="position: relative;">
                                        <i class="fas fa-search" style="position: absolute; left: var(--space-sm); color: var(--color-text-muted);"></i>
                                        <input type="text" class="c-input" id="tenant-filter" placeholder="Cari penyewa..." style="padding-left: var(--space-xl);" aria-label="Cari penyewa">
                                    </div>
                                </div>
                                <div class="l-flex gap-sm">
                                    <select class="c-select min-w-160" id="tenant-status-filter" aria-label="Filter status penyewa">
                                        <option value="">Semua Status</option>
                                        <option value="Aktif">Aktif</option>
                                        <option value="Menunggu">Menunggu</option>
                                        <option value="Nonaktif">Nonaktif</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="c-table" aria-label="Daftar penyewa">
                                <thead>
                                    <tr>
                                        <th>ID Penyewa</th>
                                        <th>Nama</th>
                                        <th>Kontak</th>
                                        <th>Unit</th>
                                        <th>Status</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="tenants-tbody"></tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <section id="unit" class="fade-in" hidden>
                    <div class="l-flex justify-between align-center mb-4">
                        <div>
                            <h2>Manajemen Unit</h2>
                            <p class="text-muted">Kelola unit properti dan status ketersediaan</p>
                        </div>
                        <button class="c-button" onclick="openModal('add-unit')"><i class="fas fa-building"></i> Tambah Unit</button>
                    </div>
                    <div class="c-card">
                        <div class="c-card-header">
                            <div class="l-flex align-center gap-md flex-wrap" style="flex-grow: 1;">
                                <div class="l-flex align-center gap-sm max-w-400">
                                    <div class="l-flex align-center w-full" style="position: relative;">
                                        <i class="fas fa-search" style="position: absolute; left: var(--space-sm); color: var(--color-text-muted);"></i>
                                        <input type="text" class="c-input" id="unit-filter" placeholder="Cari unit..." style="padding-left: var(--space-xl);" aria-label="Cari unit">
                                    </div>
                                </div>
                                <div class="l-flex gap-sm">
                                    <select class="c-select min-w-160" id="unit-status-filter" aria-label="Filter status unit">
                                        <option value="">Semua Status</option>
                                        <option value="Tersedia">Tersedia</option>
                                        <option value="Ditempati">Ditempati</option>
                                        <option value="Perbaikan">Perbaikan</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="c-table" aria-label="Daftar unit">
                                <thead>
                                    <tr>
                                        <th>Kode Unit</th>
                                        <th>Nama Unit</th>
                                        <th>Tipe</th>
                                        <th>Status</th>
                                        <th>Penyewa</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="units-tbody"></tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <section id="pembayaran" class="fade-in" hidden>
                    <div class="l-flex justify-between align-center mb-4">
                        <div>
                            <h2>Manajemen Pembayaran</h2>
                            <p class="text-muted">Kelola pembayaran sewa dan tagihan</p>
                        </div>
                        <button class="c-button" onclick="openModal('add-payment')"><i class="fas fa-plus"></i> Tambah Pembayaran</button>
                    </div>
                    <div class="l-grid grid-2fr-1fr">
                        <div class="c-card">
                            <div class="c-card-header">
                                <h3 class="c-card-title">Pembayaran Baru</h3>
                            </div>
                            <div class="c-card-body">
                                <form id="payment-form" class="c-form">
                                    <div class="form-group">
                                        <label for="payment-tenant" class="form-label form-required">Penyewa</label>
                                        <select id="payment-tenant" class="c-select" required>
                                            <option value="">Pilih Penyewa</option>
                                        </select>
                                        <div class="form-error" id="payment-tenant-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="payment-amount" class="form-label form-required">Jumlah (Rp)</label>
                                        <input type="number" id="payment-amount" class="c-input" placeholder="Masukkan jumlah" required>
                                        <div class="form-error" id="payment-amount-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="payment-date" class="form-label form-required">Tanggal Pembayaran</label>
                                        <input type="date" id="payment-date" class="c-input" required>
                                        <div class="form-error" id="payment-date-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label form-required">Metode Pembayaran</label>
                                        <div class="l-grid grid-auto-fill-240">
                                            <button type="button" class="payment-method active" data-method="transfer"><i class="fas fa-university"></i> Transfer</button>
                                            <button type="button" class="payment-method" data-method="qris"><i class="fas fa-qrcode"></i> QRIS</button>
                                            <button type="button" class="payment-method" data-method="tunai"><i class="fas fa-money-bill-wave"></i> Tunai</button>
                                        </div>
                                        <input type="hidden" id="payment-method" value="transfer" required>
                                    </div>
                                    <button type="submit" class="c-button"><i class="fas fa-check"></i> Simpan Pembayaran</button>
                                </form>
                            </div>
                        </div>
                        <div class="c-card">
                            <div class="c-card-header">
                                <h3 class="c-card-title">Riwayat Pembayaran</h3>
                            </div>
                            <div class="c-card-body">
                                <div class="table-responsive">
                                    <table class="c-table" aria-label="Riwayat pembayaran">
                                        <thead>
                                            <tr>
                                                <th>Tanggal</th>
                                                <th>Penyewa</th>
                                                <th>Jumlah</th>
                                                <th>Metode</th>
                                            </tr>
                                        </thead>
                                        <tbody id="payments-tbody"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <div class="c-modal" id="add-tenant">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Tambah Penyewa</h2>
                <button class="modal-close" aria-label="Tutup modal"><i class="fas fa-times"></i></button>
            </div>
            <form id="tenant-form" class="c-form">
                <div class="form-group">
                    <label for="tenant-name" class="form-label form-required">Nama</label>
                    <input type="text" id="tenant-name" class="c-input" required>
                </div>
                <div class="form-group">
                    <label for="tenant-email" class="form-label form-required">Email</label>
                    <input type="email" id="tenant-email" class="c-input" required>
                </div>
                <div class="form-group">
                    <label for="tenant-phone" class="form-label form-required">Telepon</label>
                    <input type="tel" id="tenant-phone" class="c-input" required>
                </div>
                <div class="modal-footer">
                    <button type="button" class="c-button btn-outline" onclick="closeModal()">Batal</button>
                    <button type="submit" class="c-button"><i class="fas fa-check"></i> Simpan</button>
                </div>
            </form>
        </div>
    </div>

    <div class="c-modal" id="add-unit">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Tambah Unit</h2>
                <button class="modal-close" aria-label="Tutup modal"><i class="fas fa-times"></i></button>
            </div>
            <form id="unit-form" class="c-form">
                <div class="form-group">
                    <label for="unit-code" class="form-label form-required">Kode Unit</label>
                    <input type="text" id="unit-code" class="c-input" required>
                </div>
                <div class="form-group">
                    <label for="unit-name" class="form-label form-required">Nama Unit</label>
                    <input type="text" id="unit-name" class="c-input" required>
                </div>
                <div class="form-group">
                    <label for="unit-type" class="form-label form-required">Tipe</label>
                    <select id="unit-type" class="c-select" required>
                        <option value="">Pilih Tipe</option>
                        <option value="Kamar">Kamar</option>
                        <option value="Apartemen">Apartemen</option>
                        <option value="Rumah">Rumah</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="c-button btn-outline" onclick="closeModal()">Batal</button>
                    <button type="submit" class="c-button"><i class="fas fa-check"></i> Simpan</button>
                </div>
            </form>
        </div>
    </div>

    <div class="c-toast" id="toast">
        <span id="toast-message"></span>
        <button class="toast-close" aria-label="Tutup notifikasi"><i class="fas fa-times"></i></button>
    </div>

    <script>
        // Simulated External API
        const ExternalAPI = {
            async fetchTenants() {
                return [
                    { id: 'T001', name: 'John Doe', email: 'john@example.com', phone: '08123456789', unit: 'A101', status: 'Aktif' },
                    { id: 'T002', name: 'Jane Smith', email: 'jane@example.com', phone: '08234567890', unit: 'B202', status: 'Menunggu' }
                ];
            },
            async fetchUnits() {
                return [
                    { code: 'A101', name: 'Kamar Deluxe', type: 'Kamar', status: 'Ditempati', tenant: 'John Doe' },
                    { code: 'B202', name: 'Apartemen Studio', type: 'Apartemen', status: 'Tersedia', tenant: '' }
                ];
            },
            async fetchPayments() {
                return [
                    { id: 'P001', tenant: 'John Doe', amount: 1500000, date: '2025-05-18', method: 'transfer' },
                    { id: 'P002', tenant: 'Jane Smith', amount: 2000000, date: '2025-05-17', method: 'qris' }
                ];
            },
            async saveTenant(data) {
                return { success: true, data };
            },
            async saveUnit(data) {
                return { success: true, data };
            },
            async savePayment(data) {
                return { success: true, data };
            }
        };

        // State Management
        let state = {
            tenants: [],
            units: [],
            payments: [],
            currentSection: 'dashboard'
        };

        // Utility Functions
        const $ = (selector) => document.querySelector(selector);
        const $$ = (selector) => document.querySelectorAll(selector);

        function showToast(message, type = 'success') {
            const toast = $('#toast');
            const toastMessage = $('#toast-message');
            toastMessage.textContent = message;
            toast.className = `c-toast ${type === 'success' ? 'toast-success' : 'toast-error'} show`;
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        function openModal(modalId) {
            const modal = $(`#${modalId}`);
            modal.classList.add('open');
            modal.querySelector('input, select')?.focus();
        }

        function closeModal() {
            $$('.c-modal').forEach(modal => modal.classList.remove('open'));
        }

        function navigateTo(section) {
            state.currentSection = section;
            $$('.nav-item').forEach(item => item.classList.remove('active'));
            $(`[data-section="${section}"]`)?.classList.add('active');
            $$('section').forEach(sec => sec.hidden = sec.id !== section);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Data Rendering
        async function loadData() {
            try {
                state.tenants = await ExternalAPI.fetchTenants();
                state.units = await ExternalAPI.fetchUnits();
                state.payments = await ExternalAPI.fetchPayments();
                updateDashboard();
                updateTenantsTable();
                updateUnitsTable();
                updatePaymentsTable();
                updatePaymentForm();
            } catch (error) {
                showToast('Gagal memuat data', 'error');
            }
        }

        function updateDashboard() {
            $('#total-units').textContent = state.units.length;
            $('#rented-units').textContent = state.units.filter(u => u.status === 'Ditempati').length;
            $('#vacant-units').textContent = state.units.filter(u => u.status === 'Tersedia').length;
            $('#new-tenants').textContent = state.tenants.filter(t => t.status === 'Menunggu').length;
        }

        function updateTenantsTable() {
            const tbody = $('#tenants-tbody');
            const dashboardTbody = $('#new-tenants-table');
            tbody.innerHTML = '';
            dashboardTbody.innerHTML = '';
            if (state.tenants.length === 0) {
                tbody.innerHTML = `<tr><td colspan="6"><div class="c-empty"><div class="empty-icon"><i class="fas fa-users"></i></div><h3 class="empty-title">Tidak ada penyewa</h3><p>Tambahkan penyewa baru untuk memulai</p><button class="c-button" onclick="openModal('add-tenant')"><i class="fas fa-user-plus"></i> Tambah Penyewa</button></div></td></tr>`;
                dashboardTbody.innerHTML = `<tr><td colspan="4"><div class="c-empty"><div class="empty-icon"><i class="fas fa-users"></i></div><h3 class="empty-title">Tidak ada penyewa</h3><p>Tambahkan penyewa baru untuk memulai</p></div></td></tr>`;
                return;
            }
            state.tenants.forEach(tenant => {
                const row = `
                    <tr>
                        <td>${tenant.id}</td>
                        <td>${tenant.name}</td>
                        <td>${tenant.email}</td>
                        <td>${tenant.unit || '-'}</td>
                        <td><span class="c-badge badge-${tenant.status.toLowerCase()}">${tenant.status}</span></td>
                        <td><button class="c-button btn-sm btn-outline"><i class="fas fa-edit"></i> Edit</button></td>
                    </tr>`;
                tbody.innerHTML += row;
                if (dashboardTbody.children.length < 5) dashboardTbody.innerHTML += `
                    <tr>
                        <td>${tenant.id}</td>
                        <td>${tenant.name}</td>
                        <td>${tenant.email}</td>
                        <td>${tenant.unit || '-'}</td>
                    </tr>`;
            });
        }

        function updateUnitsTable() {
            const tbody = $('#units-tbody');
            tbody.innerHTML = '';
            if (state.units.length === 0) {
                tbody.innerHTML = `<tr><td colspan="6"><div class="c-empty"><div class="empty-icon"><i class="fas fa-building"></i></div><h3 class="empty-title">Tidak ada unit</h3><p>Tambahkan unit baru untuk memulai</p><button class="c-button" onclick="openModal('add-unit')"><i class="fas fa-building"></i> Tambah Unit</button></div></td></tr>`;
                return;
            }
            state.units.forEach(unit => {
                tbody.innerHTML += `
                    <tr>
                        <td>${unit.code}</td>
                        <td>${unit.name}</td>
                        <td>${unit.type}</td>
                        <td><span class="c-badge badge-${unit.status.toLowerCase()}">${unit.status}</span></td>
                        <td>${unit.tenant || '-'}</td>
                        <td><button class="c-button btn-sm btn-outline"><i class="fas fa-edit"></i> Edit</button></td>
                    </tr>`;
            });
        }

        function updatePaymentsTable() {
            const tbody = $('#payments-tbody');
            tbody.innerHTML = '';
            if (state.payments.length === 0) {
                tbody.innerHTML = `<tr><td colspan="4"><div class="c-empty"><div class="empty-icon"><i class="fas fa-credit-card"></i></div><h3 class="empty-title">Tidak ada pembayaran</h3><p>Belum ada riwayat pembayaran yang tercatat</p></div></td></tr>`;
                return;
            }
            state.payments.forEach(payment => {
                tbody.innerHTML += `
                    <tr>
                        <td>${payment.date}</td>
                        <td>${payment.tenant}</td>
                        <td>Rp ${payment.amount.toLocaleString()}</td>
                        <td><span class="c-badge bg-${payment.method} text-${payment.method}">${payment.method.charAt(0).toUpperCase() + payment.method.slice(1)}</span></td>
                    </tr>`;
            });
        }

        function updatePaymentForm() {
            const select = $('#payment-tenant');
            select.innerHTML = '<option value="">Pilih Penyewa</option>';
            state.tenants.forEach(tenant => {
                select.innerHTML += `<option value="${tenant.id}">${tenant.name}</option>`;
            });
        }

        // Event Listeners
        function initEventListeners() {
            // Sidebar Toggle
            $('.sidebar-toggle').addEventListener('click', () => {
                $('#sidebar').classList.toggle('sidebar-collapsed');
            });

            // Theme Toggle
            $('.theme-toggle').addEventListener('click', () => {
                const html = document.documentElement;
                const isDark = html.dataset.theme === 'dark';
                html.dataset.theme = isDark ? 'light' : 'dark';
                $('.theme-text').textContent = isDark ? 'Mode Gelap' : 'Mode Terang';
                $('.theme-toggle i').className = isDark ? 'fas fa-moon' : 'fas fa-sun';
            });

            // Modal Close
            $$('.modal-close').forEach(btn => btn.addEventListener('click', closeModal));

            // Payment Method Selection
            $$('.payment-method').forEach(btn => {
                btn.addEventListener('click', () => {
                    $$('.payment-method').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    $('#payment-method').value = btn.dataset.method;
                });
            });

            // Form Submissions
            $('#tenant-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const data = {
                    id: `T${String(state.tenants.length + 1).padStart(3, '0')}`,
                    name: $('#tenant-name').value,
                    email: $('#tenant-email').value,
                    phone: $('#tenant-phone').value,
                    unit: '',
                    status: 'Menunggu'
                };
                try {
                    await ExternalAPI.saveTenant(data);
                    state.tenants.push(data);
                    updateTenantsTable();
                    updateDashboard();
                    closeModal();
                    showToast('Penyewa berhasil ditambahkan');
                    $('#tenant-form').reset();
                } catch (error) {
                    showToast('Gagal menambahkan penyewa', 'error');
                }
            });

            $('#unit-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const data = {
                    code: $('#unit-code').value,
                    name: $('#unit-name').value,
                    type: $('#unit-type').value,
                    status: 'Tersedia',
                    tenant: ''
                };
                try {
                    await ExternalAPI.saveUnit(data);
                    state.units.push(data);
                    updateUnitsTable();
                    updateDashboard();
                    closeModal();
                    showToast('Unit berhasil ditambahkan');
                    $('#unit-form').reset();
                } catch (error) {
                    showToast('Gagal menambahkan unit', 'error');
                }
            });

            $('#payment-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const data = {
                    id: `P${String(state.payments.length + 1).padStart(3, '0')}`,
                    tenant: state.tenants.find(t => t.id === $('#payment-tenant').value)?.name,
                    amount: parseInt($('#payment-amount').value),
                    date: $('#payment-date').value,
                    method: $('#payment-method').value
                };
                try {
                    await ExternalAPI.savePayment(data);
                    state.payments.push(data);
                    updatePaymentsTable();
                    closeModal();
                    showToast('Pembayaran berhasil disimpan');
                    $('#payment-form').reset();
                } catch (error) {
                    showToast('Gagal menyimpan pembayaran', 'error');
                }
            });

            // Navigation
            $$('.nav-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    navigateTo(item.dataset.section);
                });
            });
        }

        // Logout
        function logout() {
            showToast('Berhasil keluar');
            setTimeout(() => location.reload(), 1000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadData();
            initEventListeners();
        });
    </script>
</body>
</html>