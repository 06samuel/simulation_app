<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description"
    content="Platform penyewaan apartemen dengan pencarian canggih, sistem pembayaran aman, dan pengalaman pengguna yang intuitif." />
  <title>Platform Penyewaan Apartemen</title>

  <!-- External CSS -->
  <link rel="stylesheet"
    href="https://code.jquery.com/ui/1.13.3/themes/base/jquery-ui.css "
    integrity="sha256-J9rF6vti76fYvHpwS6vSzpM96cW2k27/xvEVNX5kyp8="
    crossorigin="anonymous" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css "
    integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
    crossorigin="anonymous" />

  <!-- Custom Styles -->
  <style>
    /* Reset & Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Open Sans', sans-serif;
      line-height: 1.6;
      color: #333;
      background-color: #f4f4f4;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      background: linear-gradient(90deg, #007bff, #0056b3);
      color: white;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    header h1 {
      font-size: 1.5rem;
      font-weight: 700;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .user-info button {
      background: #fff;
      color: #007bff;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .user-info button:hover {
      background: #e9ecef;
    }

    nav {
      background: #fff;
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      margin: 3px;
    }

    nav a {
      color: #007bff;
      text-decoration: none;
      font-weight: 600;
      padding: 0.5rem;
      border-radius: 4px;
      transition: background 0.3s ease, color 0.3s ease;
    }

    nav a:hover,
    nav a.active {
      background: #007bff;
      color: white;
    }

    main {
      flex: 1;
      padding: 2rem;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }

    .search-section {
      background: #fff;
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
    }

    .search-form {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group label {
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .form-group input,
    .form-group select {
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }

    .form-group input:focus,
    .form-group select:focus {
      border-color: #007bff;
      outline: none;
    }

    .search-form button {
      background: #007bff;
      color: white;
      border: none;
      padding: 0.75rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s ease;
    }

    .search-form button:hover {
      background: #0056b3;
    }

    #map {
      height: 300px;
      margin: 1rem 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .apartments-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .card {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }

    .card figure {
      margin: 0;
      position: relative;
    }

    .card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      display: block;
    }

    .card figcaption {
      padding: 1rem;
      font-weight: 600;
      font-size: 1.2rem;
      color: #333;
    }

    .card blockquote {
      padding: 0 1rem 1rem;
      font-style: italic;
      color: #666;
      border-left: 4px solid #007bff;
      margin: 0 0 1rem;
    }

    .card details {
      padding: 0 1rem 1rem;
    }

    .card details summary {
      cursor: pointer;
      font-weight: 600;
      color: #007bff;
      margin-bottom: 0.5rem;
    }

    .card details p {
      margin: 0;
      color: #333;
    }

    .property-actions {
      padding: 1rem;
      display: flex;
      gap: 1rem;
    }

    .btn-primary {
      background: #007bff;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s ease;
    }

    .btn-primary:hover {
      background: #0056b3;
    }

    .btn-secondary {
      background: #6c757d;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s ease;
    }

    .btn-secondary:hover {
      background: #5a6268;
    }

    footer {
      background: #007bff;
      color: white;
      text-align: center;
      padding: 1rem;
    }

    a:focus,
    button:focus,
    input:focus,
    select:focus,
    textarea:focus {
      outline: 2px solid #007bff;
      outline-offset: 2px;
    }

    @media (max-width: 768px) {
      header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      nav ul {
        flex-direction: row;
        align-items: center;
      }

      .search-form {
        grid-template-columns: 1fr;
      }

      .apartments-grid {
        grid-template-columns: 1fr;
      }
    }

    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .error-message {
      background: #ffe6e6;
      color: #d32f2f;
      padding: 1rem;
      border-radius: 4px;
      margin: 1rem 0;
    }

    .property-details {
      padding: 1rem;
    }

    .property-details ul {
      list-style: none;
      padding: 0;
    }

    .property-details li {
      margin-bottom: 0.5rem;
    }

    .property-details i {
      margin-right: 0.5rem;
      color: #007bff;
    }

    .review {
      margin: 1rem 0;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 4px;
    }

    .report-button {
      margin-top: 1rem;
    }

    .loyalty-badge {
      background: #28a745;
      color: white;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.9rem;
    }
  </style>
</head>

<body>
  <header>
    <h1>Platform Penyewaan Apartemen</h1>
    <div class="user-info">
      <span>Pengguna: user@example.com</span>
      <button id="logout">Keluar</button>
    </div>
  </header>

  <nav>
    <ul>
      <li><a href="#" data-section="home" class="active">Beranda</a></li>
      <li><a href="#" data-section="search">Pencarian</a></li>
      <li><a href="#" data-section="profile">Profil</a></li>
      <li><a href="#" data-section="support">Dukungan</a></li>
    </ul>
  </nav>

  <main>
    <section id="home" class="fade-in active">
      <h2>Properti Unggulan</h2>
      <div class="apartments-grid">
        <figure class="card property-card">
          <img src="https://source.unsplash.com/random/800x600/?luxury-apartment "
            alt="Modern Luxury Apartment" loading="lazy">
          <figcaption>
            <h3>Luxury Downtown Suite</h3>
            <blockquote>"Experience urban living at its finest with panoramic city views"</blockquote>
            <details>
              <summary>View Details</summary>
              <div class="property-details">
                <ul>
                  <li><i class="fas fa-bed"></i> 2 Bedrooms</li>
                  <li><i class="fas fa-ruler-combined"></i> 1,200 sq ft</li>
                  <li><i class="fas fa-map-marker-alt"></i> Downtown District</li>
                  <li><i class="fas fa-dollar-sign"></i> $2,500/month</li>
                </ul>
              </div>
            </details>
            <div class="property-actions">
              <button class="btn-primary">Book Now</button>
              <button class="btn-secondary">Virtual Tour</button>
            </div>
          </figcaption>
        </figure>

        <figure class="card property-card">
          <img src="https://source.unsplash.com/random/800x600/?modern-condo "
            alt="Modern Condo Interior" loading="lazy">
          <figcaption>
            <h3>Urban Oasis Condo</h3>
            <blockquote>"Modern comfort meets sophisticated design"</blockquote>
            <details>
              <summary>View Details</summary>
              <div class="property-details">
                <ul>
                  <li><i class="fas fa-bed"></i> 1 Bedroom</li>
                  <li><i class="fas fa-bath"></i> 1 Bathroom</li>
                  <li><i class="fas fa-ruler-combined"></i> 800 sq ft</li>
                  <li><i class="fas fa-dollar-sign"></i> Starting from $1500/month</li>
                  <li><i class="fas fa-calendar-check"></i> Available from: October 2023</li>
                </ul>
              </div>
            </details>
            <div class="property-actions">
              <button class="btn-primary">Book Now</button>
              <button class="btn-secondary">Virtual Tour</button>
            </div>
          </figcaption>
        </figure>

        <figure class="card property-card">
          <img src="https://source.unsplash.com/random/800x600/?modern-apartment "
            alt="Contemporary Apartment Design" loading="lazy">
          <figcaption>
            <h3>Modern City Living</h3>
            <blockquote>"Contemporary design meets urban convenience"</blockquote>
            <details>
              <summary>Property Details</summary>
              <div class="property-details">
                <ul>
                  <li><i class="fas fa-bed"></i> 1 Bedroom</li>
                  <li><i class="fas fa-bath"></i> 1 Bathroom</li>
                  <li><i class="fas fa-ruler-combined"></i> 800 sq ft</li>
                  <li><i class="fas fa-dollar-sign"></i> Starting from $1500/month</li>
                  <li><i class="fas fa-calendar-check"></i> Available from: November 2023</li>
                </ul>
              </div>
            </details>
            <div class="property-actions">
              <button class="btn-primary">Book Now</button>
              <button class="btn-secondary">Virtual Tour</button>
            </div>
          </figcaption>
        </figure>
      </div>
    </section>

    <section id="search" class="fade-in">
      <h2>Pencarian Apartemen</h2>
      <div class="search-section">
        <form class="search-form">
          <div class="form-group">
            <label for="location">Lokasi</label>
            <input type="text" id="location" placeholder="Masukkan lokasi..."
              aria-label="Lokasi apartemen">
          </div>
          <div class="form-group">
            <label for="check-in">Check-In</label>
            <input type="date" id="check-in" aria-label="Tanggal check-in">
          </div>
          <div class="form-group">
            <label for="check-out">Check-Out</label>
            <input type="date" id="check-out" aria-label="Tanggal check-out">
          </div>
          <div class="form-group">
            <label for="price-range">Rentang Harga</label>
            <select id="price-range" aria-label="Rentang harga">
              <option value="">Semua Harga</option>
              <option value="low">Rp 0 - 5.000.000</option>
              <option value="mid">Rp 5.000.000 - 10.000.000</option>
              <option value="high">> Rp 10.000.000</option>
            </select>
          </div>
          <div class="form-group">
            <label for="amenities">Fasilitas</label>
            <select id="amenities" multiple aria-label="Fasilitas apartemen">
              <option value="wifi">WiFi</option>
              <option value="ac">AC</option>
              <option value="pool">Kolam Renang</option>
              <option value="gym">Gym</option>
              <option value="parking">Parkir</option>
              <option value="laundry">Laundry</option>
            </select>
          </div>
          <div class="form-group">
            <label for="type">Tipe Apartemen</label>
            <select id="type" aria-label="Tipe apartemen">
              <option value="">Semua Tipe</option>
              <option value="studio">Studio</option>
              <option value="1-bedroom">1 Kamar Tidur</option>
              <option value="2-bedroom">2 Kamar Tidur</option>
              <option value="penthouse">Penthouse</option>
            </select>
          </div>
          <button type="submit">Cari</button>
        </form>
        <div id="map"></div>
      </div>
      <div class="apartments-grid" id="search-results"></div>
    </section>

    <section id="profile" class="fade-in">
      <h2>Profil Pengguna</h2>
      <div class="card">
        <h3>Informasi Akun</h3>
        <p>Nama: User Example<br>Email: user@example.com</p>
        <button>Edit Profil</button>
      </div>
      <div class="card">
        <h3>Riwayat Pemesanan</h3>
        <p>Pemesanan #001 - Status: Selesai</p>
        <p>Pemesanan #002 - Status: Aktif</p>
      </div>
      <div class="card">
        <h3>Ulasan Saya</h3>
        <div class="review">
          <p><strong>Budi</strong> (4.5/5): Sangat nyaman!</p>
        </div>
      </div>
    </section>

    <section id="support" class="fade-in">
      <h2>Dukungan Pelanggan</h2>
      <div class="card">
        <h3>Hubungi Kami</h3>
        <p>Email: support@apartemen.com<br>Telepon: +62 123 456 789<br>Live Chat:
          <button>Buka Chat</button>
        </p>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Platform Penyewaan Apartemen. Hak Cipta Dilindungi.</p>
  </footer>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js "
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/ui/1.13.3/jquery-ui.min.js "
    integrity="sha256-+0W1XhmB3o8zwTsXhp5rQGRuhbwcJpcBNVHa5eC2qCU="
    crossorigin="anonymous"></script>
  <script src="https://js.stripe.com/v3/ "></script>
  <script src="https://unpkg.com/leaflet @1.9.4/dist/leaflet.js"></script>
  <script>
    $(document).ready(function () {
      $('[data-section]').on('click', function (e) {
        e.preventDefault();
        const target = $(this).data('section');
        $('section').removeClass('active fade-in').hide();
        $('#' + target).addClass('active fade-in').show();
        $('[data-section]').removeClass('active');
        $(this).addClass('active');
      });

      $('#check-in, #check-out').datepicker({
        dateFormat: 'yy-mm-dd',
        minDate: 0,
        onSelect: function () {
          const checkIn = $('#check-in').datepicker('getDate');
          if (checkIn && this.id === 'check-in') {
            $('#check-out').datepicker('option', 'minDate', checkIn);
          }
        }
      });

      if (typeof L !== 'undefined') {
        const map = L.map('map').setView([-6.2088, 106.8456], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution:
            '&copy; <a href="https://www.openstreetmap.org/copyright ">OpenStreetMap</a> contributors'
        }).addTo(map);
        L.marker([-6.2088, 106.8456]).addTo(map).bindPopup('Lokasi Apartemen')
          .openPopup();
      }

      const apartments = [{
          id: 1,
          name: 'Apartemen Mewah',
          location: 'Jakarta Pusat',
          price: 8000000,
          amenities: ['WiFi', 'AC', 'Kolam Renang'],
          type: '2-bedroom',
          image: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2 ',
          description: 'Lokasi strategis dengan pemandangan kota yang menakjubkan.',
          owner: {
            name: 'John Doe',
            verified: true
          },
          availability: ['2025-05-20', '2025-05-21']
        },
        {
          id: 2,
          name: 'Apartemen Minimalis',
          location: 'Jakarta Selatan',
          price: 5000000,
          amenities: ['Parkir', 'Gym', 'Laundry'],
          type: 'studio',
          image: 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267 ',
          description: 'Desain modern dengan suasana tenang dan nyaman.',
          owner: {
            name: 'Jane Doe',
            verified: true
          },
          availability: ['2025-05-22', '2025-05-23']
        }
      ];

      $('#search-form').on('submit', function (e) {
        e.preventDefault();
        const location = $('#location').val().toLowerCase();
        const checkIn = $('#check-in').val();
        const checkOut = $('#check-out').val();
        const priceRange = $('#price-range').val();
        const amenities = $('#amenities').val() || [];
        const type = $('#type').val();

        const filtered = apartments.filter(apartment => {
          const matchesLocation = !location || apartment.location.toLowerCase()
            .includes(location);
          const matchesPrice = !priceRange ||
            (priceRange === 'low' && apartment.price <= 5000000) ||
            (priceRange === 'mid' && apartment.price > 5000000 &&
              apartment.price <= 10000000) ||
            (priceRange === 'high' && apartment.price > 10000000);
          const matchesAmenities = amenities.length === 0 || amenities.every(a =>
            apartment.amenities.includes(a));
          const matchesType = !type || apartment.type === type;

          return matchesLocation && matchesPrice && matchesAmenities && matchesType;
        });
        renderApartments(filtered);
      });

      function renderApartments(data) {
        const grid = $('#search-results').empty();
        data.forEach(apartment => {
          grid.append(`
            <figure class="card property-card">
              <img src="${apartment.image}" alt="${apartment.name}">
              <figcaption>
                <h3>${apartment.name}</h3>
                <blockquote>${apartment.description}</blockquote>
                <details>
                  <summary>Detail Apartemen</summary>
                  <div class="property-details">
                    <ul>
                      <li>Harga: Rp ${apartment.price.toLocaleString()}/bulan</li>
                      <li>Fasilitas: ${apartment.amenities.join(', ')}</li>
                      <li>Tipe: ${apartment.type}</li>
                      <li>Pemilik: ${apartment.owner.name} ${apartment.owner.verified ? '<span class="loyalty-badge">Verified</span>' : ''}</li>
                    </ul>
                  </div>
                </details>
                <div class="property-actions">
                  <button class="btn-primary" data-id="${apartment.id}">Pesan Sekarang</button>
                  <button class="btn-secondary" data-id="${apartment.id}">Tur Virtual</button>
                </div>
              </figcaption>
            </figure>
          `);
        });
      }

      if (typeof Stripe !== 'undefined') {
        const stripe = Stripe('pk_test_51YOUR_STRIPE_PUBLISHABLE_KEY');
        const elements = stripe.elements();
        const card = elements.create('card');
        card.mount('#card-element');

        $(document).on('click', '.btn-primary', function () {
          const id = $(this).data('id');
          alert(`Memulai proses pemesanan untuk apartemen #${id}`);
        });

        $(document).on('click', '.btn-secondary', function () {
          const id = $(this).data('id');
          alert(`Memulai tur virtual 360Â° untuk apartemen #${id}`);
        });
      } else {
        $('#card-element').html(
          '<p class="error-message">Pembayaran tidak tersedia saat ini.</p>'
        );
      }

      $('#logout').on('click', function () {
        alert('Anda telah keluar.');
      });

      // Initial Load
      renderApartments(apartments);
    });
  </script>
</body>

</html>