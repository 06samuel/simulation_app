<!DOCTYPE html>
<html lang="id" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Valley Estetika | Apartemen Impian Anda</title>

    <!-- Favicon (Emoji sebagai contoh, ganti dengan .ico atau .png jika ada) -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèûÔ∏è</text></svg>">

    <!-- Google Fonts: Poppins untuk Judul, Inter untuk Teks Umum -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* Reset Dasar dan Variabel Global */
        :root {
            /* Palet Warna Utama (Fancy Green Theme) */
            --color-primary-light: #2ecc71;
            /* Emerald Green */
            --color-primary-dark: #27ae60;
            /* Darker Emerald */
            --color-secondary-light: #3498db;
            /* Peter River Blue */
            --color-secondary-dark: #2980b9;
            /* Belize Hole Blue */
            --color-accent-light: #f1c40f;
            /* Sun Flower Yellow */
            --color-accent-dark: #f39c12;
            /* Orange */

            /* Warna Netral & Latar Belakang */
            --color-bg-light: #f4f7f6;
            /* Sangat terang, sedikit keabu-abuan/kehijauan */
            --color-surface-light: #ffffff;
            --color-text-light: #34495e;
            /* Wet Asphalt */
            --color-border-light: #e0e6ed;

            --color-bg-dark: #2c3e50;
            /* Midnight Blue */
            --color-surface-dark: #34495e;
            /* Wet Asphalt */
            --color-text-dark: #ecf0f1;
            /* Clouds */
            --color-border-dark: #4a627a;

            /* Tipografi */
            --font-primary: 'Poppins', sans-serif;
            --font-secondary: 'Inter', sans-serif;
            --text-base-size: 16px;

            /* Spasi & Radius */
            --spacing-unit: 8px;
            --border-radius-small: 4px;
            --border-radius-medium: 8px;
            --border-radius-large: 16px;

            /* Bayangan */
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.1);

            /* Transisi */
            --transition-fast: all 0.2s ease-in-out;
            --transition-normal: all 0.3s ease-in-out;
        }

        /* Inisialisasi Tema Terang sebagai default */
        html[data-theme="light"] {
            --app-primary: var(--color-primary-light);
            --app-primary-hover: var(--color-primary-dark);
            --app-secondary: var(--color-secondary-light);
            --app-secondary-hover: var(--color-secondary-dark);
            --app-accent: var(--color-accent-light);
            --app-accent-hover: var(--color-accent-dark);
            --app-bg: var(--color-bg-light);
            --app-surface: var(--color-surface-light);
            --app-text: var(--color-text-light);
            --app-text-muted: #7f8c8d;
            /* Asbestos */
            --app-border: var(--color-border-light);
            --app-input-bg: var(--color-surface-light);
        }

        html[data-theme="dark"] {
            --app-primary: var(--color-primary-dark);
            /* Sedikit lebih gelap untuk kontras lebih baik di mode gelap */
            --app-primary-hover: var(--color-primary-light);
            --app-secondary: var(--color-secondary-dark);
            --app-secondary-hover: var(--color-secondary-light);
            --app-accent: var(--color-accent-dark);
            --app-accent-hover: var(--color-accent-light);
            --app-bg: var(--color-bg-dark);
            --app-surface: var(--color-surface-dark);
            --app-text: var(--color-text-dark);
            --app-text-muted: #bdc3c7;
            /* Silver */
            --app-border: var(--color-border-dark);
            --app-input-bg: var(--color-surface-dark);
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: var(--text-base-size);
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-secondary);
            background-color: var(--app-bg);
            color: var(--app-text);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            transition: var(--transition-normal);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }

        /* Struktur Utama */
        .app-container {
            width: 100%;
            max-width: 1200px;
            /* Kontainer utama agar tidak terlalu lebar di layar besar */
            margin: 0 auto;
            padding: 0 calc(var(--spacing-unit) * 2);
        }

        .app-header {
            background-color: var(--app-surface);
            border-bottom: 1px solid var(--app-border);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-sm);
            transition: var(--transition-normal);
        }

        .app-main {
            flex-grow: 1;
            padding-top: calc(var(--spacing-unit) * 4);
            padding-bottom: calc(var(--spacing-unit) * 4);
        }

        .app-footer {
            background-color: var(--app-surface);
            border-top: 1px solid var(--app-border);
            padding: calc(var(--spacing-unit) * 2) 0;
            text-align: center;
            font-size: 0.9em;
            color: var(--app-text-muted);
            transition: var(--transition-normal);
        }

        /* Navigasi */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
            /* Ketinggian Navbar yang konsisten */
        }

        .navbar-brand {
            font-family: var(--font-primary);
            font-size: 1.5em;
            font-weight: 700;
            text-decoration: none;
            color: var(--app-text);
            display: flex;
            align-items: center;
        }

        .navbar-brand .icon {
            color: var(--app-primary);
            margin-right: var(--spacing-unit);
            font-size: 1.2em;
            /* Ukuran icon di brand */
        }

        .navbar-brand span {
            color: var(--app-primary);
        }

        .nav-menu {
            list-style: none;
            display: flex;
            align-items: center;
        }

        .nav-item {
            margin-left: calc(var(--spacing-unit) * 2.5);
        }

        .nav-link {
            text-decoration: none;
            color: var(--app-text);
            font-weight: 500;
            padding: calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 1.5);
            border-radius: var(--border-radius-small);
            transition: var(--transition-fast);
            position: relative;
            /* Untuk garis bawah */
            display: flex;
            align-items: center;
        }

        .nav-link .icon {
            margin-right: calc(var(--spacing-unit) * 0.75);
            font-size: 1.1em;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--app-primary);
            background-color: rgba(var(--app-primary), 0.1);
            /* Warna primer dengan opacity rendah */
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            /* Sesuaikan dengan border-bottom header */
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background-color: var(--app-primary);
            border-radius: 2px;
        }

        .theme-toggle-btn {
            background: none;
            border: 1px solid var(--app-border);
            color: var(--app-text);
            padding: calc(var(--spacing-unit) * 0.8) calc(var(--spacing-unit) * 1.2);
            border-radius: var(--border-radius-medium);
            cursor: pointer;
            font-size: 1.1em;
            /* Ukuran icon tombol tema */
            transition: var(--transition-fast);
            min-width: 44px;
            /* Untuk aksesibilitas */
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle-btn:hover {
            border-color: var(--app-primary);
            color: var(--app-primary);
        }

        .navbar-toggler {
            /* Untuk mobile */
            display: none;
            background: none;
            border: none;
            font-size: 1.5em;
            color: var(--app-text);
            cursor: pointer;
        }

        /* Konten Halaman SPA */
        .page {
            display: none;
            /* Sembunyikan secara default */
            animation: pageFadeIn 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .page.active {
            display: block;
        }

        @keyframes pageFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Judul Halaman & Bagian */
        .page-title,
        .section-title {
            font-family: var(--font-primary);
            color: var(--app-text);
            margin-bottom: calc(var(--spacing-unit) * 3);
            font-weight: 700;
        }

        .page-title {
            font-size: 2.2em;
            border-bottom: 3px solid var(--app-primary);
            padding-bottom: var(--spacing-unit);
            display: inline-block;
            /* Agar border bottom hanya sepanjang teks */
        }

        .section-title {
            font-size: 1.8em;
        }

        .page-title .icon,
        .section-title .icon {
            color: var(--app-primary);
            margin-right: var(--spacing-unit);
        }

        /* Kartu Properti (Fancy Card Design) */
        .property-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            /* Grid Responsif */
            gap: calc(var(--spacing-unit) * 3);
        }

        .property-card {
            background-color: var(--app-surface);
            border-radius: var(--border-radius-large);
            box-shadow: var(--shadow-md);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: var(--transition-normal);
            border: 1px solid var(--app-border);
        }

        .property-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .property-card-image-wrapper {
            position: relative;
            width: 100%;
            padding-top: 60%;
            /* Aspect ratio 5:3 */
            overflow: hidden;
        }

        .property-card-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .property-card:hover .property-card-image {
            transform: scale(1.1);
        }

        .property-card-content {
            padding: calc(var(--spacing-unit) * 2);
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            /* Agar konten mengisi ruang vertikal */
        }

        .property-card-title {
            font-family: var(--font-primary);
            font-size: 1.25em;
            font-weight: 600;
            margin-bottom: calc(var(--spacing-unit) * 0.5);
            color: var(--app-text);
        }

        .property-card-location {
            font-size: 0.9em;
            color: var(--app-text-muted);
            margin-bottom: calc(var(--spacing-unit) * 1.5);
            display: flex;
            align-items: center;
        }

        .property-card-location .icon {
            margin-right: calc(var(--spacing-unit) * 0.5);
            color: var(--app-secondary);
        }

        .property-card-features {
            list-style: none;
            display: flex;
            justify-content: space-between;
            /* Atau space-around */
            margin-bottom: calc(var(--spacing-unit) * 1.5);
            padding: calc(var(--spacing-unit) * 1) 0;
            border-top: 1px dashed var(--app-border);
            border-bottom: 1px dashed var(--app-border);
            font-size: 0.85em;
        }

        .property-card-features li {
            display: flex;
            align-items: center;
            color: var(--app-text-muted);
        }

        .property-card-features .icon {
            margin-right: calc(var(--spacing-unit) * 0.5);
            color: var(--app-accent);
            font-size: 1.1em;
        }

        .property-card-description {
            font-size: 0.9em;
            line-height: 1.5;
            margin-bottom: calc(var(--spacing-unit) * 2);
            flex-grow: 1;
            /* Deskripsi mengisi ruang yang tersedia */
            color: var(--app-text);
        }

        .property-card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
            /* Mendorong footer ke bawah */
        }

        .property-card-price {
            font-family: var(--font-primary);
            font-size: 1.3em;
            font-weight: 700;
            color: var(--app-primary);
        }

        /* Tombol (Fancy Buttons) */
        .btn {
            display: inline-flex;
            /* Agar icon dan teks sejajar */
            align-items: center;
            justify-content: center;
            padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 2.5);
            font-family: var(--font-primary);
            font-weight: 600;
            font-size: 0.95em;
            text-decoration: none;
            border: none;
            border-radius: var(--border-radius-medium);
            cursor: pointer;
            transition: var(--transition-fast);
            text-align: center;
            /* Pastikan teks di tengah jika tidak ada icon */
        }

        .btn .icon {
            margin-right: var(--spacing-unit);
            font-size: 1.1em;
        }

        .btn-sm {
            padding: calc(var(--spacing-unit) * 0.75) calc(var(--spacing-unit) * 1.5);
            font-size: 0.85em;
        }

        .btn-lg {
            padding: calc(var(--spacing-unit) * 1.75) calc(var(--spacing-unit) * 3.5);
            font-size: 1.1em;
        }

        .btn-primary {
            background-color: var(--app-primary);
            color: var(--color-surface-light);
            /* Teks putih untuk kontras */
        }

        .btn-primary:hover {
            background-color: var(--app-primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(var(--app-primary), 0.3);
        }

        html[data-theme="dark"] .btn-primary {
            color: var(--color-text-dark);
            /* Mungkin perlu disesuaikan jika primer gelap terlalu gelap */
        }


        .btn-secondary {
            background-color: var(--app-secondary);
            color: var(--color-surface-light);
        }

        .btn-secondary:hover {
            background-color: var(--app-secondary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(var(--app-secondary), 0.3);
        }

        .btn-outline-primary {
            background-color: transparent;
            color: var(--app-primary);
            border: 2px solid var(--app-primary);
        }

        .btn-outline-primary:hover {
            background-color: var(--app-primary);
            color: var(--color-surface-light);
        }

        html[data-theme="dark"] .btn-outline-primary:hover {
            color: var(--color-text-dark);
        }

        .btn-outline-secondary {
            background-color: transparent;
            color: var(--app-secondary);
            border: 2px solid var(--app-secondary);
        }

        .btn-outline-secondary:hover {
            background-color: var(--app-secondary);
            color: var(--color-surface-light);
        }

        /* Formulir (Fancy Forms) */
        .form-group {
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: calc(var(--spacing-unit) * 0.75);
            font-size: 0.9em;
        }

        .form-control,
        .form-select {
            width: 100%;
            padding: calc(var(--spacing-unit) * 1.25);
            border: 1px solid var(--app-border);
            border-radius: var(--border-radius-medium);
            background-color: var(--app-input-bg);
            color: var(--app-text);
            font-size: 1em;
            transition: var(--transition-fast);
        }

        .form-control:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--app-primary);
            box-shadow: 0 0 0 3px rgba(var(--app-primary), 0.2);
        }

        .filter-form-container {
            background-color: var(--app-surface);
            padding: calc(var(--spacing-unit) * 3);
            border-radius: var(--border-radius-large);
            margin-bottom: calc(var(--spacing-unit) * 4);
            box-shadow: var(--shadow-sm);
        }

        .filter-form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: calc(var(--spacing-unit) * 2);
            align-items: end;
            /* Sejajarkan item ke bawah, berguna untuk tombol */
        }

        .filter-actions {
            grid-column: 1 / -1;
            /* Tombol mengambil seluruh lebar pada baris baru jika perlu */
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-unit);
            margin-top: var(--spacing-unit);
        }

        /* Hero Section di Dashboard */
        .hero-section {
            background: linear-gradient(135deg, rgba(var(--app-primary), 0.8), rgba(var(--app-secondary), 0.7)),
                url('https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80') no-repeat center center/cover;
            padding: calc(var(--spacing-unit) * 8) calc(var(--spacing-unit) * 3);
            border-radius: var(--border-radius-large);
            text-align: center;
            color: var(--color-text-dark);
            /* Teks terang di atas gambar gelap */
            margin-bottom: calc(var(--spacing-unit) * 4);
        }

        .hero-title {
            font-family: var(--font-primary);
            font-size: 3em;
            font-weight: 800;
            margin-bottom: calc(var(--spacing-unit) * 2);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero-subtitle {
            font-size: 1.25em;
            margin-bottom: calc(var(--spacing-unit) * 3);
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Info Boxes di Dashboard */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: calc(var(--spacing-unit) * 3);
        }

        .info-box {
            background-color: var(--app-surface);
            padding: calc(var(--spacing-unit) * 3);
            border-radius: var(--border-radius-medium);
            box-shadow: var(--shadow-sm);
            border-left: 5px solid var(--app-accent);
        }

        .info-box h3 {
            font-family: var(--font-primary);
            font-size: 1.4em;
            margin-bottom: var(--spacing-unit);
            color: var(--app-accent);
        }

        /* Tabel (Untuk Halaman CRUD) */
        .table-responsive {
            overflow-x: auto;
            /* Hanya scroll horizontal jika perlu */
            background-color: var(--app-surface);
            border-radius: var(--border-radius-medium);
            box-shadow: var(--shadow-sm);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }

        .table th,
        .table td {
            padding: calc(var(--spacing-unit) * 1.5);
            text-align: left;
            border-bottom: 1px solid var(--app-border);
        }

        .table th {
            background-color: rgba(var(--app-primary), 0.1);
            font-weight: 600;
            font-family: var(--font-primary);
            color: var(--app-primary);
        }

        .table tbody tr:hover {
            background-color: rgba(var(--app-secondary), 0.05);
        }

        .table td .btn {
            margin-right: calc(var(--spacing-unit) * 0.5);
        }

        .table td .btn:last-child {
            margin-right: 0;
        }

        /* Pesan "Tidak Ada Hasil" */
        .no-results-message {
            text-align: center;
            padding: calc(var(--spacing-unit) * 5);
            background-color: var(--app-surface);
            border-radius: var(--border-radius-medium);
            color: var(--app-text-muted);
            font-size: 1.2em;
        }

        .no-results-message .icon {
            font-size: 3em;
            display: block;
            margin-bottom: var(--spacing-unit);
            color: var(--app-secondary);
        }

        /* Responsifitas */
        @media (max-width: 768px) {
            .navbar {
                height: auto;
                padding: var(--spacing-unit) 0;
            }

            .navbar-toggler {
                display: block;
            }

            .nav-menu {
                display: none;
                /* Sembunyikan default, tampilkan dengan JS */
                flex-direction: column;
                width: 100%;
                position: absolute;
                top: 69px;
                /* Tepat di bawah header */
                left: 0;
                background-color: var(--app-surface);
                box-shadow: var(--shadow-md);
                border-top: 1px solid var(--app-border);
            }

            .nav-menu.open {
                display: flex;
            }

            .nav-item {
                margin: 0;
                width: 100%;
            }

            .nav-link {
                padding: calc(var(--spacing-unit) * 1.5);
                justify-content: center;
                border-bottom: 1px solid var(--app-border);
            }

            .nav-link.active::after {
                width: 30%;
                height: 2px;
                bottom: 5px;
            }

            .nav-item:last-child .nav-link {
                border-bottom: none;
            }

            .nav-item .theme-toggle-btn {
                /* Pindahkan tombol tema ke dalam menu mobile */
                width: 100%;
                border-radius: 0;
                border-left: none;
                border-right: none;
                justify-content: center;
                /* Tengah kan icon */
            }

            .nav-menu .nav-item:has(.theme-toggle-btn) {
                /* Hapus margin kiri untuk tombol tema di mobile */
                margin-left: 0;
            }


            .hero-title {
                font-size: 2.2em;
            }

            .hero-subtitle {
                font-size: 1.1em;
            }

            .page-title {
                font-size: 1.8em;
            }

            .section-title {
                font-size: 1.5em;
            }

            .filter-form-grid {
                grid-template-columns: 1fr;
                /* Semua input jadi satu kolom */
            }

            .filter-actions {
                flex-direction: column;
                /* Tombol filter jadi vertikal */
            }

            .filter-actions .btn {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <!-- Header Aplikasi -->
    <header class="app-header">
        <div class="app-container">
            <nav class="navbar">
                <a href="#dashboard" class="navbar-brand page-router">
                    <i class="fas fa-mountain-sun icon"></i> Green<span>Valley</span>
                </a>
                <button class="navbar-toggler" id="navbarToggler" aria-label="Toggle navigasi">
                    <i class="fas fa-bars"></i>
                </button>
                <ul class="nav-menu" id="navMenu">
                    <li class="nav-item"><a class="nav-link page-router" href="#dashboard"><i
                                class="fas fa-tachometer-alt icon"></i> Dasbor</a></li>
                    <li class="nav-item"><a class="nav-link page-router" href="#apartments"><i
                                class="fas fa-city icon"></i> Apartemen</a></li>
                    <li class="nav-item"><a class="nav-link page-router" href="#crud"><i class="fas fa-edit icon"></i>
                            Kelola</a></li>
                    <li class="nav-item">
                        <button id="themeToggleBtn" class="theme-toggle-btn" title="Ganti Tema">
                            <i class="fas fa-sun"></i> <!-- Icon akan diubah oleh JS -->
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Konten Utama Aplikasi -->
    <main class="app-main">
        <div class="app-container">

            <!-- Halaman Dasbor -->
            <section id="dashboard-page" class="page">
                <div class="hero-section">
                    <h1 class="hero-title">Temukan Surga Hunian Anda</h1>
                    <p class="hero-subtitle">Green Valley Estetika menawarkan pilihan apartemen eksklusif dengan desain
                        modern, fasilitas lengkap, dan lokasi strategis untuk gaya hidup berkualitas.</p>
                    <a href="#apartments" class="btn btn-primary btn-lg page-router">
                        <i class="fas fa-search icon"></i> Jelajahi Apartemen
                    </a>
                </div>

                <div class="info-grid">
                    <article class="info-box">
                        <h3><i class="fas fa-star icon"></i> Kualitas Terbaik</h3>
                        <p>Kami hanya menampilkan properti dengan standar kualitas dan kenyamanan tertinggi untuk Anda.
                        </p>
                    </article>
                    <article class="info-box">
                        <h3><i class="fas fa-map-marked-alt icon"></i> Lokasi Strategis</h3>
                        <p>Akses mudah ke pusat bisnis, hiburan, dan fasilitas publik penting lainnya.</p>
                    </article>
                    <article class="info-box">
                        <h3><i class="fas fa-shield-alt icon"></i> Transaksi Aman</h3>
                        <p>Platform kami dirancang untuk memastikan proses pencarian dan transaksi Anda aman dan nyaman.
                        </p>
                    </article>
                </div>
            </section>

            <!-- Halaman Apartemen -->
            <section id="apartments-page" class="page">
                <h1 class="page-title"><i class="fas fa-city icon"></i> Galeri Apartemen</h1>

                <div class="filter-form-container">
                    <form id="filterForm">
                        <div class="filter-form-grid">
                            <div class="form-group">
                                <label for="searchKeyword" class="form-label">Kata Kunci (Nama, Lokasi)</label>
                                <input type="text" id="searchKeyword" class="form-control"
                                    placeholder="Contoh: Mewah, Pusat Kota">
                            </div>
                            <div class="form-group">
                                <label for="filterBedrooms" class="form-label">Kamar Tidur</label>
                                <select id="filterBedrooms" class="form-select">
                                    <option value="">Semua</option>
                                    <option value="1">1 Kamar</option>
                                    <option value="2">2 Kamar</option>
                                    <option value="3">3+ Kamar</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="filterPrice" class="form-label">Rentang Harga</label>
                                <select id="filterPrice" class="form-select">
                                    <option value="">Semua</option>
                                    <option value="0-500000000">Hingga Rp 500 Jt</option>
                                    <option value="500000000-1000000000">Rp 500 Jt - Rp 1 M</option>
                                    <option value="1000000000-Infinity">Diatas Rp 1 M</option>
                                </select>
                            </div>
                            <div class="filter-actions">
                                <button type="submit" class="btn btn-primary"><i class="fas fa-filter icon"></i>
                                    Terapkan</button>
                                <button type="reset" class="btn btn-outline-secondary"><i class="fas fa-undo icon"></i>
                                    Reset</button>
                            </div>
                        </div>
                    </form>
                </div>

                <div id="propertyList" class="property-grid">
                    <!-- Kartu properti akan dimuat di sini oleh JavaScript -->
                </div>
                <div id="noResultsMessage" class="no-results-message" style="display: none;">
                    <i class="fas fa-search-minus icon"></i>
                    <p>Oops! Tidak ada properti yang cocok dengan kriteria Anda.</p>
                    <p>Coba ubah filter atau kata kunci pencarian.</p>
                </div>
            </section>

            <!-- Halaman Kelola Properti (CRUD Placeholder) -->
            <section id="crud-page" class="page">
                <h1 class="page-title"><i class="fas fa-edit icon"></i> Kelola Properti</h1>
                <p>Halaman ini adalah contoh untuk fitur manajemen properti (CRUD). Dalam aplikasi nyata, ini akan
                    terhubung ke sistem backend untuk mengelola data properti.</p>

                <button class="btn btn-primary" style="margin-bottom: calc(var(--spacing-unit) * 2);"><i
                        class="fas fa-plus icon"></i> Tambah Properti Baru</button>

                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nama Properti</th>
                                <th>Lokasi</th>
                                <th>Harga</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>GVX001</td>
                                <td>The Royal Emerald</td>
                                <td>Jakarta Selatan</td>
                                <td>Rp 2.500.000.000</td>
                                <td>
                                    <button class="btn btn-sm btn-secondary" title="Lihat"><i
                                            class="fas fa-eye"></i></button>
                                    <button class="btn btn-sm btn-accent" title="Edit"><i
                                            class="fas fa-pencil-alt"></i></button>
                                    <button class="btn btn-sm btn-danger-custom" title="Hapus"><i
                                            class="fas fa-trash-alt"></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td>GVX002</td>
                                <td>Azure Sky Suites</td>
                                <td>Surabaya Pusat</td>
                                <td>Rp 1.850.000.000</td>
                                <td>
                                    <button class="btn btn-sm btn-secondary" title="Lihat"><i
                                            class="fas fa-eye"></i></button>
                                    <button class="btn btn-sm btn-accent" title="Edit"><i
                                            class="fas fa-pencil-alt"></i></button>
                                    <button class="btn btn-sm btn-danger-custom" title="Hapus"><i
                                            class="fas fa-trash-alt"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <style>
                    /* CSS tambahan untuk tombol danger custom jika tidak ada utility class-nya */
                    .btn-danger-custom {
                        background-color: #e74c3c;
                        color: white;
                    }

                    .btn-danger-custom:hover {
                        background-color: #c0392b;
                    }

                    .btn-accent {
                        background-color: var(--app-accent);
                        color: var(--app-text);
                    }

                    .btn-accent:hover {
                        background-color: var(--app-accent-hover);
                    }
                </style>
            </section>

        </div>
    </main>

    <!-- Footer Aplikasi -->
    <footer class="app-footer">
        <div class="app-container">
            <p>¬© <span id="currentYear"></span> Green Valley Estetika. Dirancang dengan <i class="fas fa-heart"
                    style="color: #e74c3c;"></i> menggunakan teknologi SPA HTML5 Native.</p>
            <p>Semua hak cipta dilindungi.</p>
        </div>
    </footer>

    <!-- Template untuk Kartu Properti (Digunakan oleh JavaScript) -->
    <template id="propertyCardTemplate">
        <article class="property-card">
            <div class="property-card-image-wrapper">
                <img src="" alt="Gambar Apartemen" class="property-card-image">
            </div>
            <div class="property-card-content">
                <h3 class="property-card-title">Nama Apartemen</h3>
                <p class="property-card-location"><i class="fas fa-map-marker-alt icon"></i> <span>Lokasi</span></p>
                <ul class="property-card-features">
                    <li><i class="fas fa-bed icon"></i> <span data-feature="bedrooms">-</span> K. Tidur</li>
                    <li><i class="fas fa-bath icon"></i> <span data-feature="bathrooms">-</span> K. Mandi</li>
                    <li><i class="fas fa-ruler-combined icon"></i> <span data-feature="area">-</span> m¬≤</li>
                </ul>
                <p class="property-card-description">Deskripsi singkat properti...</p>
                <div class="property-card-footer">
                    <span class="property-card-price">Rp 0</span>
                    <a href="#" class="btn btn-sm btn-primary property-details-link">
                        <i class="fas fa-info-circle icon"></i> Detail
                    </a>
                </div>
            </div>
        </article>
    </template>

    <script>
        // IIFE untuk enkapsulasi kode aplikasi
        (function GreenValleyApp() {
            "use strict";

            // STATE APLIKASI
            const appState = {
                currentTheme: localStorage.getItem('appTheme') || 'light',
                currentPageId: 'dashboard',
                propertiesData: [
                    { id: 'gv001', name: 'Emerald Heights Loft', location: 'Jakarta Pusat, DKI Jakarta', bedrooms: 1, bathrooms: 1, area: 60, price: 850000000, description: 'Apartemen studio mewah dengan pemandangan kota yang menakjubkan, fasilitas lengkap dan desain interior modern minimalis.', image: 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YXBhcnRtZW50fGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=80' },
                    { id: 'gv002', name: 'Azure Sky Residence', location: 'Surabaya Barat, Jawa Timur', bedrooms: 3, bathrooms: 2, area: 135, price: 2100000000, description: 'Hunian keluarga eksklusif dengan tiga kamar tidur, taman pribadi di balkon, dan akses ke kolam renang infinity pool.', image: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YXBhcnRtZW50fGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=80' },
                    { id: 'gv003', name: 'Serene Hillside Villa', location: 'Bandung Utara, Jawa Barat', bedrooms: 2, bathrooms: 2, area: 95, price: 1250000000, description: 'Apartemen dua kamar tidur yang tenang dengan udara sejuk pegunungan, cocok untuk relaksasi dan gaya hidup sehat.', image: 'https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8YXBhcnRtZW50fGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=80' },
                    { id: 'gv004', name: 'Urban Oasis Suite', location: 'Medan Kota, Sumatera Utara', bedrooms: 2, bathrooms: 2, area: 100, price: 1150000000, description: 'Suite modern di pusat kota, menawarkan kemewahan dan kenyamanan dengan akses mudah ke berbagai fasilitas urban.', image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGFwYXJ0bWVudCUyMGJ1aWxkaW5nfGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=80' },
                    { id: 'gv005', name: 'Tranquil Garden Condo', location: 'Bogor Selatan, Jawa Barat', bedrooms: 3, bathrooms: 2, area: 120, price: 1450000000, description: 'Kondominium asri dikelilingi taman hijau, ideal bagi keluarga yang mendambakan ketenangan dan udara segar.', image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fGFwYXJ0bWVudCUyMGJ1aWxkaW5nfGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=80' },
                    { id: 'gv006', name: 'Metropolitan Sky View', location: 'Tangerang, Banten', bedrooms: 1, bathrooms: 1, area: 45, price: 550000000, description: 'Apartemen studio kompak dan fungsional, sempurna untuk profesional muda dengan mobilitas tinggi.', image: 'https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTd8fGFwYXJ0bWVudHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=600&q=80' }
                ]
            };

            // CACHE ELEMENT DOM
            const DOMElements = {
                html: document.documentElement,
                themeToggleBtn: document.getElementById('themeToggleBtn'),
                navbarToggler: document.getElementById('navbarToggler'),
                navMenu: document.getElementById('navMenu'),
                navLinks: document.querySelectorAll('.nav-link.page-router'),
                pages: document.querySelectorAll('.page'),
                propertyListContainer: document.getElementById('propertyList'),
                propertyCardTemplate: document.getElementById('propertyCardTemplate'),
                filterForm: document.getElementById('filterForm'),
                searchKeywordInput: document.getElementById('searchKeyword'),
                filterBedroomsSelect: document.getElementById('filterBedrooms'),
                filterPriceSelect: document.getElementById('filterPrice'),
                noResultsMessage: document.getElementById('noResultsMessage'),
                currentYearSpan: document.getElementById('currentYear')
            };

            // UTILITIES
            const Utils = {
                formatPrice: (price) => {
                    return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(price);
                },
                // Fungsi untuk membatasi deskripsi
                truncateText: (text, maxLength) => {
                    if (text.length <= maxLength) return text;
                    return text.substring(0, text.lastIndexOf(' ', maxLength)) + '...';
                }
            };

            // FUNGSI THEME
            const ThemeManager = {
                applyTheme: (theme) => {
                    DOMElements.html.setAttribute('data-theme', theme);
                    if (DOMElements.themeToggleBtn) {
                        DOMElements.themeToggleBtn.innerHTML = theme === 'dark' ? '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
                        DOMElements.themeToggleBtn.setAttribute('aria-label', theme === 'dark' ? 'Ganti ke Tema Terang' : 'Ganti ke Tema Gelap');
                    }
                    localStorage.setItem('appTheme', theme);
                    appState.currentTheme = theme;
                },
                toggleTheme: () => {
                    const newTheme = appState.currentTheme === 'light' ? 'dark' : 'light';
                    ThemeManager.applyTheme(newTheme);
                },
                init: () => {
                    ThemeManager.applyTheme(appState.currentTheme);
                    if (DOMElements.themeToggleBtn) {
                        DOMElements.themeToggleBtn.addEventListener('click', ThemeManager.toggleTheme);
                    }
                }
            };

            // FUNGSI NAVIGASI SPA (ROUTER)
            const Router = {
                navigateTo: (pageId) => {
                    DOMElements.pages.forEach(page => page.classList.remove('active'));
                    const targetPage = document.getElementById(pageId + '-page');
                    if (targetPage) {
                        targetPage.classList.add('active');
                        appState.currentPageId = pageId;

                        // Update active state di navbar
                        DOMElements.navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === '#' + pageId) {
                                link.classList.add('active');
                            }
                        });

                        // Update URL hash tanpa trigger hashchange (jika sudah ditangani)
                        if (window.location.hash !== '#' + pageId) {
                            // history.pushState(null, '', '#' + pageId); // untuk URL lebih bersih, tapi hash lebih sederhana
                            window.location.hash = pageId;
                        }
                        // Tutup menu mobile setelah navigasi
                        if (DOMElements.navMenu.classList.contains('open')) {
                            DOMElements.navMenu.classList.remove('open');
                            DOMElements.navbarToggler.innerHTML = '<i class="fas fa-bars"></i>';
                            DOMElements.navbarToggler.setAttribute('aria-expanded', 'false');
                        }

                        window.scrollTo(0, 0); // Scroll ke atas halaman
                    } else {
                        console.warn(`Halaman dengan ID "${pageId}-page" tidak ditemukan. Mengarahkan ke dasbor.`);
                        Router.navigateTo('dashboard'); // Fallback ke dashboard
                    }
                },
                handleHashChange: () => {
                    const hash = window.location.hash.substring(1);
                    const pageId = hash.split('/')[0] || 'dashboard';
                    // const param = hash.split('/')[1]; // Untuk parameter detail, belum diimplementasikan
                    Router.navigateTo(pageId);
                },
                init: () => {
                    DOMElements.navLinks.forEach(link => {
                        link.addEventListener('click', (event) => {
                            event.preventDefault();
                            const targetPageId = link.getAttribute('href').substring(1);
                            Router.navigateTo(targetPageId);
                        });
                    });
                    window.addEventListener('hashchange', Router.handleHashChange);
                    Router.handleHashChange(); // Panggil saat load untuk halaman awal
                }
            };

            // FUNGSI RENDER KARTU PROPERTI
            const PropertyRenderer = {
                createCardElement: (property) => {
                    if (!DOMElements.propertyCardTemplate) {
                        console.error('Template kartu properti tidak ditemukan!');
                        return null;
                    }
                    const cardClone = DOMElements.propertyCardTemplate.content.cloneNode(true);
                    const cardElement = cardClone.querySelector('.property-card');

                    // Isi data ke elemen kartu
                    const imageEl = cardElement.querySelector('.property-card-image');
                    imageEl.src = property.image || 'https://via.placeholder.com/400x240.png?text=Properti+GreenValley';
                    imageEl.alt = `Gambar ${property.name}`;

                    cardElement.querySelector('.property-card-title').textContent = property.name;
                    cardElement.querySelector('.property-card-location span').textContent = property.location;

                    cardElement.querySelector('[data-feature="bedrooms"]').textContent = property.bedrooms;
                    cardElement.querySelector('[data-feature="bathrooms"]').textContent = property.bathrooms;
                    cardElement.querySelector('[data-feature="area"]').textContent = property.area;

                    cardElement.querySelector('.property-card-description').textContent = Utils.truncateText(property.description, 100);
                    cardElement.querySelector('.property-card-price').textContent = Utils.formatPrice(property.price);

                    const detailsLink = cardElement.querySelector('.property-details-link');
                    detailsLink.href = `#property/${property.id}`; // Placeholder untuk rute detail
                    detailsLink.addEventListener('click', (e) => {
                        e.preventDefault();
                        // Logika untuk menampilkan detail properti (bisa modal atau halaman baru)
                        alert(`Menampilkan detail untuk: ${property.name}\nFitur ini belum diimplementasikan sepenuhnya.`);
                        // Contoh navigasi jika ada halaman detail: Router.navigateTo(`property-detail/${property.id}`);
                    });

                    return cardElement;
                },
                displayProperties: (propertiesToDisplay) => {
                    if (!DOMElements.propertyListContainer) return;
                    DOMElements.propertyListContainer.innerHTML = ''; // Kosongkan kontainer

                    if (propertiesToDisplay.length === 0) {
                        DOMElements.noResultsMessage.style.display = 'block';
                    } else {
                        DOMElements.noResultsMessage.style.display = 'none';
                        propertiesToDisplay.forEach(property => {
                            const cardNode = PropertyRenderer.createCardElement(property);
                            if (cardNode) {
                                DOMElements.propertyListContainer.appendChild(cardNode);
                            }
                        });
                    }
                }
            };

            // FUNGSI FILTER PROPERTI
            const PropertyFilter = {
                filter: () => {
                    const keyword = DOMElements.searchKeywordInput.value.toLowerCase().trim();
                    const bedrooms = DOMElements.filterBedroomsSelect.value;
                    const priceRange = DOMElements.filterPriceSelect.value.split('-');

                    const minPrice = priceRange[0] === "" ? 0 : parseInt(priceRange[0]);
                    const maxPrice = priceRange[0] === "" ? Infinity : (priceRange[1] === "Infinity" ? Infinity : parseInt(priceRange[1]));

                    const filteredProperties = appState.propertiesData.filter(prop => {
                        const nameMatch = prop.name.toLowerCase().includes(keyword);
                        const locationMatch = prop.location.toLowerCase().includes(keyword);
                        const keywordMatch = nameMatch || locationMatch;

                        const bedroomMatch = bedrooms === "" ||
                            (bedrooms === "3" && prop.bedrooms >= 3) ||
                            prop.bedrooms == parseInt(bedrooms);

                        const priceMatch = prop.price >= minPrice && prop.price <= maxPrice;

                        return keywordMatch && bedroomMatch && priceMatch;
                    });
                    PropertyRenderer.displayProperties(filteredProperties);
                },
                init: () => {
                    if (DOMElements.filterForm) {
                        DOMElements.filterForm.addEventListener('submit', (e) => {
                            e.preventDefault();
                            PropertyFilter.filter();
                        });
                        DOMElements.filterForm.addEventListener('reset', () => {
                            // Sedikit delay agar reset value selesai sebelum filter
                            setTimeout(PropertyFilter.filter, 0);
                        });
                    }
                    // Tampilkan semua properti awal saat halaman dimuat
                    PropertyRenderer.displayProperties(appState.propertiesData);
                }
            };

            // FUNGSI MOBILE NAV TOGGLE
            const MobileNav = {
                toggle: () => {
                    DOMElements.navMenu.classList.toggle('open');
                    const isOpen = DOMElements.navMenu.classList.contains('open');
                    DOMElements.navbarToggler.innerHTML = isOpen ? '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
                    DOMElements.navbarToggler.setAttribute('aria-expanded', isOpen.toString());
                },
                init: () => {
                    if (DOMElements.navbarToggler) {
                        DOMElements.navbarToggler.addEventListener('click', MobileNav.toggle);
                    }
                }
            };

            // INISIALISASI APLIKASI
            const initApp = () => {
                ThemeManager.init();
                Router.init();
                PropertyFilter.init(); // Ini juga akan menampilkan properti awal
                MobileNav.init();

                if (DOMElements.currentYearSpan) {
                    DOMElements.currentYearSpan.textContent = new Date().getFullYear();
                }
                console.log("Green Valley Estetika App Initialized!");
                console.log("State Aplikasi Awal:", appState);
                console.log("Elemen DOM yang di-cache:", DOMElements);
            };

            // Jalankan aplikasi saat DOM siap
            document.addEventListener('DOMContentLoaded', initApp);

        })(); // Akhir dari IIFE
    </script>

</body>

</html>