<!DOCTYPE html>
<html lang="id" data-theme="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1f2937"> <!-- Disesuaikan dengan tema gelap default -->
  <title>Apartemen Taman Anggrek - TemukanApartemen</title>
  <meta name="description"
    content="Temukan detail lengkap Apartemen Taman Anggrek dengan fitur manajemen sewa yang canggih dan tampilan yang memanjakan pengguna.">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer">

  <!-- Google Fonts - Plus Jakarta Sans -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- Main CSS -->
  <style>
    /* Root Variables - Design System */
    :root {
      /* Warna Utama */
      --color-primary: #2563eb;
      /* Biru Primer */
      --color-primary-light: #3b82f6;
      --color-primary-dark: #1d4ed8;
      --color-secondary: #10b981;
      /* Hijau Sekunder (untuk sukses, dll) */
      --color-secondary-light: #34d399;
      --color-secondary-dark: #059669;
      --color-accent: #f59e0b;
      /* Kuning Aksen (untuk peringatan, dll) */
      --color-accent-light: #fbbf24;
      --color-accent-dark: #d97706;

      /* Warna Status */
      --color-error: #ef4444;
      --color-success: #10b981;
      /* Sama dengan sekunder, bisa dibedakan jika perlu */
      --color-warning: #f59e0b;
      /* Sama dengan aksen */
      --color-info: #3b82f6;
      /* Sama dengan primary-light */

      /* Warna Netral (Dasar untuk Tema Terang) */
      --neutral-base-0: #ffffff;
      /* Putih bersih */
      --neutral-base-50: #f9fafb;
      /* Abu-abu sangat terang */
      --neutral-base-100: #f3f4f6;
      /* Abu-abu terang */
      --neutral-base-200: #e5e7eb;
      /* Abu-abu sedikit lebih gelap */
      --neutral-base-300: #d1d5db;
      /* Abu-abu sedang */
      --neutral-base-400: #9ca3af;
      /* Abu-abu agak gelap */
      --neutral-base-500: #6b7280;
      /* Abu-abu gelap */
      --neutral-base-600: #4b5563;
      /* Abu-abu sangat gelap */
      --neutral-base-700: #374151;
      /* Hampir hitam */
      --neutral-base-800: #1f2937;
      /* Sangat gelap, untuk latar belakang tema gelap */
      --neutral-base-900: #111827;
      /* Hitam lembut, untuk permukaan sekunder tema gelap */

      /* Variabel Tema (Akan di-override oleh [data-theme]) */
      --bg-primary: var(--neutral-base-0);
      --bg-secondary: var(--neutral-base-50);
      --bg-tertiary: var(--neutral-base-100);
      --text-primary: var(--neutral-base-900);
      --text-secondary: var(--neutral-base-700);
      --text-tertiary: var(--neutral-base-500);
      --border-color: var(--neutral-base-200);
      --shadow-color-rgb: 0, 0, 0;
      /* Untuk bayangan */

      /* Tipografi */
      --font-family-sans: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      --font-size-xs: 0.75rem;
      /* 12px */
      --font-size-sm: 0.875rem;
      /* 14px */
      --font-size-base: 1rem;
      /* 16px */
      --font-size-lg: 1.125rem;
      /* 18px */
      --font-size-xl: 1.25rem;
      /* 20px */
      --font-size-2xl: 1.5rem;
      /* 24px */
      --font-size-3xl: 1.875rem;
      /* 30px */
      --font-size-4xl: 2.25rem;
      /* 36px */
      --line-height-normal: 1.6;
      --line-height-heading: 1.3;

      /* Spasi */
      --spacing-1: 0.25rem;
      /* 4px */
      --spacing-2: 0.5rem;
      /* 8px */
      --spacing-3: 0.75rem;
      /* 12px */
      --spacing-4: 1rem;
      /* 16px */
      --spacing-5: 1.25rem;
      /* 20px */
      --spacing-6: 1.5rem;
      /* 24px */
      --spacing-8: 2rem;
      /* 32px */
      --spacing-10: 2.5rem;
      /* 40px */
      --spacing-12: 3rem;
      /* 48px */
      --spacing-16: 4rem;
      /* 64px */

      /* Radius Sudut */
      --radius-sm: 0.25rem;
      --radius-md: 0.5rem;
      --radius-lg: 0.75rem;
      --radius-xl: 1rem;
      --radius-full: 9999px;

      /* Bayangan */
      --shadow-sm: 0 1px 2px 0 rgba(var(--shadow-color-rgb), 0.05);
      --shadow-md: 0 4px 6px -1px rgba(var(--shadow-color-rgb), 0.1), 0 2px 4px -1px rgba(var(--shadow-color-rgb), 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(var(--shadow-color-rgb), 0.1), 0 4px 6px -2px rgba(var(--shadow-color-rgb), 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(var(--shadow-color-rgb), 0.1), 0 10px 10px -5px rgba(var(--shadow-color-rgb), 0.04);
      --shadow-focus: 0 0 0 3px rgba(var(--color-primary-rgb), 0.3);
      /* color-primary-rgb akan didefinisikan di tema */


      /* Transisi */
      --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);

      /* Layout */
      --container-width: 1280px;
      --header-height: 4.5rem;
      /* Sedikit lebih tinggi untuk padding */

      /* Z-index */
      --z-below: -1;
      --z-normal: 1;
      --z-tooltip: 10;
      --z-sticky: 100;
      --z-modal-backdrop: 200;
      --z-modal-content: 201;
      --z-header: 300;
      /* Header di atas modal backdrop jika modalnya full screen */
    }

    /* Tema Terang */
    [data-theme="light"] {
      --bg-primary: var(--neutral-base-0);
      --bg-secondary: var(--neutral-base-50);
      --bg-tertiary: var(--neutral-base-100);
      --text-primary: var(--neutral-base-900);
      --text-secondary: var(--neutral-base-700);
      --text-tertiary: var(--neutral-base-500);
      --border-color: var(--neutral-base-200);
      --shadow-color-rgb: 0, 0, 0;
      --color-primary-rgb: 37, 99, 235;
      /* RGB dari #2563eb */
    }

    /* Tema Gelap */
    [data-theme="dark"] {
      --bg-primary: var(--neutral-base-800);
      --bg-secondary: var(--neutral-base-900);
      --bg-tertiary: var(--neutral-base-700);
      --text-primary: var(--neutral-base-50);
      --text-secondary: var(--neutral-base-200);
      --text-tertiary: var(--neutral-base-400);
      --border-color: var(--neutral-base-600);
      --shadow-color-rgb: 255, 255, 255;
      /* Bayangan terang pada tema gelap */
      --color-primary-rgb: 59, 130, 246;
      /* RGB dari #3b82f6 (primary-light) untuk kontras lebih baik */
    }

    /* Reset & Gaya Dasar */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-tap-highlight-color: transparent;
      /* Menghilangkan highlight biru pada tap di mobile */
    }

    html {
      font-family: var(--font-family-sans);
      font-size: 16px;
      scroll-behavior: smooth;
      line-height: var(--line-height-normal);
    }

    body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
      font-weight: 400;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color var(--transition-normal), color var(--transition-normal);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    img,
    picture,
    video,
    canvas,
    svg {
      display: block;
      max-width: 100%;
      height: auto;
    }

    a {
      color: var(--color-primary);
      text-decoration: none;
      transition: color var(--transition-fast);
    }

    a:hover {
      color: var(--color-primary-dark);
    }

    button {
      font-family: inherit;
      cursor: pointer;
      background: none;
      border: none;
      outline: none;
      color: inherit;
      padding: 0;
    }

    ul,
    ol {
      list-style-type: none;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-weight: 700;
      line-height: var(--line-heading);
      margin-bottom: var(--spacing-4);
      color: var(--text-primary);
      /* Warna heading mengikuti text-primary tema */
    }

    h1 {
      font-size: var(--font-size-4xl);
    }

    h2 {
      font-size: var(--font-size-3xl);
    }

    h3 {
      font-size: var(--font-size-2xl);
    }

    h4 {
      font-size: var(--font-size-xl);
    }

    h5 {
      font-size: var(--font-size-lg);
    }

    h6 {
      font-size: var(--font-size-base);
    }

    p {
      margin-bottom: var(--spacing-4);
      color: var(--text-secondary);
    }

    p:last-child {
      margin-bottom: 0;
    }

    /* Preferensi Gerakan yang Dikurangi */
    @media (prefers-reduced-motion: reduce) {
      html {
        scroll-behavior: auto;
      }

      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Layout */
    .l-container {
      width: 100%;
      max-width: var(--container-width);
      margin-left: auto;
      margin-right: auto;
      padding-left: var(--spacing-4);
      padding-right: var(--spacing-4);
    }

    .l-main {
      flex-grow: 1;
      /* Memastikan footer tetap di bawah */
      padding-top: var(--spacing-8);
      padding-bottom: var(--spacing-8);
    }

    .l-flex {
      display: flex;
    }

    .l-grid {
      display: grid;
    }

    .items-center {
      align-items: center;
    }

    .justify-between {
      justify-content: space-between;
    }

    .justify-center {
      justify-content: center;
    }

    .gap-1 {
      gap: var(--spacing-1);
    }

    .gap-2 {
      gap: var(--spacing-2);
    }

    .gap-3 {
      gap: var(--spacing-3);
    }

    .gap-4 {
      gap: var(--spacing-4);
    }

    .gap-6 {
      gap: var(--spacing-6);
    }

    .gap-8 {
      gap: var(--spacing-8);
    }

    /* Utilitas Visibilitas */
    .u-sr-only {
      /* Hanya untuk Screen Reader */
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    .u-hidden {
      display: none !important;
    }

    /* Komponen: Bar Status Koneksi */
    .c-status-bar {
      background-color: var(--color-success);
      color: var(--neutral-base-0);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: var(--spacing-2) var(--spacing-4);
      font-size: var(--font-size-sm);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: var(--z-header);
      /* Di atas header */
      transform: translateY(-100%);
      transition: transform var(--transition-normal), background-color var(--transition-normal);
      text-align: center;
    }

    .c-status-bar.is-visible {
      transform: translateY(0);
    }

    .c-status-bar--offline {
      background-color: var(--color-error);
    }

    .c-status-bar__indicator {
      width: 8px;
      height: 8px;
      border-radius: var(--radius-full);
      background-color: var(--neutral-base-0);
      margin-right: var(--spacing-2);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.5;
      }
    }

    /* Komponen: Header */
    .c-header {
      background-color: var(--bg-primary);
      height: var(--header-height);
      box-shadow: var(--shadow-sm);
      position: sticky;
      top: 0;
      /* Akan di-offset jika status bar terlihat */
      z-index: var(--z-sticky);
      display: flex;
      align-items: center;
      border-bottom: 1px solid var(--border-color);
      transition: background-color var(--transition-normal), border-color var(--transition-normal), top var(--transition-normal);
    }

    .c-header.has-status-bar {
      top: 40px;
      /* Sesuaikan dengan tinggi status bar */
    }

    .c-header__logo {
      display: flex;
      align-items: center;
      font-weight: 700;
      font-size: var(--font-size-xl);
      color: var(--text-primary);
    }

    .c-header__logo-icon {
      margin-right: var(--spacing-2);
      color: var(--color-primary);
      font-size: 1.5em;
      /* Buat ikon lebih besar */
    }

    /* Komponen: Navigasi */
    .c-nav {
      display: flex;
      align-items: center;
    }

    .c-nav__menu {
      display: flex;
      align-items: center;
    }

    .c-nav__link {
      display: block;
      padding: var(--spacing-2) var(--spacing-4);
      color: var(--text-secondary);
      font-weight: 500;
      position: relative;
      border-radius: var(--radius-md);
    }

    .c-nav__link:hover,
    .c-nav__link:focus {
      color: var(--color-primary);
      background-color: var(--bg-tertiary);
    }

    .c-nav__link--active {
      color: var(--color-primary);
      font-weight: 600;
    }

    .c-nav__link--active::after {
      /* Indikator aktif untuk desktop */
      content: '';
      position: absolute;
      bottom: 2px;
      /* Disesuaikan agar tidak terlalu jauh */
      left: var(--spacing-4);
      right: var(--spacing-4);
      height: 3px;
      background-color: var(--color-primary);
      border-radius: var(--radius-full);
    }

    .c-nav__auth {
      margin-left: var(--spacing-4);
      display: flex;
      align-items: center;
      gap: var(--spacing-3);
    }

    .c-nav__toggle {
      /* Tombol Menu Mobile */
      display: none;
      /* Default tersembunyi di desktop */
      width: 40px;
      height: 40px;
      position: relative;
      z-index: calc(var(--z-header) + 1);
      /* Di atas menu mobile */
      color: var(--text-primary);
      margin-left: var(--spacing-2);
      /* Jarak dari item terakhir */
    }

    .c-nav__toggle-icon,
    .c-nav__toggle-icon::before,
    .c-nav__toggle-icon::after {
      display: block;
      position: absolute;
      height: 2.5px;
      /* Sedikit lebih tebal */
      width: 24px;
      background-color: currentColor;
      border-radius: var(--radius-full);
      transition: transform var(--transition-normal), background-color var(--transition-normal), top var(--transition-normal), bottom var(--transition-normal);
    }

    .c-nav__toggle-icon {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .c-nav__toggle-icon::before,
    .c-nav__toggle-icon::after {
      content: '';
      left: 0;
    }

    .c-nav__toggle-icon::before {
      top: -8px;
    }

    .c-nav__toggle-icon::after {
      bottom: -8px;
    }

    .c-nav__toggle[aria-expanded="true"] .c-nav__toggle-icon {
      background-color: transparent;
    }

    .c-nav__toggle[aria-expanded="true"] .c-nav__toggle-icon::before {
      top: 0;
      transform: rotate(45deg);
    }

    .c-nav__toggle[aria-expanded="true"] .c-nav__toggle-icon::after {
      bottom: 0;
      transform: rotate(-45deg);
    }

    /* Komponen: Tombol */
    .c-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: var(--spacing-3) var(--spacing-5);
      /* Lebih empuk */
      font-weight: 600;
      border-radius: var(--radius-md);
      transition: background-color var(--transition-fast), color var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast);
      position: relative;
      overflow: hidden;
      /* Untuk efek ripple */
      font-size: var(--font-size-base);
      border: 1px solid transparent;
      /* Base border */
      line-height: 1;
      /* Mencegah tinggi tombol berubah karena ikon */
    }

    .c-button i {
      margin-right: var(--spacing-2);
      font-size: 1.1em;
      /* Ikon sedikit lebih besar dari teks */
    }

    .c-button i:last-child {
      /* Jika ikon di kanan */
      margin-right: 0;
      margin-left: var(--spacing-2);
    }

    .c-button:focus-visible {
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
    }

    .c-button--primary {
      background-color: var(--color-primary);
      color: var(--neutral-base-0);
      border-color: var(--color-primary);
    }

    .c-button--primary:hover {
      background-color: var(--color-primary-dark);
      border-color: var(--color-primary-dark);
      transform: translateY(-1px);
    }

    .c-button--secondary {
      background-color: var(--bg-tertiary);
      color: var(--text-primary);
      border-color: var(--border-color);
    }

    .c-button--secondary:hover {
      background-color: var(--neutral-base-200);
      /* Sedikit lebih gelap untuk hover */
      border-color: var(--neutral-base-300);
      transform: translateY(-1px);
    }

    [data-theme="dark"] .c-button--secondary:hover {
      background-color: var(--neutral-base-600);
      border-color: var(--neutral-base-500);
    }

    .c-button--outline {
      background-color: transparent;
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    .c-button--outline:hover {
      background-color: var(--bg-secondary);
      border-color: var(--text-tertiary);
      /* Lebih jelas saat hover */
    }

    .c-button--block {
      display: flex;
      /* Atau inline-flex jika ingin lebar sesuai konten */
      width: 100%;
    }

    .c-button--small {
      padding: var(--spacing-2) var(--spacing-3);
      font-size: var(--font-size-sm);
    }

    .c-button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
      /* Matikan animasi hover */
    }

    .c-button--play {
      /* Untuk tombol tur virtual */
      padding: var(--spacing-3) var(--spacing-6);
      background-color: rgba(31, 41, 55, 0.7);
      /* bg-neutral-800 dengan alpha */
      color: var(--neutral-base-0);
      backdrop-filter: blur(4px);
    }

    .c-button--play:hover {
      background-color: rgba(17, 24, 39, 0.9);
      /* bg-neutral-900 dengan alpha */
    }

    [data-theme="light"] .c-button--play {
      background-color: rgba(255, 255, 255, 0.7);
      color: var(--neutral-base-900);
    }

    [data-theme="light"] .c-button--play:hover {
      background-color: rgba(249, 250, 251, 0.9);
      /* bg-neutral-50 */
    }

    /* Efek Ripple pada Tombol */
    .c-ripple {
      position: absolute;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.3);
      /* Ripple terang */
      transform: scale(0);
      animation: ripple-animation 0.6s linear;
      pointer-events: none;
      /* Penting agar tidak mengganggu klik */
    }

    [data-theme="dark"] .c-ripple {
      background-color: rgba(0, 0, 0, 0.2);
      /* Ripple gelap */
    }

    @keyframes ripple-animation {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }

    /* Komponen: Loading State */
    .c-loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: var(--spacing-8);
      min-height: 200px;
      /* Pastikan ada ruang untuk spinner */
    }

    .c-loading__spinner {
      width: 48px;
      height: 48px;
      border: 4px solid var(--color-primary-light);
      border-top-color: var(--color-primary);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
      margin-bottom: var(--spacing-4);
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .c-loading__text {
      font-size: var(--font-size-lg);
      color: var(--text-secondary);
    }

    /* Komponen: Breadcrumb */
    .c-breadcrumb {
      margin-bottom: var(--spacing-6);
      font-size: var(--font-size-sm);
    }

    .c-breadcrumb ol {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
    }

    .c-breadcrumb li {
      display: flex;
      align-items: center;
    }

    .c-breadcrumb li:not(:last-child)::after {
      content: '/';
      margin: 0 var(--spacing-2);
      color: var(--text-tertiary);
    }

    .c-breadcrumb a {
      color: var(--text-tertiary);
    }

    .c-breadcrumb a:hover {
      color: var(--color-primary);
    }

    .c-breadcrumb [aria-current="page"] {
      color: var(--text-primary);
      /* Lebih menonjol */
      font-weight: 500;
    }

    /* Komponen: Badge */
    .c-badge {
      display: inline-flex;
      align-items: center;
      padding: var(--spacing-1) var(--spacing-3);
      border-radius: var(--radius-full);
      /* Lebih bulat */
      font-size: var(--font-size-xs);
      font-weight: 600;
      line-height: 1.2;
      background-color: var(--bg-tertiary);
      color: var(--text-secondary);
    }

    .c-badge i {
      margin-right: var(--spacing-1);
      font-size: 0.9em;
    }

    .c-badge--primary {
      background-color: var(--color-primary-light);
      color: var(--neutral-base-0);
    }

    .c-badge--success {
      background-color: var(--color-success);
      color: var(--neutral-base-0);
    }

    .c-badge--warning {
      background-color: var(--color-warning);
      color: var(--neutral-base-900);
    }

    /* Teks gelap untuk kontras */
    .c-badge--error {
      background-color: var(--color-error);
      color: var(--neutral-base-0);
    }


    /* Komponen: Header Apartemen */
    .c-apartment-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: var(--spacing-6);
      flex-wrap: wrap;
      gap: var(--spacing-4);
    }

    .c-apartment-header__info {
      flex: 1;
      min-width: 300px;
    }

    .c-apartment-header h1 {
      margin-bottom: var(--spacing-2);
      font-size: clamp(var(--font-size-2xl), 5vw, var(--font-size-3xl));
      /* Ukuran judul responsif */
    }

    .c-apartment-header__address {
      display: flex;
      align-items: center;
      color: var(--text-secondary);
      margin-bottom: var(--spacing-3);
      font-size: var(--font-size-base);
    }

    .c-apartment-header__address i {
      margin-right: var(--spacing-2);
      color: var(--color-primary);
    }

    .c-apartment-header__meta {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-3);
    }

    .c-apartment-header__actions {
      display: flex;
      gap: var(--spacing-3);
      margin-top: var(--spacing-2);
      /* Beri sedikit jarak jika wrap */
    }

    /* Komponen: Galeri Gambar */
    .c-image-gallery {
      margin-bottom: var(--spacing-8);
      position: relative;
    }

    .c-image-gallery__main {
      border-radius: var(--radius-lg);
      overflow: hidden;
      position: relative;
      aspect-ratio: 16 / 10;
      /* Sedikit lebih tinggi dari 16/9 */
      background-color: var(--bg-tertiary);
      margin-bottom: var(--spacing-3);
      /* Jarak ke thumbnail */
      box-shadow: var(--shadow-md);
    }

    .c-image-gallery__main img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: opacity var(--transition-slow), transform var(--transition-slow);
    }

    .c-image-gallery__main img.is-loading {
      opacity: 0.5;
      transform: scale(1.05);
    }

    .c-image-gallery__main .c-button--play {
      position: absolute;
      bottom: var(--spacing-4);
      left: var(--spacing-4);
      z-index: var(--z-normal);
    }

    .c-image-gallery__thumbnails {
      display: grid;
      /* Gunakan grid untuk responsivitas thumbnail */
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      /* Thumbnail responsif */
      gap: var(--spacing-2);
      padding-bottom: var(--spacing-2);
      /* Untuk shadow scrollbar */
    }

    /* Jika ingin scroll horizontal, gunakan flex:
        .c-image-gallery__thumbnails {
            display: flex;
            gap: var(--spacing-2);
            overflow-x: auto;
            padding-bottom: var(--spacing-2);
            scrollbar-width: thin;
            scrollbar-color: var(--border-color) transparent;
        }
        .c-image-gallery__thumbnails::-webkit-scrollbar { height: 6px; }
        .c-image-gallery__thumbnails::-webkit-scrollbar-track { background: transparent; }
        .c-image-gallery__thumbnails::-webkit-scrollbar-thumb {
            background-color: var(--border-color);
            border-radius: var(--radius-full);
        }
        */
    .c-image-gallery__thumbnail {
      /* width: 100px; Dihapus karena grid akan mengatur lebar */
      aspect-ratio: 4 / 3;
      /* Rasio thumbnail konsisten */
      border-radius: var(--radius-md);
      overflow: hidden;
      cursor: pointer;
      border: 3px solid transparent;
      /* Border lebih tebal untuk status aktif */
      transition: border-color var(--transition-fast), transform var(--transition-fast), opacity var(--transition-fast);
      /* flex-shrink: 0; Hanya jika pakai flex display */
      opacity: 0.7;
    }

    .c-image-gallery__thumbnail:hover {
      transform: scale(1.05);
      /* Efek hover lebih jelas */
      opacity: 1;
    }

    .c-image-gallery__thumbnail.is-active {
      border-color: var(--color-primary);
      opacity: 1;
      box-shadow: var(--shadow-focus);
    }

    .c-image-gallery__thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Layout Konten Apartemen */
    .c-apartment-content {
      display: grid;
      grid-template-columns: 1fr;
      /* Default 1 kolom untuk mobile */
      gap: var(--spacing-8);
      margin-bottom: var(--spacing-12);
    }

    @media (min-width: 992px) {

      /* Tablet landscape dan desktop */
      .c-apartment-content {
        grid-template-columns: minmax(0, 2.5fr) minmax(0, 1.5fr);
        /* Proporsi lebih baik */
      }
    }

    .c-apartment-content__main {
      min-width: 0;
    }

    /* Mencegah overflow pada grid item */
    .c-apartment-content__sidebar {
      min-width: 0;
      position: sticky;
      /* Sidebar sticky di desktop */
      top: calc(var(--header-height) + var(--spacing-4));
      align-self: start;
      /* Penting untuk sticky */
      max-height: calc(100vh - var(--header-height) - var(--spacing-8));
      /* Batasi tinggi agar bisa discroll jika kontennya panjang */
      overflow-y: auto;
      /* Aktifkan scroll jika perlu */
    }

    @media (max-width: 991px) {
      .c-apartment-content__sidebar {
        position: static;
        /* Reset sticky di mobile */
        max-height: none;
        overflow-y: visible;
      }
    }


    /* Komponen: Section */
    .c-section {
      margin-bottom: var(--spacing-8);
    }

    .c-section:last-child {
      margin-bottom: 0;
    }

    .c-section__header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: var(--spacing-6);
      /* Lebih banyak jarak */
      padding-bottom: var(--spacing-3);
      border-bottom: 1px solid var(--border-color);
    }

    .c-section__header h2 {
      margin-bottom: 0;
    }

    /* Reset margin h2 di header section */
    .c-section__content {
      color: var(--text-secondary);
      line-height: var(--line-height-normal);
    }

    .c-section__content p+p {
      margin-top: var(--spacing-3);
    }

    /* Jarak antar paragraf */

    /* Komponen: Info Properti */
    .c-property-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      /* Responsif */
      gap: var(--spacing-6);
      /* Jarak lebih besar */
      margin-bottom: var(--spacing-6);
    }

    .c-property-info__item {
      display: flex;
      align-items: center;
      gap: var(--spacing-3);
      padding: var(--spacing-3);
      background-color: var(--bg-secondary);
      border-radius: var(--radius-lg);
    }

    .c-property-info__item i {
      font-size: 1.5rem;
      /* Ukuran ikon */
      color: var(--color-primary);
      background-color: var(--color-primary-light_01, rgba(59, 130, 246, 0.1));
      /* Primary light dengan opacity */
      padding: var(--spacing-3);
      border-radius: var(--radius-full);
      flex-shrink: 0;
      /* Mencegah ikon mengecil */
      width: 48px;
      /* Ukuran tetap untuk ikon box */
      height: 48px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    [data-theme="dark"] .c-property-info__item i {
      background-color: var(--color-primary-dark_02, rgba(29, 78, 216, 0.2));
    }

    .c-property-info__item div h4 {
      /* Label (Luas, Kamar Tidur) */
      font-size: var(--font-size-sm);
      color: var(--text-tertiary);
      margin-bottom: var(--spacing-1);
      font-weight: 500;
    }

    .c-property-info__item div p {
      /* Nilai (72 m², 2) */
      font-size: var(--font-size-lg);
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0;
    }

    /* Komponen: Daftar Fitur */
    .c-features-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      /* Responsif */
      gap: var(--spacing-3);
    }

    .c-features-list li {
      display: flex;
      align-items: center;
      padding: var(--spacing-2) 0;
      /* Padding vertikal saja */
      color: var(--text-primary);
    }

    .c-features-list i {
      color: var(--color-success);
      margin-right: var(--spacing-3);
      /* Jarak ikon dan teks */
      font-size: 1.2em;
    }

    /* Komponen: Peta Lokasi (Placeholder) */
    .c-location-map {
      margin-bottom: var(--spacing-6);
    }

    .c-location-map__placeholder {
      background-color: var(--bg-tertiary);
      border-radius: var(--radius-lg);
      padding: var(--spacing-12) var(--spacing-6);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: var(--spacing-4);
      min-height: 250px;
      /* Tinggi minimal placeholder */
      border: 1px dashed var(--border-color);
    }

    .c-location-map__placeholder i {
      font-size: 3rem;
      /* Ikon lebih besar */
      color: var(--text-tertiary);
    }

    .c-location-map__placeholder p {
      color: var(--text-tertiary);
    }

    /* Komponen: Tempat Terdekat */
    .c-location-nearby h3 {
      /* "Tempat Terdekat" */
      margin-bottom: var(--spacing-4);
      font-size: var(--font-size-xl);
      color: var(--text-primary);
    }

    .c-location-nearby__list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      /* Responsif */
      gap: var(--spacing-4);
    }

    .c-location-nearby__item {
      display: flex;
      align-items: center;
      gap: var(--spacing-3);
      padding: var(--spacing-4);
      /* Padding lebih besar */
      border-radius: var(--radius-lg);
      background-color: var(--bg-secondary);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    }

    .c-location-nearby__item:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }

    .c-location-nearby__item i {
      font-size: 1.5rem;
      color: var(--color-primary);
      padding: var(--spacing-3);
      background-color: var(--bg-tertiary);
      border-radius: var(--radius-full);
      flex-shrink: 0;
      width: 48px;
      height: 48px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .c-location-nearby__name {
      font-weight: 600;
      margin-bottom: var(--spacing-1);
      color: var(--text-primary);
    }

    .c-location-nearby__distance {
      font-size: var(--font-size-sm);
      color: var(--text-tertiary);
      margin-bottom: 0;
    }

    /* Komponen: Kartu (Umum & Sidebar) */
    .c-card {
      background-color: var(--bg-primary);
      border-radius: var(--radius-xl);
      /* Sudut lebih besar */
      box-shadow: var(--shadow-md);
      margin-bottom: var(--spacing-6);
      border: 1px solid var(--border-color);
      overflow: hidden;
      /* Mencegah konten keluar dari radius */
    }

    .c-card__header {
      padding: var(--spacing-5);
      /* Padding lebih besar */
      border-bottom: 1px solid var(--border-color);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .c-card__header h3 {
      margin-bottom: 0;
      font-size: var(--font-size-xl);
      /* Ukuran judul kartu */
    }

    .c-card__body {
      padding: var(--spacing-5);
    }

    /* Komponen: Kartu Harga (Sidebar) */
    /* Menggunakan .c-card__header dan .c-card__body yang sudah ada */
    .c-price-card__calculator {
      margin-bottom: var(--spacing-6);
    }

    .c-price-card__calculator h4 {
      margin-bottom: var(--spacing-4);
      font-size: var(--font-size-lg);
      color: var(--text-primary);
    }

    .c-price-card__actions {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-3);
      margin-top: var(--spacing-6);
      /* Jarak dari kalkulator */
    }

    /* Komponen: Grup Input */
    .c-input-group {
      margin-bottom: var(--spacing-5);
      /* Jarak antar grup input */
      position: relative;
    }

    .c-input-group label {
      display: block;
      margin-bottom: var(--spacing-2);
      font-weight: 500;
      color: var(--text-secondary);
      font-size: var(--font-size-sm);
    }

    .c-input,
    .c-select {
      width: 100%;
      padding: var(--spacing-3);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      background-color: var(--bg-primary);
      /* Latar input mengikuti tema */
      color: var(--text-primary);
      font-family: var(--font-family-sans);
      font-size: var(--font-size-base);
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
    }

    .c-input:focus,
    .c-select:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: var(--shadow-focus);
    }

    .c-input-group:has(.c-input:focus) label,
    .c-input-group:has(.c-select:focus) label {
      color: var(--color-primary);
    }

    .c-input.is-invalid,
    .c-select.is-invalid {
      /* Status error */
      border-color: var(--color-error) !important;
      /* !important untuk override fokus */
    }

    .c-input.is-invalid:focus,
    .c-select.is-invalid:focus {
      box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.3) !important;
      /* Shadow error */
    }

    .c-input-error-message {
      color: var(--color-error);
      font-size: var(--font-size-xs);
      margin-top: var(--spacing-1);
      display: block;
      /* Agar muncul di baris baru */
    }

    .c-select {
      /* Styling untuk select agar mirip input */
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      /* Warna stroke SVG diubah agar dinamis dengan tema (gunakan %23 + kode hex tanpa #) */
      background-repeat: no-repeat;
      background-position: right var(--spacing-3) center;
      background-size: 1rem;
      padding-right: calc(var(--spacing-3) + 1rem + var(--spacing-2));
      /* Ruang untuk ikon */
    }

    [data-theme="dark"] .c-select {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    }

    .c-checkbox-group {
      display: flex;
      align-items: flex-start;
      /* Agar label panjang wrap dengan baik */
      gap: var(--spacing-2);
    }

    .c-checkbox-group input[type="checkbox"] {
      margin-top: 0.2em;
      /* Sejajarkan checkbox dengan baris pertama teks */
      width: 1.15em;
      height: 1.15em;
      accent-color: var(--color-primary);
      /* Warna centang */
    }

    .c-checkbox-group label {
      margin-bottom: 0;
      font-weight: 400;
      /* Normal weight untuk label checkbox */
      font-size: var(--font-size-sm);
      line-height: 1.5;
    }

    .required-indicator {
      color: var(--color-error);
      margin-left: var(--spacing-1);
    }

    textarea.c-input {
      min-height: 80px;
      /* Tinggi minimal textarea */
      resize: vertical;
      /* Hanya bisa di-resize vertikal */
    }

    /* Komponen: Kalkulator Harga (Dalam Kartu Harga) */
    .c-price-calculator {
      background-color: var(--bg-secondary);
      border-radius: var(--radius-lg);
      padding: var(--spacing-4);
      margin-top: var(--spacing-4);
      border: 1px solid var(--border-color);
    }

    .c-price-calculator__item {
      display: flex;
      justify-content: space-between;
      margin-bottom: var(--spacing-3);
      color: var(--text-secondary);
      font-size: var(--font-size-sm);
    }

    .c-price-calculator__item:last-child {
      margin-bottom: 0;
    }

    .c-price-calculator__item span:last-child {
      font-weight: 600;
      color: var(--text-primary);
    }

    .c-price-calculator__total {
      display: flex;
      justify-content: space-between;
      padding-top: var(--spacing-3);
      margin-top: var(--spacing-3);
      /* Jarak dari item terakhir */
      border-top: 1px solid var(--border-color);
      font-weight: 700;
      color: var(--text-primary);
      font-size: var(--font-size-lg);
    }

    /* Komponen: Kartu Kontak (Sidebar) */
    /* Menggunakan .c-card__header dan .c-card__body */
    .c-contact-card__agent {
      display: flex;
      align-items: center;
      gap: var(--spacing-4);
      margin-bottom: var(--spacing-5);
      padding-bottom: var(--spacing-5);
      border-bottom: 1px solid var(--border-color);
    }

    .c-avatar {
      width: 64px;
      /* Avatar lebih besar */
      height: 64px;
      border-radius: var(--radius-full);
      background-color: var(--bg-tertiary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      /* Ikon avatar lebih besar */
      color: var(--text-tertiary);
      flex-shrink: 0;
      overflow: hidden;
      /* Jika menggunakan img di dalamnya */
    }

    .c-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .c-contact-card__agent-info h4 {
      /* Nama Agen */
      margin-bottom: var(--spacing-1);
      font-size: var(--font-size-lg);
      color: var(--text-primary);
    }

    .c-contact-card__agent-info p {
      /* Jabatan Agen */
      color: var(--text-tertiary);
      margin-bottom: 0;
      font-size: var(--font-size-sm);
    }

    .c-contact-card__form {
      margin-bottom: var(--spacing-5);
    }

    .c-contact-card__direct {
      /* Tombol Telepon & WA */
      display: flex;
      flex-direction: column;
      gap: var(--spacing-3);
    }

    /* Komponen: Listing Serupa */
    .c-similar-listings__grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      /* Responsif */
      gap: var(--spacing-6);
      /* Jarak antar kartu */
    }

    /* Komponen: Kartu Properti (Untuk Listing Serupa) */
    .c-property-card {
      background-color: var(--bg-primary);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: transform var(--transition-normal), box-shadow var(--transition-normal);
      border: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      /* Agar konten mengisi kartu */
    }

    .c-property-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
      /* Bayangan lebih jelas saat hover */
    }

    .c-property-card__image {
      position: relative;
      aspect-ratio: 16 / 10;
      /* Rasio gambar konsisten */
      background-color: var(--bg-tertiary);
      /* Placeholder jika gambar loading */
    }

    .c-property-card__image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .c-property-card__image .c-badge {
      /* Badge di atas gambar */
      position: absolute;
      top: var(--spacing-3);
      right: var(--spacing-3);
      z-index: var(--z-normal);
    }

    .c-property-card__content {
      padding: var(--spacing-4);
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      /* Agar konten mengisi sisa ruang */
    }

    .c-property-card__title {
      font-size: var(--font-size-lg);
      margin-bottom: var(--spacing-1);
      color: var(--text-primary);
      line-height: 1.4;
      /* Untuk judul yang mungkin 2 baris */
    }

    .c-property-card__location {
      color: var(--text-tertiary);
      margin-bottom: var(--spacing-3);
      display: flex;
      align-items: center;
      font-size: var(--font-size-sm);
    }

    .c-property-card__meta {
      display: flex;
      flex-wrap: wrap;
      /* Jika meta item banyak */
      gap: var(--spacing-4);
      /* Jarak antar meta item */
      margin-bottom: var(--spacing-4);
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      margin-top: auto;
      /* Dorong meta & harga ke bawah jika deskripsi pendek */
    }

    .c-property-card__meta span {
      display: flex;
      align-items: center;
    }

    .c-property-card__meta i {
      margin-right: var(--spacing-2);
      color: var(--color-primary);
    }

    .c-property-card__price {
      font-weight: 700;
      color: var(--color-primary);
      font-size: var(--font-size-lg);
      margin-top: var(--spacing-2);
      /* Jarak dari meta */
    }

    /* Komponen: Modal */
    .c-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(17, 24, 39, 0.8);
      /* bg-neutral-900 dengan alpha */
      display: flex;
      /* Default flex, kontrol visibilitas dengan class */
      align-items: center;
      justify-content: center;
      padding: var(--spacing-4);
      z-index: var(--z-modal-backdrop);
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition-normal), visibility var(--transition-normal);
      overflow-y: auto;
      /* Jika konten modal panjang */
    }

    [data-theme="light"] .c-modal {
      background-color: rgba(31, 41, 55, 0.6);
      /* bg-neutral-800 */
    }

    .c-modal.is-active {
      opacity: 1;
      visibility: visible;
    }

    .c-modal__content {
      background-color: var(--bg-primary);
      border-radius: var(--radius-xl);
      width: 100%;
      max-width: 700px;
      /* Lebar maksimal modal */
      max-height: 90vh;
      /* Tinggi maksimal modal */
      overflow-y: auto;
      /* Scroll internal jika konten melebihi max-height */
      display: flex;
      flex-direction: column;
      transform: scale(0.95) translateY(10px);
      transition: transform var(--transition-normal);
      box-shadow: var(--shadow-xl);
    }

    .c-modal.is-active .c-modal__content {
      transform: scale(1) translateY(0);
    }

    .c-modal__header {
      padding: var(--spacing-4) var(--spacing-5);
      border-bottom: 1px solid var(--border-color);
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      /* Header modal sticky saat scroll internal */
      top: 0;
      background-color: var(--bg-primary);
      /* Agar tidak transparan saat scroll */
      z-index: var(--z-normal);
      /* Di atas body modal */
      flex-shrink: 0;
      /* Agar header tidak mengecil */
    }

    .c-modal__header h3 {
      margin-bottom: 0;
      font-size: var(--font-size-xl);
    }

    .c-modal__close {
      width: 36px;
      height: 36px;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-tertiary);
      transition: background-color var(--transition-fast), color var(--transition-fast);
      font-size: 1.2rem;
      /* Ukuran ikon close */
    }

    .c-modal__close:hover {
      background-color: var(--bg-tertiary);
      color: var(--text-primary);
    }

    .c-modal__body {
      padding: var(--spacing-5);
      flex-grow: 1;
      /* Body mengisi sisa ruang */
      overflow-y: auto;
      /* Jika body sendiri perlu scroll */
    }

    /* Komponen: Ringkasan Pemesanan (Dalam Modal) */
    .c-booking-summary {
      background-color: var(--bg-secondary);
      border-radius: var(--radius-lg);
      padding: var(--spacing-4);
      margin-bottom: var(--spacing-6);
      border: 1px solid var(--border-color);
    }

    .c-booking-summary__property {
      display: flex;
      gap: var(--spacing-4);
      /* Jarak lebih besar */
      margin-bottom: var(--spacing-4);
      padding-bottom: var(--spacing-4);
      border-bottom: 1px solid var(--border-color);
    }

    .c-booking-summary__image {
      width: 100px;
      /* Gambar lebih besar */
      height: 80px;
      border-radius: var(--radius-md);
      object-fit: cover;
      flex-shrink: 0;
      background-color: var(--bg-tertiary);
      /* Placeholder */
    }

    .c-booking-summary__property div h4 {
      /* Nama Apartemen */
      margin-bottom: var(--spacing-1);
      font-size: var(--font-size-lg);
      color: var(--text-primary);
    }

    .c-booking-summary__property div p {
      /* Alamat */
      color: var(--text-tertiary);
      font-size: var(--font-size-sm);
      margin-bottom: 0;
    }

    .c-booking-summary__details {
      color: var(--text-secondary);
    }

    .c-booking-summary__row {
      display: flex;
      justify-content: space-between;
      margin-bottom: var(--spacing-3);
      font-size: var(--font-size-sm);
    }

    .c-booking-summary__row span:last-child {
      font-weight: 600;
      color: var(--text-primary);
    }

    .c-booking-summary__row--total {
      font-weight: 700;
      color: var(--text-primary);
      font-size: var(--font-size-lg);
      padding-top: var(--spacing-3);
      margin-top: var(--spacing-3);
      border-top: 1px solid var(--border-color);
    }

    /* Komponen: Metode Pembayaran (Dalam Modal) */
    .c-payment-methods {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-3);
      margin-bottom: var(--spacing-5);
    }

    .c-payment-method {
      display: flex;
      align-items: center;
      gap: var(--spacing-3);
      /* Jarak radio dan label */
      padding: var(--spacing-3) var(--spacing-4);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: border-color var(--transition-fast), background-color var(--transition-fast);
    }

    .c-payment-method:hover {
      background-color: var(--bg-secondary);
    }

    .c-payment-method input[type="radio"] {
      /* Styling radio button kustom (opsional, bisa rumit tanpa ::before/::after di input) */
      /* Untuk simpel, biarkan default browser dengan accent-color */
      accent-color: var(--color-primary);
      width: 1.15em;
      height: 1.15em;
    }

    .c-payment-method label {
      font-weight: 500;
      cursor: pointer;
    }

    /* Komponen: Grup Form (Untuk layout dua kolom di modal) */
    .c-form-group {
      display: grid;
      grid-template-columns: 1fr;
      /* Default 1 kolom */
      gap: var(--spacing-5);
      margin-bottom: var(--spacing-5);
    }

    @media (min-width: 576px) {

      /* Small devices and up */
      .c-form-group {
        grid-template-columns: 1fr 1fr;
      }
    }

    .c-form-group .c-input-group {
      margin-bottom: 0;
    }

    /* Reset margin di dalam grup */

    /* Komponen: Link */
    .c-link {
      color: var(--color-primary);
      font-weight: 500;
    }

    .c-link:hover {
      color: var(--color-primary-dark);
      text-decoration: underline;
    }

    .c-link--arrow {
      /* Untuk link "Lihat Semua" */
      display: inline-flex;
      /* Agar arrow sejajar */
      align-items: center;
      font-weight: 600;
      /* Lebih tebal */
    }

    .c-link--arrow::after {
      content: '→';
      margin-left: var(--spacing-1);
      transition: transform var(--transition-fast);
    }

    .c-link--arrow:hover::after {
      transform: translateX(4px);
      /* Animasi arrow */
    }

    /* Komponen: Footer */
    .c-footer {
      background-color: var(--bg-secondary);
      padding: var(--spacing-12) 0 var(--spacing-8);
      margin-top: auto;
      /* Dorong footer ke bawah halaman */
      border-top: 1px solid var(--border-color);
    }

    .c-footer__grid {
      display: grid;
      grid-template-columns: repeat(1, 1fr);
      /* Default 1 kolom */
      gap: var(--spacing-8);
      margin-bottom: var(--spacing-8);
    }

    @media (min-width: 768px) {

      /* Medium devices and up */
      .c-footer__grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1024px) {

      /* Large devices and up */
      .c-footer__grid {
        grid-template-columns: 2fr 1fr 1fr 1.5fr;
        /* Layout kolom footer */
      }
    }

    .c-footer__brand {
      margin-bottom: var(--spacing-6);
    }

    .c-footer__logo {
      display: flex;
      align-items: center;
      gap: var(--spacing-2);
      font-weight: 700;
      font-size: var(--font-size-xl);
      color: var(--text-primary);
      margin-bottom: var(--spacing-4);
    }

    .c-footer__logo i {
      color: var(--color-primary);
      font-size: 1.5em;
    }

    .c-footer__brand p {
      color: var(--text-tertiary);
      font-size: var(--font-size-sm);
    }

    .c-footer__social {
      display: flex;
      gap: var(--spacing-4);
      /* Jarak ikon sosial lebih besar */
      margin-top: var(--spacing-4);
    }

    .c-footer__social a {
      width: 40px;
      /* Ukuran tombol sosial */
      height: 40px;
      border-radius: var(--radius-full);
      background-color: var(--bg-tertiary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-secondary);
      transition: background-color var(--transition-fast), color var(--transition-fast), transform var(--transition-fast);
      font-size: 1.2rem;
    }

    .c-footer__social a:hover {
      background-color: var(--color-primary);
      color: var(--neutral-base-0);
      transform: translateY(-2px);
    }

    .c-footer__links h4 {
      font-size: var(--font-size-lg);
      margin-bottom: var(--spacing-5);
      /* Jarak judul dan list */
      color: var(--text-primary);
    }

    .c-footer__links ul li {
      margin-bottom: var(--spacing-3);
      /* Jarak antar link */
    }

    .c-footer__links ul li a {
      color: var(--text-secondary);
      font-size: var(--font-size-sm);
    }

    .c-footer__links ul li a:hover {
      color: var(--color-primary);
    }

    .c-footer__newsletter h4 {
      font-size: var(--font-size-lg);
      margin-bottom: var(--spacing-4);
      color: var(--text-primary);
    }

    .c-footer__newsletter p {
      color: var(--text-tertiary);
      margin-bottom: var(--spacing-4);
      font-size: var(--font-size-sm);
    }

    .c-footer__form {
      display: flex;
      gap: var(--spacing-2);
      flex-wrap: wrap;
      /* Form bisa wrap di mobile */
    }

    @media (min-width: 480px) {
      .c-footer__form {
        flex-wrap: nowrap;
      }
    }

    .c-footer__form .c-input {
      flex-grow: 1;
      /* Input email mengisi ruang */
      min-width: 200px;
    }

    .c-footer__bottom {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-4);
      padding-top: var(--spacing-6);
      border-top: 1px solid var(--border-color);
      color: var(--text-tertiary);
      font-size: var(--font-size-sm);
      align-items: center;
      /* Default center di mobile */
      text-align: center;
    }

    @media (min-width: 768px) {
      .c-footer__bottom {
        flex-direction: row;
        justify-content: space-between;
        text-align: left;
      }
    }

    .c-footer__payments {
      display: flex;
      align-items: center;
      gap: var(--spacing-3);
    }

    .c-footer__payments i {
      font-size: 1.8rem;
      /* Ukuran ikon pembayaran */
      color: var(--text-tertiary);
    }

    /* Responsivitas untuk Menu Mobile & Layout Umum */
    @media (max-width: 991px) {

      /* Tablet portrait dan mobile */
      .c-nav__toggle {
        display: block;
      }

      .c-nav__auth .c-button--small:not(#theme-toggle) {
        display: none;
      }

      /* Sembunyikan Masuk/Daftar di auth saat mobile, pindah ke menu */

      .c-nav__menu {
        position: fixed;
        top: var(--header-height);
        /* Jika ada status bar: top: calc(var(--header-height) + 40px); */
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--bg-primary);
        flex-direction: column;
        align-items: stretch;
        /* Item menu mengisi lebar */
        padding: var(--spacing-6) var(--spacing-4);
        transform: translateX(100%);
        /* Keluar dari kanan */
        transition: transform var(--transition-normal);
        z-index: calc(var(--z-header) - 1);
        /* Di bawah header */
        border-top: 1px solid var(--border-color);
        overflow-y: auto;
        /* Jika menu panjang */
      }

      .c-nav__menu.is-active {
        transform: translateX(0);
      }

      .c-nav__link {
        padding: var(--spacing-4) var(--spacing-2);
        /* Padding lebih besar di mobile */
        font-size: var(--font-size-lg);
        border-bottom: 1px solid var(--border-color);
      }

      .c-nav__link:last-child {
        border-bottom: none;
      }

      .c-nav__link--active::after {
        display: none;
      }

      /* Hilangkan indikator garis di mobile */

      .c-apartment-header {
        flex-direction: column;
        align-items: stretch;
      }

      .c-apartment-header__actions {
        width: 100%;
        justify-content: flex-start;
        /* Atau space-around */
        margin-top: var(--spacing-4);
      }

      .c-apartment-header__actions .c-button {
        flex-grow: 1;
      }

      /* Tombol mengisi ruang */

      .c-image-gallery__main {
        aspect-ratio: 4 / 3;
      }

      /* Rasio lebih kotak di mobile */
      .c-property-info {
        grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
        gap: var(--spacing-4);
      }

      .c-features-list {
        grid-template-columns: 1fr;
      }

      /* 1 kolom di mobile */
    }

    /* Perbaikan untuk print */
    @media print {
      body {
        background-color: #fff !important;
        color: #000 !important;
        font-size: 12pt;
      }

      .c-header,
      .c-footer,
      .c-apartment-content__sidebar,
      .c-apartment-header__actions,
      .c-button,
      .no-print,
      .c-image-gallery__thumbnails,
      .c-image-gallery__main .c-button--play,
      .c-status-bar {
        display: none !important;
      }

      .l-container,
      .l-main,
      .c-section,
      .c-card {
        padding: 0 !important;
        margin: 0 0 1cm 0 !important;
        /* Jarak antar section di print */
        box-shadow: none !important;
        border: none !important;
        max-width: 100% !important;
      }

      .c-apartment-content {
        grid-template-columns: 1fr !important;
      }

      a {
        color: #000 !important;
        text-decoration: none !important;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        color: #000 !important;
      }

      p {
        color: #333 !important;
      }
    }
  </style>
</head>

<body>
  <!-- Bar Status Koneksi -->
  <div id="connection-status" class="c-status-bar">
    <span class="c-status-bar__indicator"></span>
    <span class="c-status-bar__text">Terhubung dengan server</span>
  </div>

  <!-- Header -->
  <header class="c-header" id="app-header">
    <div class="l-container l-flex justify-between items-center">
      <a href="/" class="c-header__logo" aria-label="Beranda TemukanApartemen">
        <i class="fa-solid fa-building-user c-header__logo-icon"></i> <!-- Ikon diganti agar lebih relevan -->
        TemukanApartemen
      </a>

      <nav class="c-nav">
        <button class="c-nav__toggle" id="nav-toggle" aria-expanded="false" aria-controls="primary-navigation"
          aria-label="Toggle navigasi">
          <span class="c-nav__toggle-icon"></span>
        </button>

        <ul id="primary-navigation" class="c-nav__menu">
          <li><a href="#beranda" class="c-nav__link c-nav__link--active">Beranda</a></li>
          <li><a href="#cari" class="c-nav__link">Cari Apartemen</a></li>
          <li><a href="#panduan" class="c-nav__link">Panduan</a></li>
          <li><a href="#tentang" class="c-nav__link">Tentang Kami</a></li>
          <!-- Item login/daftar untuk mobile, akan muncul jika .c-nav__auth disembunyikan -->
          <li class="u-hidden-md-up"><a href="#masuk" class="c-nav__link">Masuk</a></li>
          <li class="u-hidden-md-up"><a href="#daftar" class="c-nav__link">Daftar</a></li>
        </ul>

        <div class="c-nav__auth">
          <button id="theme-toggle" class="c-button c-button--outline c-button--small"
            aria-label="Toggle tema gelap/terang">
            <i class="fa-solid fa-sun" id="theme-icon-light"></i>
            <i class="fa-solid fa-moon u-hidden" id="theme-icon-dark"></i>
          </button>
          <a href="#masuk" class="c-button c-button--secondary c-button--small u-hidden-sm-down">Masuk</a>
          <a href="#daftar" class="c-button c-button--primary c-button--small u-hidden-sm-down">Daftar</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Konten Utama -->
  <main class="l-main">
    <div class="l-container">
      <!-- Breadcrumb -->
      <nav class="c-breadcrumb" aria-label="breadcrumb">
        <ol>
          <li><a href="#beranda">Beranda</a></li>
          <li><a href="#jakarta-barat">Jakarta Barat</a></li>
          <li><span aria-current="page">Apartemen Taman Anggrek</span></li>
        </ol>
      </nav>

      <!-- Header Apartemen -->
      <div class="c-apartment-header">
        <div class="c-apartment-header__info">
          <h1>Apartemen Taman Anggrek</h1>
          <p class="c-apartment-header__address">
            <i class="fa-solid fa-location-dot"></i>
            Jl. Letjen S. Parman Kav. 21, Jakarta Barat
          </p>
          <div class="c-apartment-header__meta">
            <div class="c-badge">
              <i class="fa-solid fa-star"></i>
              <span>4.7 (23 ulasan)</span>
            </div>
            <div class="c-badge c-badge--success"> <!-- Lebih jelas dengan class status -->
              <i class="fa-solid fa-circle-check"></i>
              <span>Tersedia</span>
            </div>
          </div>
        </div>
        <div class="c-apartment-header__actions">
          <button class="c-button c-button--outline" id="share-button">
            <i class="fa-solid fa-share-nodes"></i>
            Bagikan
          </button>
          <button class="c-button c-button--outline" id="save-button" aria-pressed="false">
            <i class="fa-regular fa-heart" id="save-icon"></i>
            <span id="save-text">Simpan</span>
          </button>
        </div>
      </div>

      <!-- Galeri Gambar -->
      <div class="c-image-gallery">
        <div class="c-image-gallery__main">
          <img src="https://via.placeholder.com/800x600/ea580c/ffffff?Text=Gambar+Utama+1"
            alt="Ruang Tamu Apartemen Taman Anggrek" id="main-image">
          <button class="c-button c-button--play" id="virtual-tour-button">
            <i class="fa-solid fa-vr-cardboard"></i> <!-- Ikon lebih relevan -->
            Tur Virtual
          </button>
        </div>
        <div class="c-image-gallery__thumbnails">
          <!-- Thumbnails akan di-generate oleh JavaScript -->
        </div>
      </div>

      <!-- Konten Grid Utama -->
      <div class="c-apartment-content">
        <!-- Kolom Kiri: Detail Apartemen -->
        <div class="c-apartment-content__main">
          <section class="c-section" aria-labelledby="detail-properti-heading">
            <div class="c-section__header">
              <h2 id="detail-properti-heading">Detail Properti</h2>
            </div>
            <div class="c-property-info">
              <div class="c-property-info__item">
                <i class="fa-solid fa-ruler-combined"></i>
                <div>
                  <h4>Luas</h4>
                  <p>72 m²</p>
                </div>
              </div>
              <div class="c-property-info__item">
                <i class="fa-solid fa-bed"></i>
                <div>
                  <h4>Kamar Tidur</h4>
                  <p>2</p>
                </div>
              </div>
              <div class="c-property-info__item">
                <i class="fa-solid fa-bath"></i>
                <div>
                  <h4>Kamar Mandi</h4>
                  <p>2</p>
                </div>
              </div>
              <div class="c-property-info__item">
                <i class="fa-solid fa-sack-dollar"></i>
                <div>
                  <h4>Harga per m²</h4>
                  <p>Rp 35.000.000</p>
                </div>
              </div>
            </div>
          </section>

          <section class="c-section" aria-labelledby="deskripsi-heading">
            <div class="c-section__header">
              <h2 id="deskripsi-heading">Deskripsi</h2>
            </div>
            <div class="c-section__content">
              <p>Apartemen mewah dengan pemandangan kota yang spektakuler. Terletak di jantung Jakarta Barat, unit ini
                menawarkan kenyamanan dan gaya hidup modern. Dilengkapi dengan fasilitas internal unit yang lengkap dan
                akses mudah ke berbagai fasilitas gedung premium seperti kolam renang, pusat kebugaran, dan area bermain
                anak.</p>
              <p>Lokasinya yang strategis memberikan akses cepat ke pusat perbelanjaan ternama, institusi pendidikan,
                fasilitas kesehatan, serta beragam pilihan transportasi umum, menjadikan Apartemen Taman Anggrek pilihan
                ideal bagi profesional maupun keluarga yang mendambakan hunian berkualitas di tengah dinamika kota
                metropolitan.</p>
            </div>
          </section>

          <section class="c-section" aria-labelledby="fasilitas-unit-heading">
            <div class="c-section__header">
              <h2 id="fasilitas-unit-heading">Fasilitas Dalam Unit</h2>
            </div>
            <div class="c-section__content">
              <ul class="c-features-list">
                <li><i class="fa-solid fa-check"></i> Pendingin Ruangan (AC)</li>
                <li><i class="fa-solid fa-check"></i> Pemanas Air</li>
                <li><i class="fa-solid fa-check"></i> Kulkas</li>
                <li><i class="fa-solid fa-check"></i> Televisi Kabel</li>
                <li><i class="fa-solid fa-check"></i> Microwave</li>
                <li><i class="fa-solid fa-check"></i> WiFi Gratis</li>
                <li><i class="fa-solid fa-check"></i> Balkon Pribadi</li>
                <li><i class="fa-solid fa-check"></i> Mesin Cuci</li>
              </ul>
            </div>
          </section>

          <section class="c-section" aria-labelledby="fasilitas-gedung-heading">
            <div class="c-section__header">
              <h2 id="fasilitas-gedung-heading">Fasilitas Gedung</h2>
            </div>
            <div class="c-section__content">
              <ul class="c-features-list">
                <li><i class="fa-solid fa-check"></i> Kolam Renang (Dewasa & Anak)</li>
                <li><i class="fa-solid fa-check"></i> Pusat Kebugaran (Gym)</li>
                <li><i class="fa-solid fa-check"></i> Area Bermain Anak</li>
                <li><i class="fa-solid fa-check"></i> Keamanan 24 Jam & CCTV</li>
                <li><i class="fa-solid fa-check"></i> Area Parkir Luas</li>
                <li><i class="fa-solid fa-check"></i> Minimarket & Kafe</li>
                <li><i class="fa-solid fa-check"></i> Ruang Serbaguna</li>
                <li><i class="fa-solid fa-check"></i> Akses Kartu Lift</li>
              </ul>
            </div>
          </section>

          <section class="c-section" aria-labelledby="lokasi-sekitar-heading">
            <div class="c-section__header">
              <h2 id="lokasi-sekitar-heading">Lokasi &amp; Sekitar</h2>
            </div>
            <div class="c-section__content">
              <div class="c-location-map">
                <div class="c-location-map__placeholder">
                  <i class="fa-solid fa-map-location-dot"></i>
                  <p>Peta Lokasi Interaktif Akan Ditampilkan Di Sini</p>
                  <button class="c-button c-button--secondary c-button--small">Lihat di Google Maps</button>
                </div>
              </div>
              <div class="c-location-nearby">
                <h3>Tempat Penting Terdekat</h3>
                <ul class="c-location-nearby__list">
                  <li class="c-location-nearby__item">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <div>
                      <p class="c-location-nearby__name">Mall Taman Anggrek</p>
                      <p class="c-location-nearby__distance">200 meter (3 menit jalan kaki)</p>
                    </div>
                  </li>
                  <li class="c-location-nearby__item">
                    <i class="fa-solid fa-hospital-user"></i>
                    <div>
                      <p class="c-location-nearby__name">Rumah Sakit Royal Taruma</p>
                      <p class="c-location-nearby__distance">1.5 km (5 menit berkendara)</p>
                    </div>
                  </li>
                  <li class="c-location-nearby__item">
                    <i class="fa-solid fa-train-subway"></i>
                    <div>
                      <p class="c-location-nearby__name">Halte Busway S. Parman</p>
                      <p class="c-location-nearby__distance">500 meter (7 menit jalan kaki)</p>
                    </div>
                  </li>
                  <li class="c-location-nearby__item">
                    <i class="fa-solid fa-graduation-cap"></i>
                    <div>
                      <p class="c-location-nearby__name">Universitas Tarumanagara</p>
                      <p class="c-location-nearby__distance">1.2 km (4 menit berkendara)</p>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </section>
        </div>

        <!-- Kolom Kanan: Info Sewa & Kontak -->
        <aside class="c-apartment-content__sidebar">
          <div class="c-card c-price-card">
            <div class="c-card__header">
              <h3 id="price-display">Rp 5.500.000/bulan</h3>
              <span class="c-badge c-badge--success">Tersedia</span>
            </div>
            <div class="c-card__body">
              <div class="c-price-card__calculator">
                <h4>Kalkulasi Biaya Sewa</h4>
                <div class="c-input-group">
                  <label for="rental-duration">Durasi Sewa</label>
                  <select id="rental-duration" class="c-select">
                    <option value="1">1 Bulan</option>
                    <option value="3">3 Bulan (Diskon 2%)</option>
                    <option value="6">6 Bulan (Diskon 5%)</option>
                    <option value="12" selected>12 Bulan (Diskon 10%)</option>
                  </select>
                </div>
                <div class="c-input-group">
                  <label for="move-in-date">Tanggal Mulai Sewa</label>
                  <input type="date" id="move-in-date" class="c-input">
                  <span class="c-input-error-message u-hidden" id="move-in-date-error"></span>
                </div>

                <div class="c-price-calculator">
                  <div class="c-price-calculator__item">
                    <span>Biaya Sewa per Bulan</span>
                    <span id="monthly-rental-cost">Rp 0</span>
                  </div>
                  <div class="c-price-calculator__item">
                    <span>Total Biaya Sewa (<span id="duration-label">12</span> Bulan)</span>
                    <span id="total-rental-cost">Rp 0</span>
                  </div>
                  <div class="c-price-calculator__item">
                    <span>Deposit (1 bulan sewa)</span>
                    <span id="deposit-cost">Rp 0</span>
                  </div>
                  <div class="c-price-calculator__item">
                    <span>Biaya Layanan (5%)</span>
                    <span id="service-fee">Rp 0</span>
                  </div>
                  <div class="c-price-calculator__total">
                    <span>Total Pembayaran Awal</span>
                    <span id="total-payment">Rp 0</span>
                  </div>
                </div>
              </div>

              <div class="c-price-card__actions">
                <button class="c-button c-button--primary c-button--block" id="book-now-button">
                  <i class="fa-solid fa-calendar-check"></i>Sewa Sekarang
                </button>
                <button class="c-button c-button--outline c-button--block" id="schedule-visit-button">
                  <i class="fa-solid fa-map-pin"></i>Jadwalkan Kunjungan
                </button>
              </div>
            </div>
          </div>

          <div class="c-card c-contact-card">
            <div class="c-card__header">
              <h3>Hubungi Agen</h3>
            </div>
            <div class="c-card__body">
              <div class="c-contact-card__agent">
                <div class="c-avatar">
                  <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Foto Agen Budi Santoso">
                </div>
                <div class="c-contact-card__agent-info">
                  <h4>Budi Santoso</h4>
                  <p>Agen Properti Senior</p>
                </div>
              </div>

              <form id="contact-form" novalidate>
                <div class="c-input-group">
                  <label for="contact-name">Nama Lengkap<span class="required-indicator">*</span></label>
                  <input type="text" id="contact-name" name="contactName" class="c-input" required
                    placeholder="Masukkan nama Anda">
                  <span class="c-input-error-message u-hidden"></span>
                </div>
                <div class="c-input-group">
                  <label for="contact-email">Email<span class="required-indicator">*</span></label>
                  <input type="email" id="contact-email" name="contactEmail" class="c-input" required
                    placeholder="cth: nama@email.com">
                  <span class="c-input-error-message u-hidden"></span>
                </div>
                <div class="c-input-group">
                  <label for="contact-phone">Nomor Telepon<span class="required-indicator">*</span></label>
                  <input type="tel" id="contact-phone" name="contactPhone" class="c-input" required
                    placeholder="cth: 08123456789">
                  <span class="c-input-error-message u-hidden"></span>
                </div>
                <div class="c-input-group">
                  <label for="contact-message">Pesan<span class="required-indicator">*</span></label>
                  <textarea id="contact-message" name="contactMessage" class="c-input" rows="3" required
                    placeholder="Tulis pesan Anda di sini..."></textarea>
                  <span class="c-input-error-message u-hidden"></span>
                </div>
                <button type="submit" class="c-button c-button--primary c-button--block">
                  <i class="fa-solid fa-paper-plane"></i>Kirim Pesan
                </button>
                <p id="contact-form-feedback" class="u-hidden"
                  style="margin-top: var(--spacing-3); text-align: center;"></p>
              </form>

              <div class="c-contact-card__direct" style="margin-top: var(--spacing-5);">
                <a href="tel:+6287890123456" class="c-button c-button--outline c-button--block">
                  <i class="fa-solid fa-phone-volume"></i>
                  +62 878 9012 3456
                </a>
                <a href="https://wa.me/6287890123456?text=Halo%2C%20saya%20tertarik%20dengan%20Apartemen%20Taman%20Anggrek."
                  target="_blank" class="c-button c-button--outline c-button--block"
                  style="background-color: #25D366; color: white; border-color: #25D366;">
                  <i class="fa-brands fa-whatsapp"></i>
                  WhatsApp Agen
                </a>
              </div>
            </div>
          </div>
        </aside>
      </div>

      <!-- Apartemen Serupa -->
      <section class="c-section" aria-labelledby="apartemen-serupa-heading">
        <div class="c-section__header">
          <h2 id="apartemen-serupa-heading">Apartemen Serupa di Sekitar Anda</h2>
          <a href="#lihat-semua-serupa" class="c-link c-link--arrow">Lihat Semua</a>
        </div>
        <div class="c-similar-listings">
          <div class="c-similar-listings__grid">
            <!-- Kartu Apartemen Serupa 1 -->
            <article class="c-property-card">
              <a href="#detail-apartemen-1" class="c-property-card__image-link">
                <div class="c-property-card__image">
                  <img src="https://via.placeholder.com/400x300/06b6d4/ffffff?Text=Apartemen+Puri+Indah"
                    alt="Apartemen Puri Indah">
                  <span class="c-badge c-badge--primary">Disewakan</span>
                </div>
              </a>
              <div class="c-property-card__content">
                <h3 class="c-property-card__title"><a href="#detail-apartemen-1">Apartemen Puri Indah Residence</a></h3>
                <p class="c-property-card__location">Kembangan, Jakarta Barat</p>
                <div class="c-property-card__meta">
                  <span><i class="fa-solid fa-bed"></i> 2 KT</span>
                  <span><i class="fa-solid fa-bath"></i> 1 KM</span>
                  <span><i class="fa-solid fa-ruler-combined"></i> 65m²</span>
                </div>
                <div class="c-property-card__price">
                  <span>Rp 4.800.000/bulan</span>
                </div>
              </div>
            </article>

            <!-- Kartu Apartemen Serupa 2 -->
            <article class="c-property-card">
              <a href="#detail-apartemen-2" class="c-property-card__image-link">
                <div class="c-property-card__image">
                  <img src="https://via.placeholder.com/400x300/ec4899/ffffff?Text=Apartemen+Central+Park"
                    alt="Apartemen Central Park">
                  <span class="c-badge c-badge--primary">Disewakan</span>
                </div>
              </a>
              <div class="c-property-card__content">
                <h3 class="c-property-card__title"><a href="#detail-apartemen-2">Apartemen Mediterania Garden (Central
                    Park)</a></h3>
                <p class="c-property-card__location">Grogol Petamburan, Jakarta Barat</p>
                <div class="c-property-card__meta">
                  <span><i class="fa-solid fa-bed"></i> 2 KT</span>
                  <span><i class="fa-solid fa-bath"></i> 2 KM</span>
                  <span><i class="fa-solid fa-ruler-combined"></i> 75m²</span>
                </div>
                <div class="c-property-card__price">
                  <span>Rp 6.200.000/bulan</span>
                </div>
              </div>
            </article>

            <!-- Kartu Apartemen Serupa 3 -->
            <article class="c-property-card">
              <a href="#detail-apartemen-3" class="c-property-card__image-link">
                <div class="c-property-card__image">
                  <img src="https://via.placeholder.com/400x300/8b5cf6/ffffff?Text=Apartemen+Soho"
                    alt="Apartemen SOHO Capital">
                  <span class="c-badge c-badge--primary">Disewakan</span>
                </div>
              </a>
              <div class="c-property-card__content">
                <h3 class="c-property-card__title"><a href="#detail-apartemen-3">Apartemen SOHO Capital @ Podomoro
                    City</a></h3>
                <p class="c-property-card__location">Tanjung Duren, Jakarta Barat</p>
                <div class="c-property-card__meta">
                  <span><i class="fa-solid fa-bed"></i> 1 KT</span>
                  <span><i class="fa-solid fa-bath"></i> 1 KM</span>
                  <span><i class="fa-solid fa-ruler-combined"></i> 50m²</span>
                </div>
                <div class="c-property-card__price">
                  <span>Rp 7.000.000/bulan</span>
                </div>
              </div>
            </article>
          </div>
        </div>
      </section>
    </div> <!-- Penutup .l-container -->
  </main>

  <!-- Modal Sewa Sekarang -->
  <div class="c-modal" id="book-modal" aria-labelledby="book-modal-title" aria-hidden="true" role="dialog">
    <div class="c-modal__content" role="document">
      <header class="c-modal__header">
        <h3 id="book-modal-title">Konfirmasi Penyewaan Apartemen</h3>
        <button class="c-modal__close" id="close-modal-button" aria-label="Tutup modal">
          <i class="fa-solid fa-times"></i>
        </button>
      </header>
      <div class="c-modal__body">
        <div class="c-booking-summary">
          <div class="c-booking-summary__property">
            <img src="https://via.placeholder.com/800x600/ea580c/ffffff?Text=Gambar+Utama+1"
              alt="Apartemen Taman Anggrek" class="c-booking-summary__image" id="modal-summary-image">
            <div>
              <h4 id="modal-summary-name">Apartemen Taman Anggrek</h4>
              <p id="modal-summary-location">Jl. Letjen S. Parman Kav. 21, Jakarta Barat</p>
            </div>
          </div>

          <div class="c-booking-summary__details">
            <div class="c-booking-summary__row">
              <span>Durasi Sewa:</span>
              <span id="modal-summary-duration">12 Bulan</span>
            </div>
            <div class="c-booking-summary__row">
              <span>Tanggal Mulai:</span>
              <span id="modal-summary-date">1 Agustus 2023</span>
            </div>
            <div class="c-booking-summary__row">
              <span>Total Biaya Sewa:</span>
              <span id="modal-summary-rental">Rp 66.000.000</span>
            </div>
            <div class="c-booking-summary__row">
              <span>Deposit:</span>
              <span id="modal-summary-deposit">Rp 5.500.000</span>
            </div>
            <div class="c-booking-summary__row">
              <span>Biaya Layanan:</span>
              <span id="modal-summary-fee">Rp 275.000</span>
            </div>
            <div class="c-booking-summary__row c-booking-summary__row--total">
              <span>Total Pembayaran Awal:</span>
              <span id="modal-summary-total">Rp 71.775.000</span>
            </div>
          </div>
        </div>

        <form id="booking-form" novalidate>
          <h4>Informasi Penyewa</h4>
          <div class="c-form-group">
            <div class="c-input-group">
              <label for="booking-name">Nama Lengkap<span class="required-indicator">*</span></label>
              <input type="text" id="booking-name" name="bookingName" class="c-input" required>
              <span class="c-input-error-message u-hidden"></span>
            </div>
            <div class="c-input-group">
              <label for="booking-email">Email<span class="required-indicator">*</span></label>
              <input type="email" id="booking-email" name="bookingEmail" class="c-input" required>
              <span class="c-input-error-message u-hidden"></span>
            </div>
          </div>
          <div class="c-form-group">
            <div class="c-input-group">
              <label for="booking-phone">Nomor Telepon<span class="required-indicator">*</span></label>
              <input type="tel" id="booking-phone" name="bookingPhone" class="c-input" required>
              <span class="c-input-error-message u-hidden"></span>
            </div>
            <div class="c-input-group">
              <label for="booking-id">Nomor KTP/Paspor<span class="required-indicator">*</span></label>
              <input type="text" id="booking-id" name="bookingId" class="c-input" required>
              <span class="c-input-error-message u-hidden"></span>
            </div>
          </div>

          <h4>Metode Pembayaran</h4>
          <div class="c-payment-methods">
            <div class="c-payment-method">
              <input type="radio" name="payment-method" id="payment-transfer" value="transfer" checked>
              <label for="payment-transfer">Transfer Bank</label>
            </div>
            <div class="c-payment-method">
              <input type="radio" name="payment-method" id="payment-card" value="card">
              <label for="payment-card">Kartu Kredit/Debit</label>
            </div>
            <div class="c-payment-method">
              <input type="radio" name="payment-method" id="payment-ewallet" value="ewallet">
              <label for="payment-ewallet">E-Wallet (OVO, GoPay, Dana)</label>
            </div>
          </div>

          <div class="c-input-group c-checkbox-group">
            <input type="checkbox" id="terms-agree" name="termsAgree" required>
            <label for="terms-agree">Saya menyetujui <a href="#syarat-ketentuan" class="c-link">Syarat &amp;
                Ketentuan</a> serta <a href="#kebijakan-privasi" class="c-link">Kebijakan Privasi</a> yang berlaku.<span
                class="required-indicator">*</span></label>
            <span class="c-input-error-message u-hidden"
              style="width:100%; margin-left: calc(1.15em + var(--spacing-2));"></span>
          </div>

          <button type="submit" class="c-button c-button--primary c-button--block"
            style="margin-top: var(--spacing-4);">
            <i class="fa-solid fa-credit-card"></i> Lanjutkan ke Pembayaran
          </button>
          <p id="booking-form-feedback" class="u-hidden" style="margin-top: var(--spacing-3); text-align: center;"></p>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="c-footer">
    <div class="l-container">
      <div class="c-footer__grid">
        <div class="c-footer__brand">
          <a href="/" class="c-footer__logo" aria-label="Beranda TemukanApartemen">
            <i class="fa-solid fa-building-user"></i>
            TemukanApartemen
          </a>
          <p>Platform terpercaya untuk menemukan dan menyewa apartemen impian Anda di seluruh Indonesia. Mudah, aman,
            dan nyaman.</p>
          <div class="c-footer__social">
            <a href="https://facebook.com" target="_blank" rel="noopener noreferrer"
              aria-label="Facebook TemukanApartemen"><i class="fa-brands fa-facebook-f"></i></a>
            <a href="https://twitter.com" target="_blank" rel="noopener noreferrer"
              aria-label="Twitter TemukanApartemen"><i class="fa-brands fa-twitter"></i></a>
            <a href="https://instagram.com" target="_blank" rel="noopener noreferrer"
              aria-label="Instagram TemukanApartemen"><i class="fa-brands fa-instagram"></i></a>
            <a href="https://linkedin.com" target="_blank" rel="noopener noreferrer"
              aria-label="LinkedIn TemukanApartemen"><i class="fa-brands fa-linkedin-in"></i></a>
          </div>
        </div>

        <div class="c-footer__links">
          <h4>Perusahaan</h4>
          <ul>
            <li><a href="#tentang-kami">Tentang Kami</a></li>
            <li><a href="#karir">Karir</a></li>
            <li><a href="#blog">Blog & Artikel</a></li>
            <li><a href="#media">Media & Pers</a></li>
          </ul>
        </div>

        <div class="c-footer__links">
          <h4>Bantuan & Panduan</h4>
          <ul>
            <li><a href="#faq">FAQ (Tanya Jawab)</a></li>
            <li><a href="#syarat-ketentuan">Syarat & Ketentuan</a></li>
            <li><a href="#kebijakan-privasi">Kebijakan Privasi</a></li>
            <li><a href="#hubungi-kami">Hubungi Layanan Pelanggan</a></li>
          </ul>
        </div>

        <div class="c-footer__newsletter">
          <h4>Berlangganan Buletin</h4>
          <p>Dapatkan informasi terbaru, tips, dan penawaran eksklusif langsung ke email Anda.</p>
          <form class="c-footer__form" id="newsletter-form">
            <input type="email" id="newsletter-email" name="newsletterEmail" placeholder="Masukkan alamat email Anda"
              required class="c-input">
            <button type="submit" class="c-button c-button--primary">Langganan</button>
          </form>
          <p id="newsletter-feedback" class="u-hidden"
            style="margin-top: var(--spacing-2); font-size: var(--font-size-sm);"></p>
        </div>
      </div>

      <div class="c-footer__bottom">
        <p>&copy; <span id="current-year">2023</span> TemukanApartemen. Hak Cipta Dilindungi.</p>
        <div class="c-footer__payments">
          <span>Metode Pembayaran Aman:</span>
          <i class="fa-brands fa-cc-visa" title="Visa"></i>
          <i class="fa-brands fa-cc-mastercard" title="Mastercard"></i>
          <i class="fa-brands fa-cc-paypal" title="PayPal"></i>
          <i class="fa-solid fa-university" title="Transfer Bank"></i> <!-- Mengganti ikon generik bank -->
        </div>
      </div>
    </div>
  </footer>

  <!-- Skrip JavaScript Utama -->
  <script>
    (function () {
      "use strict";

      // STATE APLIKASI
      const appState = {
        theme: localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'),
        isOnline: navigator.onLine,
        apartmentData: { // Data ini bisa dimuat dari API di aplikasi nyata
          basePriceMonthly: 5500000,
          name: "Apartemen Taman Anggrek",
          location: "Jl. Letjen S. Parman Kav. 21, Jakarta Barat",
          images: [
            { src: "https://via.placeholder.com/800x600/ea580c/ffffff?Text=Ruang+Tamu", alt: "Ruang Tamu Apartemen Taman Anggrek" },
            { src: "https://via.placeholder.com/800x600/16a34a/ffffff?Text=Dapur", alt: "Dapur Apartemen Taman Anggrek" },
            { src: "https://via.placeholder.com/800x600/0284c7/ffffff?Text=Kamar+Tidur+Utama", alt: "Kamar Tidur Utama Apartemen Taman Anggrek" },
            { src: "https://via.placeholder.com/800x600/facc15/000000?Text=Kamar+Mandi", alt: "Kamar Mandi Apartemen Taman Anggrek" },
            { src: "https://via.placeholder.com/800x600/7c3aed/ffffff?Text=Balkon+Pemandangan+Kota", alt: "Balkon dengan Pemandangan Kota" },
            { src: "https://via.placeholder.com/800x600/db2777/ffffff?Text=Fasilitas+Kolam+Renang", alt: "Fasilitas Kolam Renang Apartemen" }
          ],
          currentImageIndex: 0,
          isSaved: JSON.parse(localStorage.getItem('apartmentSaved_tamanAnggrek')) || false,
          rentalOptions: {
            duration: 12, // dalam bulan
            moveInDate: new Date(new Date().setDate(new Date().getDate() + 1)).toISOString().split('T')[0], // default besok
            discounts: { 1: 0, 3: 0.02, 6: 0.05, 12: 0.10 }, // diskon berdasarkan durasi
            serviceFeeRate: 0.05, // 5%
          },
          calculatedCosts: {
            monthlyRental: 0,
            totalRental: 0,
            deposit: 0,
            serviceFee: 0,
            totalPayment: 0,
          }
        },
        isModalOpen: false,
        activeModal: null, // ID modal yang aktif
      };

      // UTILITAS
      const utils = {
        qs: (selector, parent = document) => parent.querySelector(selector),
        qsa: (selector, parent = document) => parent.querySelectorAll(selector),
        formatCurrency: (amount, currency = 'IDR') => {
          return new Intl.NumberFormat('id-ID', { style: 'currency', currency: currency, minimumFractionDigits: 0 }).format(amount);
        },
        debounce: (func, delay) => {
          let timeout;
          return function (...args) {
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(this, args), delay);
          };
        },
        // Menambahkan ID unik jika diperlukan untuk elemen dinamis
        generateId: (prefix = 'id') => `${prefix}-${Math.random().toString(36).substr(2, 9)}`,
        // Menghapus class dari beberapa elemen
        removeClassFromElements: (elements, className) => {
          elements.forEach(el => el.classList.remove(className));
        },
        // Fokus ke elemen pertama yang error dalam form
        focusFirstError: (form) => {
          const firstErrorInput = form.querySelector('.is-invalid');
          if (firstErrorInput) {
            firstErrorInput.focus();
          }
        }
      };

      // ELEMEN DOM (Cache untuk performa)
      const DOMElements = {
        html: document.documentElement,
        appHeader: utils.qs('#app-header'),
        themeToggleBtn: utils.qs('#theme-toggle'),
        themeIconLight: utils.qs('#theme-icon-light'),
        themeIconDark: utils.qs('#theme-icon-dark'),
        navToggleBtn: utils.qs('#nav-toggle'),
        navMenu: utils.qs('#primary-navigation'),
        navLinks: utils.qsa('.c-nav__link'),
        connectionStatusBar: utils.qs('#connection-status'),
        connectionStatusText: utils.qs('#connection-status .c-status-bar__text'),

        mainImage: utils.qs('#main-image'),
        thumbnailContainer: utils.qs('.c-image-gallery__thumbnails'),
        virtualTourBtn: utils.qs('#virtual-tour-button'),

        shareButton: utils.qs('#share-button'),
        saveButton: utils.qs('#save-button'),
        saveIcon: utils.qs('#save-icon'),
        saveText: utils.qs('#save-text'),

        priceDisplay: utils.qs('#price-display'),
        rentalDurationSelect: utils.qs('#rental-duration'),
        moveInDateInput: utils.qs('#move-in-date'),
        moveInDateError: utils.qs('#move-in-date-error'),
        monthlyRentalCostDisplay: utils.qs('#monthly-rental-cost'),
        durationLabelDisplay: utils.qs('#duration-label'),
        totalRentalCostDisplay: utils.qs('#total-rental-cost'),
        depositCostDisplay: utils.qs('#deposit-cost'),
        serviceFeeDisplay: utils.qs('#service-fee'),
        totalPaymentDisplay: utils.qs('#total-payment'),

        bookNowButton: utils.qs('#book-now-button'),
        scheduleVisitButton: utils.qs('#schedule-visit-button'),

        contactForm: utils.qs('#contact-form'),
        contactFormFeedback: utils.qs('#contact-form-feedback'),

        bookModal: utils.qs('#book-modal'),
        closeModalButton: utils.qs('#close-modal-button'),
        bookingForm: utils.qs('#booking-form'),
        bookingFormFeedback: utils.qs('#booking-form-feedback'),
        modalSummary: {
          image: utils.qs('#modal-summary-image'),
          name: utils.qs('#modal-summary-name'),
          location: utils.qs('#modal-summary-location'),
          duration: utils.qs('#modal-summary-duration'),
          date: utils.qs('#modal-summary-date'),
          rental: utils.qs('#modal-summary-rental'),
          deposit: utils.qs('#modal-summary-deposit'),
          fee: utils.qs('#modal-summary-fee'),
          total: utils.qs('#modal-summary-total'),
        },

        newsletterForm: utils.qs('#newsletter-form'),
        newsletterEmailInput: utils.qs('#newsletter-email'),
        newsletterFeedback: utils.qs('#newsletter-feedback'),
        currentYearSpan: utils.qs('#current-year'),
      };

      // FUNGSI RENDER / PEMBARUAN UI
      const UIRender = {
        theme: () => {
          DOMElements.html.setAttribute('data-theme', appState.theme);
          if (appState.theme === 'dark') {
            DOMElements.themeIconLight.classList.add('u-hidden');
            DOMElements.themeIconDark.classList.remove('u-hidden');
            DOMElements.themeToggleBtn.setAttribute('aria-label', 'Ganti ke tema terang');
          } else {
            DOMElements.themeIconLight.classList.remove('u-hidden');
            DOMElements.themeIconDark.classList.add('u-hidden');
            DOMElements.themeToggleBtn.setAttribute('aria-label', 'Ganti ke tema gelap');
          }
        },
        connectionStatus: () => {
          DOMElements.connectionStatusText.textContent = appState.isOnline ? 'Koneksi internet stabil' : 'Anda sedang offline';
          DOMElements.connectionStatusBar.classList.toggle('c-status-bar--offline', !appState.isOnline);
          DOMElements.connectionStatusBar.classList.toggle('is-visible', true); // Selalu tampilkan sebentar
          DOMElements.appHeader.classList.toggle('has-status-bar', true);

          setTimeout(() => {
            // Sembunyikan jika online setelah beberapa detik, tetap tampilkan jika offline
            if (appState.isOnline) {
              DOMElements.connectionStatusBar.classList.remove('is-visible');
              DOMElements.appHeader.classList.remove('has-status-bar');
            }
          }, 3000);
        },
        gallery: () => {
          const currentImage = appState.apartmentData.images[appState.apartmentData.currentImageIndex];
          DOMElements.mainImage.src = currentImage.src;
          DOMElements.mainImage.alt = currentImage.alt;

          // Update thumbnail aktif
          utils.qsa('.c-image-gallery__thumbnail', DOMElements.thumbnailContainer)
            .forEach((thumb, index) => {
              thumb.classList.toggle('is-active', index === appState.apartmentData.currentImageIndex);
              thumb.setAttribute('aria-current', index === appState.apartmentData.currentImageIndex);
            });
        },
        saveButton: () => {
          DOMElements.saveButton.classList.toggle('is-saved', appState.apartmentData.isSaved);
          DOMElements.saveButton.setAttribute('aria-pressed', appState.apartmentData.isSaved);
          DOMElements.saveIcon.classList.toggle('fa-regular', !appState.apartmentData.isSaved);
          DOMElements.saveIcon.classList.toggle('fa-solid', appState.apartmentData.isSaved);
          DOMElements.saveText.textContent = appState.apartmentData.isSaved ? 'Disimpan' : 'Simpan';
        },
        priceCalculator: () => {
          const { basePriceMonthly, rentalOptions, calculatedCosts } = appState.apartmentData;
          const duration = parseInt(rentalOptions.duration);
          const discount = rentalOptions.discounts[duration] || 0;

          calculatedCosts.monthlyRental = basePriceMonthly * (1 - discount);
          calculatedCosts.totalRental = calculatedCosts.monthlyRental * duration;
          calculatedCosts.deposit = calculatedCosts.monthlyRental; // Biasanya 1 bulan sewa
          calculatedCosts.serviceFee = calculatedCosts.totalRental * rentalOptions.serviceFeeRate;
          calculatedCosts.totalPayment = calculatedCosts.totalRental + calculatedCosts.deposit + calculatedCosts.serviceFee;

          DOMElements.priceDisplay.textContent = `${utils.formatCurrency(calculatedCosts.monthlyRental)}/bulan`;
          DOMElements.monthlyRentalCostDisplay.textContent = utils.formatCurrency(calculatedCosts.monthlyRental);
          DOMElements.durationLabelDisplay.textContent = duration;
          DOMElements.totalRentalCostDisplay.textContent = utils.formatCurrency(calculatedCosts.totalRental);
          DOMElements.depositCostDisplay.textContent = utils.formatCurrency(calculatedCosts.deposit);
          DOMElements.serviceFeeDisplay.textContent = utils.formatCurrency(calculatedCosts.serviceFee);
          DOMElements.totalPaymentDisplay.textContent = utils.formatCurrency(calculatedCosts.totalPayment);
        },
        bookingModalSummary: () => {
          const { name, location, images, rentalOptions, calculatedCosts } = appState.apartmentData;
          DOMElements.modalSummary.image.src = images[0].src; // Ambil gambar pertama untuk summary
          DOMElements.modalSummary.name.textContent = name;
          DOMElements.modalSummary.location.textContent = location;
          DOMElements.modalSummary.duration.textContent = `${rentalOptions.duration} Bulan`;
          DOMElements.modalSummary.date.textContent = new Date(rentalOptions.moveInDate).toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' });
          DOMElements.modalSummary.rental.textContent = utils.formatCurrency(calculatedCosts.totalRental);
          DOMElements.modalSummary.deposit.textContent = utils.formatCurrency(calculatedCosts.deposit);
          DOMElements.modalSummary.fee.textContent = utils.formatCurrency(calculatedCosts.serviceFee);
          DOMElements.modalSummary.total.textContent = utils.formatCurrency(calculatedCosts.totalPayment);
        },
        formFieldValidation: (inputElement, message, isValid) => {
          const group = inputElement.closest('.c-input-group');
          const errorElement = utils.qs('.c-input-error-message', group);
          inputElement.classList.toggle('is-invalid', !isValid);
          inputElement.setAttribute('aria-invalid', !isValid);
          if (errorElement) {
            errorElement.textContent = message;
            errorElement.classList.toggle('u-hidden', isValid);
            if (!isValid) {
              errorElement.setAttribute('role', 'alert');
            } else {
              errorElement.removeAttribute('role');
            }
          }
        },
        formFeedback: (formElement, message, isSuccess) => {
          const feedbackElement = utils.qs(`#${formElement.id}-feedback`);
          if (feedbackElement) {
            feedbackElement.textContent = message;
            feedbackElement.className = `form-feedback ${isSuccess ? 'success' : 'error'}`; // Perlu style CSS untuk ini
            feedbackElement.classList.remove('u-hidden');
            feedbackElement.setAttribute('role', 'alert');
            setTimeout(() => {
              feedbackElement.classList.add('u-hidden');
              feedbackElement.removeAttribute('role');
            }, 5000);
          }
        },
      };

      // LOGIKA APLIKASI & EVENT HANDLERS
      const AppLogic = {
        toggleTheme: () => {
          appState.theme = appState.theme === 'dark' ? 'light' : 'dark';
          localStorage.setItem('theme', appState.theme);
          UIRender.theme();
        },
        toggleNavMenu: () => {
          const isExpanded = DOMElements.navToggleBtn.getAttribute('aria-expanded') === 'true';
          DOMElements.navToggleBtn.setAttribute('aria-expanded', !isExpanded);
          DOMElements.navMenu.classList.toggle('is-active');
          document.body.style.overflow = DOMElements.navMenu.classList.contains('is-active') ? 'hidden' : '';
        },
        handleNavLinkClick: (event) => {
          // Hapus kelas aktif dari semua link
          DOMElements.navLinks.forEach(link => link.classList.remove('c-nav__link--active'));
          // Tambah kelas aktif ke link yang diklik
          event.currentTarget.classList.add('c-nav__link--active');
          // Jika di mobile, tutup menu
          if (DOMElements.navMenu.classList.contains('is-active')) {
            AppLogic.toggleNavMenu();
          }
          // Untuk SPA sejati, di sini akan ada routing. Untuk demo, hanya update active state.
          // Jika href adalah #hash, biarkan default behavior untuk scroll.
          if (!event.currentTarget.getAttribute('href').startsWith('#')) {
            event.preventDefault(); // Cegah navigasi jika bukan link internal halaman
          }
        },
        updateConnection: () => {
          appState.isOnline = navigator.onLine;
          UIRender.connectionStatus();
        },
        createThumbnails: () => {
          DOMElements.thumbnailContainer.innerHTML = ''; // Kosongkan dulu
          appState.apartmentData.images.forEach((img, index) => {
            const thumbDiv = document.createElement('div');
            thumbDiv.className = 'c-image-gallery__thumbnail';
            thumbDiv.dataset.index = index;
            thumbDiv.setAttribute('role', 'button');
            thumbDiv.setAttribute('tabindex', '0');
            thumbDiv.setAttribute('aria-label', `Lihat gambar ${index + 1}: ${img.alt}`);

            const thumbImg = document.createElement('img');
            thumbImg.src = img.src.replace('800x600', '200x150'); // Versi kecil thumbnail
            thumbImg.alt = img.alt;
            thumbDiv.appendChild(thumbImg);

            thumbDiv.addEventListener('click', () => AppLogic.changeMainImage(index));
            thumbDiv.addEventListener('keydown', (e) => {
              if (e.key === 'Enter' || e.key === ' ') AppLogic.changeMainImage(index);
            });
            DOMElements.thumbnailContainer.appendChild(thumbDiv);
          });
        },
        changeMainImage: (index) => {
          appState.apartmentData.currentImageIndex = index;
          UIRender.gallery();
        },
        handleShare: async () => {
          const shareData = {
            title: `Apartemen ${appState.apartmentData.name}`,
            text: `Lihat apartemen menarik ini: ${appState.apartmentData.name} di ${appState.apartmentData.location}`,
            url: window.location.href,
          };
          try {
            if (navigator.share) {
              await navigator.share(shareData);
              alert('Apartemen berhasil dibagikan!');
            } else {
              // Fallback untuk browser yang tidak support Web Share API
              navigator.clipboard.writeText(window.location.href);
              alert('Link apartemen telah disalin ke clipboard!');
            }
          } catch (err) {
            console.error("Error sharing:", err);
            alert('Gagal membagikan. Silakan coba lagi.');
          }
        },
        toggleSaveApartment: () => {
          appState.apartmentData.isSaved = !appState.apartmentData.isSaved;
          localStorage.setItem('apartmentSaved_tamanAnggrek', JSON.stringify(appState.apartmentData.isSaved));
          UIRender.saveButton();
          // Tambahkan feedback visual singkat
          const feedbackText = appState.apartmentData.isSaved ? 'Ditambahkan ke favorit!' : 'Dihapus dari favorit.';
          // Implementasi toast message sederhana
          const toast = document.createElement('div');
          toast.textContent = feedbackText;
          toast.style.cssText = `
                        position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
                        background-color: var(--color-primary); color: white; padding: 10px 20px;
                        border-radius: var(--radius-md); box-shadow: var(--shadow-lg); z-index: 1000;
                        opacity: 0; transition: opacity 0.3s;
                    `;
          document.body.appendChild(toast);
          setTimeout(() => toast.style.opacity = '1', 10); // fade in
          setTimeout(() => {
            toast.style.opacity = '0';
            setTimeout(() => toast.remove(), 300); // remove after fade out
          }, 2000);
        },
        updateRentalDuration: (event) => {
          appState.apartmentData.rentalOptions.duration = event.target.value;
          UIRender.priceCalculator();
        },
        updateMoveInDate: (event) => {
          const selectedDate = new Date(event.target.value);
          const today = new Date();
          today.setHours(0, 0, 0, 0); // Set ke awal hari

          if (selectedDate < today) {
            DOMElements.moveInDateError.textContent = 'Tanggal mulai tidak boleh kurang dari hari ini.';
            DOMElements.moveInDateError.classList.remove('u-hidden');
            DOMElements.moveInDateInput.classList.add('is-invalid');
            // Mungkin set ke tanggal valid terdekat atau biarkan error
            event.target.value = appState.apartmentData.rentalOptions.moveInDate; // Kembalikan ke nilai valid sebelumnya
            return;
          }
          DOMElements.moveInDateError.classList.add('u-hidden');
          DOMElements.moveInDateInput.classList.remove('is-invalid');
          appState.apartmentData.rentalOptions.moveInDate = event.target.value;
          UIRender.priceCalculator();
        },
        validateFormField: (inputElement) => {
          let message = '';
          let isValid = true;
          const value = inputElement.value.trim();
          const type = inputElement.type;
          const name = inputElement.name;

          if (inputElement.required && !value) {
            message = 'Kolom ini wajib diisi.';
            isValid = false;
          } else if (type === 'email' && value && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
            message = 'Format email tidak valid.';
            isValid = false;
          } else if (type === 'tel' && value && !/^\+?[0-9\s-]{7,}$/.test(value)) {
            message = 'Format nomor telepon tidak valid.';
            isValid = false;
          } else if (name === 'bookingId' && value && value.length < 8) {
            message = 'Nomor identitas minimal 8 karakter.';
            isValid = false;
          } else if (type === 'checkbox' && inputElement.required && !inputElement.checked) {
            message = 'Anda harus menyetujui syarat dan ketentuan.';
            isValid = false;
          }

          UIRender.formFieldValidation(inputElement, message, isValid);
          return isValid;
        },
        validateForm: (formElement) => {
          let isFormValid = true;
          utils.qsa('input[required], textarea[required], select[required]', formElement).forEach(input => {
            if (!AppLogic.validateFormField(input)) {
              isFormValid = false;
            }
          });
          // Untuk checkbox, validasi terpisah jika bukan bagian dari querySelector di atas
          const termsCheckbox = utils.qs('#terms-agree', formElement);
          if (termsCheckbox && termsCheckbox.required && !termsCheckbox.checked) {
            if (!AppLogic.validateFormField(termsCheckbox)) {
              isFormValid = false;
            }
          }
          return isFormValid;
        },
        handleContactFormSubmit: (event) => {
          event.preventDefault();
          if (!AppLogic.validateForm(DOMElements.contactForm)) {
            utils.focusFirstError(DOMElements.contactForm);
            UIRender.formFeedback(DOMElements.contactForm, 'Harap periksa kembali isian formulir Anda.', false);
            return;
          }
          // Simulasi pengiriman form
          const submitButton = DOMElements.contactForm.querySelector('button[type="submit"]');
          submitButton.disabled = true;
          submitButton.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Mengirim...';

          setTimeout(() => {
            UIRender.formFeedback(DOMElements.contactForm, 'Pesan Anda berhasil terkirim! Agen kami akan segera menghubungi Anda.', true);
            DOMElements.contactForm.reset();
            utils.qsa('.is-invalid', DOMElements.contactForm).forEach(el => el.classList.remove('is-invalid'));
            submitButton.disabled = false;
            submitButton.innerHTML = '<i class="fa-solid fa-paper-plane"></i> Kirim Pesan';
          }, 1500);
        },
        handleBookingFormSubmit: (event) => {
          event.preventDefault();
          if (!AppLogic.validateForm(DOMElements.bookingForm)) {
            utils.focusFirstError(DOMElements.bookingForm);
            UIRender.formFeedback(DOMElements.bookingForm, 'Harap lengkapi semua kolom yang wajib diisi.', false);
            return;
          }
          // Simulasi pengiriman form
          const submitButton = DOMElements.bookingForm.querySelector('button[type="submit"]');
          submitButton.disabled = true;
          submitButton.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Memproses...';

          setTimeout(() => {
            UIRender.formFeedback(DOMElements.bookingForm, 'Pemesanan Anda sedang diproses. Anda akan diarahkan ke halaman pembayaran.', true);
            // Di aplikasi nyata, di sini akan ada redirect atau proses pembayaran lebih lanjut
            // DOMElements.bookingForm.reset();
            // AppLogic.closeModal('book-modal'); // Tutup modal setelah sukses
            // submitButton.disabled = false;
            // submitButton.innerHTML = '<i class="fa-solid fa-credit-card"></i> Lanjutkan ke Pembayaran';
            alert("Simulasi: Pemesanan berhasil! Anda akan diarahkan ke pembayaran.");
            AppLogic.closeModal('book-modal');
          }, 2000);
        },
        handleNewsletterSubmit: (event) => {
          event.preventDefault();
          const email = DOMElements.newsletterEmailInput.value;
          if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
            DOMElements.newsletterFeedback.textContent = 'Format email tidak valid.';
            DOMElements.newsletterFeedback.style.color = 'var(--color-error)';
            DOMElements.newsletterFeedback.classList.remove('u-hidden');
            return;
          }
          // Simulasi
          DOMElements.newsletterFeedback.textContent = 'Terima kasih! Anda berhasil berlangganan.';
          DOMElements.newsletterFeedback.style.color = 'var(--color-success)';
          DOMElements.newsletterFeedback.classList.remove('u-hidden');
          DOMElements.newsletterEmailInput.value = '';
          setTimeout(() => DOMElements.newsletterFeedback.classList.add('u-hidden'), 4000);
        },
        openModal: (modalId) => {
          const modal = utils.qs(`#${modalId}`);
          if (modal) {
            appState.isModalOpen = true;
            appState.activeModal = modalId;
            modal.classList.add('is-active');
            modal.setAttribute('aria-hidden', 'false');
            document.body.style.overflow = 'hidden'; // Cegah scroll background
            // Fokus ke elemen pertama yang bisa difokus di modal
            const focusableElements = utils.qsa('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])', modal);
            if (focusableElements.length > 0) focusableElements[0].focus();

            if (modalId === 'book-modal') {
              UIRender.bookingModalSummary(); // Update summary saat modal dibuka
            }
          }
        },
        closeModal: (modalId) => {
          const modal = utils.qs(`#${modalId}`);
          if (modal) {
            appState.isModalOpen = false;
            appState.activeModal = null;
            modal.classList.remove('is-active');
            modal.setAttribute('aria-hidden', 'true');
            document.body.style.overflow = '';
            // Kembalikan fokus ke tombol yang membuka modal, jika ada
            if (modalId === 'book-modal' && DOMElements.bookNowButton) {
              DOMElements.bookNowButton.focus();
            }
          }
        },
        handleKeydown: (event) => {
          if (event.key === 'Escape' && appState.isModalOpen && appState.activeModal) {
            AppLogic.closeModal(appState.activeModal);
          }
        },
        addRippleEffect: (event) => {
          const button = event.currentTarget;
          const ripple = document.createElement("span");
          const rect = button.getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);

          ripple.style.width = ripple.style.height = `${size}px`;
          ripple.style.left = `${event.clientX - rect.left - size / 2}px`;
          ripple.style.top = `${event.clientY - rect.top - size / 2}px`;
          ripple.classList.add('c-ripple');

          // Hapus ripple sebelumnya jika ada
          const existingRipple = button.querySelector(".c-ripple");
          if (existingRipple) existingRipple.remove();

          button.appendChild(ripple);
          // Hapus elemen ripple setelah animasi selesai
          ripple.addEventListener('animationend', () => ripple.remove());
        },
      };

      // INISIALISASI APLIKASI
      function init() {
        // Tema
        UIRender.theme();
        DOMElements.themeToggleBtn.addEventListener('click', AppLogic.toggleTheme);

        // Navigasi
        DOMElements.navToggleBtn.addEventListener('click', AppLogic.toggleNavMenu);
        DOMElements.navLinks.forEach(link => {
          link.addEventListener('click', AppLogic.handleNavLinkClick);
        });
        // Klik di luar menu untuk menutup (jika menu aktif)
        document.addEventListener('click', (event) => {
          if (DOMElements.navMenu.classList.contains('is-active') &&
            !DOMElements.navMenu.contains(event.target) &&
            !DOMElements.navToggleBtn.contains(event.target)) {
            AppLogic.toggleNavMenu();
          }
        });

        // Status Koneksi
        AppLogic.updateConnection(); // Panggil saat load
        window.addEventListener('online', AppLogic.updateConnection);
        window.addEventListener('offline', AppLogic.updateConnection);

        // Galeri Gambar
        AppLogic.createThumbnails();
        UIRender.gallery(); // Render gambar utama awal & thumbnail aktif
        if (DOMElements.virtualTourBtn) {
          DOMElements.virtualTourBtn.addEventListener('click', () => alert('Fitur Tur Virtual akan segera hadir!'));
        }

        // Aksi Header Apartemen
        DOMElements.shareButton.addEventListener('click', AppLogic.handleShare);
        DOMElements.saveButton.addEventListener('click', AppLogic.toggleSaveApartment);
        UIRender.saveButton(); // Render status simpan awal

        // Kalkulator Harga
        const today = new Date();
        const tomorrow = new Date(today);
        tomorrow.setDate(today.getDate() + 1);
        DOMElements.moveInDateInput.min = tomorrow.toISOString().split('T')[0];
        DOMElements.moveInDateInput.value = appState.apartmentData.rentalOptions.moveInDate;
        DOMElements.rentalDurationSelect.addEventListener('change', AppLogic.updateRentalDuration);
        DOMElements.moveInDateInput.addEventListener('change', AppLogic.updateMoveInDate);
        UIRender.priceCalculator(); // Kalkulasi & render harga awal

        // Formulir Kontak
        DOMElements.contactForm.addEventListener('submit', AppLogic.handleContactFormSubmit);
        utils.qsa('input, textarea', DOMElements.contactForm).forEach(input => {
          input.addEventListener('blur', () => AppLogic.validateFormField(input));
        });

        // Modal
        DOMElements.bookNowButton.addEventListener('click', () => AppLogic.openModal('book-modal'));
        DOMElements.closeModalButton.addEventListener('click', () => AppLogic.closeModal('book-modal'));
        // Klik di luar modal untuk menutup
        DOMElements.bookModal.addEventListener('click', (event) => {
          if (event.target === DOMElements.bookModal) AppLogic.closeModal('book-modal');
        });
        DOMElements.bookingForm.addEventListener('submit', AppLogic.handleBookingFormSubmit);
        utils.qsa('input, textarea, select', DOMElements.bookingForm).forEach(input => {
          input.addEventListener('blur', () => AppLogic.validateFormField(input));
        });
        const termsCheckbox = utils.qs('#terms-agree', DOMElements.bookingForm);
        if (termsCheckbox) termsCheckbox.addEventListener('change', () => AppLogic.validateFormField(termsCheckbox));


        // Global keydown listener (untuk Escape di modal)
        document.addEventListener('keydown', AppLogic.handleKeydown);

        // Efek Ripple pada semua tombol .c-button
        utils.qsa('.c-button').forEach(button => {
          button.addEventListener('click', AppLogic.addRippleEffect);
        });

        // Footer
        DOMElements.newsletterForm.addEventListener('submit', AppLogic.handleNewsletterSubmit);
        DOMElements.currentYearSpan.textContent = new Date().getFullYear();

        // Jadwalkan Kunjungan (Placeholder)
        if (DOMElements.scheduleVisitButton) {
          DOMElements.scheduleVisitButton.addEventListener('click', () => {
            alert('Fitur Jadwalkan Kunjungan akan segera diimplementasikan. Untuk saat ini, silakan hubungi agen melalui form atau kontak yang tersedia.');
          });
        }

        console.log("Aplikasi TemukanApartemen berhasil diinisialisasi.");
      }

      // Jalankan inisialisasi setelah DOM siap
      document.addEventListener('DOMContentLoaded', init);

    })();
  </script>
</body>

</html>