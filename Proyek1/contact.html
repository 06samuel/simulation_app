<!DOCTYPE html>
<html lang="id" data-theme="light">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <meta name="theme-color" content="#2563eb" />
    <title>Hubungi Kami - Green Valley</title>
    <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E%F0%9F%8F%A0%3C/text%3E%3C/svg%3E" />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preload"
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap"
        as="style" onload="this.rel='stylesheet'">
    <noscript>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap"
            rel="stylesheet">
    </noscript>
    <!-- Font Awesome untuk ikon, bisa diganti dengan SVG inline jika diinginkan untuk 100% vanilla tanpa CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* Design System & Variabel Global */
        :root {
            /* Palet Warna Utama */
            --color-primary-h: 220;
            /* Hue untuk Biru Green Valley */
            --color-primary-s: 78%;
            /* Saturasi */
            --color-primary-l: 52%;
            /* Lightness */
            --color-primary: hsl(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l));
            /* #2563eb */
            --color-primary-dark: hsl(var(--color-primary-h), var(--color-primary-s), 42%);
            /* #1d4ed8 */
            --color-primary-light: hsl(var(--color-primary-h), var(--color-primary-s), 92%);
            /* Lebih terang untuk latar hover */

            --color-secondary-h: 215;
            --color-secondary-s: 19%;
            --color-secondary-l: 50%;
            --color-secondary: hsl(var(--color-secondary-h), var(--color-secondary-s), var(--color-secondary-l));
            /* #64748b */

            --color-accent-h: 39;
            --color-accent-s: 91%;
            --color-accent-l: 51%;
            --color-accent: hsl(var(--color-accent-h), var(--color-accent-s), var(--color-accent-l));
            /* #f59e0b */

            /* Warna Status */
            --color-success: #22c55e;
            --color-error: #ef4444;
            --color-warning: #f59e0b;
            --color-info: #3b82f6;

            /* Warna Netral & Teks */
            --color-background-light: #ffffff;
            --color-surface-light: #f8fafc;
            /* Sedikit abu-abu untuk card, form */
            --color-text-light: #1e293b;
            --color-text-muted-light: #64748b;
            --color-border-light: #e2e8f0;
            /* Batas input, pemisah */

            --color-background-dark: #1e293b;
            /* Latar belakang mode gelap */
            --color-surface-dark: #334155;
            /* Card, form di mode gelap */
            --color-text-dark: #f1f5f9;
            --color-text-muted-dark: #94a3b8;
            --color-border-dark: #475569;

            /* Penetapan warna dinamis berdasarkan tema */
            --color-background: var(--color-background-light);
            --color-surface: var(--color-surface-light);
            --color-text: var(--color-text-light);
            --color-text-muted: var(--color-text-muted-light);
            --color-border: var(--color-border-light);
            --color-header-bg: var(--color-primary);
            --color-header-text: #ffffff;

            /* Tipografi */
            --font-family-main: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
            --font-family-display: 'Playfair Display', serif;
            --line-height-normal: 1.6;
            --line-height-heading: 1.2;
            --font-size-xs: 0.875rem;
            /* 14px */
            --font-size-sm: 1rem;
            /* 16px */
            --font-size-md: 1.125rem;
            /* 18px */
            --font-size-lg: 1.375rem;
            /* 22px */
            --font-size-xl: 1.75rem;
            /* 28px */
            --font-size-display: 2.25rem;
            /* 36px */

            /* Spasi */
            --space-xxs: 0.25rem;
            /* 4px */
            --space-xs: 0.5rem;
            /* 8px */
            --space-sm: 0.75rem;
            /* 12px */
            --space-md: 1rem;
            /* 16px */
            --space-lg: 1.5rem;
            /* 24px */
            --space-xl: 2rem;
            /* 32px */
            --space-2xl: 3rem;
            /* 48px */

            /* Radius & Bayangan */
            --radius-xs: 0.25rem;
            /* 4px */
            --radius-sm: 0.375rem;
            /* 6px */
            --radius-md: 0.5rem;
            /* 8px */
            --radius-lg: 1rem;
            /* 16px */
            --radius-full: 9999px;

            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.15);

            /* Transisi */
            --transition-fast: 150ms ease-in-out;
            --transition-normal: 250ms ease-in-out;
            --transition-slow: 350ms ease-in-out;

            /* Z-index */
            --z-dropdown: 1000;
            --z-sticky: 1020;
            --z-modal: 1030;
            --z-popover: 1040;
            --z-tooltip: 1050;
            --z-status-bar: 1100;
        }

        /* Mode Gelap */
        html[data-theme="dark"] {
            --color-background: var(--color-background-dark);
            --color-surface: var(--color-surface-dark);
            --color-text: var(--color-text-dark);
            --color-text-muted: var(--color-text-muted-dark);
            --color-border: var(--color-border-dark);
            --color-header-bg: var(--color-surface-dark);
            /* Header bisa beda di mode gelap */
            --color-header-text: var(--color-text-dark);
        }

        /* Reset & Dasar */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 16px;
            /* Basis untuk REM */
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: var(--font-family-main);
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: var(--line-height-normal);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            transition: background-color var(--transition-normal), color var(--transition-normal);
        }

        main {
            flex-grow: 1;
            /* Konten utama mengisi sisa ruang */
        }

        a {
            color: var(--color-primary);
            text-decoration: none;
            transition: color var(--transition-fast);
        }

        a:hover {
            color: var(--color-primary-dark);
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: var(--font-family-display);
            line-height: var(--line-height-heading);
            margin-bottom: var(--space-md);
            color: var(--color-text);
            /* Teks judul juga terpengaruh tema */
        }

        h1 {
            font-size: var(--font-size-display);
        }

        h2 {
            font-size: var(--font-size-xl);
        }

        h3 {
            font-size: var(--font-size-lg);
        }

        p {
            margin-bottom: var(--space-md);
        }

        img,
        svg {
            max-width: 100%;
            height: auto;
            display: block;
        }

        /* Preferensi Gerakan Minimal */
        @media (prefers-reduced-motion: reduce) {
            html {
                scroll-behavior: auto;
            }

            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        /* Tata Letak (Layout Utilities) */
        .l-container {
            width: min(100% - (var(--space-md) * 2), 1200px);
            /* Maksimal 1200px, dengan padding */
            margin-left: auto;
            margin-right: auto;
            padding-left: var(--space-md);
            padding-right: var(--space-md);
        }

        .l-flex {
            display: flex;
            gap: var(--space-md);
        }

        .l-flex--justify-between {
            justify-content: space-between;
        }

        .l-flex--align-center {
            align-items: center;
        }

        .l-flex--wrap {
            flex-wrap: wrap;
        }

        .l-grid {
            display: grid;
            gap: var(--space-lg);
        }

        @media (min-width: 768px) {
            .l-grid--2cols {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Komponen: Header (c-header) */
        .c-header {
            background-color: var(--color-header-bg);
            color: var(--color-header-text);
            padding: var(--space-md) 0;
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: var(--z-sticky);
            transition: background-color var(--transition-normal), color var(--transition-normal);
        }

        .c-header__logo {
            font-size: var(--font-size-lg);
            font-weight: 700;
            color: inherit;
            /* Mengikuti warna teks header */
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .c-header__logo-icon {
            width: 28px;
            height: 28px;
            filter: invert(1);
            /* Agar ikon putih jika header gelap */
        }

        html[data-theme="dark"] .c-header__logo-icon {
            filter: none;
            /* Atau sesuaikan filter jika diperlukan */
        }


        /* Komponen: Navigasi (c-nav) */
        .c-nav__menu {
            list-style: none;
            display: flex;
            gap: var(--space-lg);
        }

        .c-nav__link {
            color: inherit;
            /* Mengikuti warna teks header */
            font-weight: 500;
            text-decoration: none;
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-sm);
            position: relative;
            transition: color var(--transition-fast), background-color var(--transition-fast);
        }

        .c-nav__link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background-color: var(--color-accent);
            /* Garis bawah aksen */
            transition: width var(--transition-normal);
        }

        .c-nav__link:hover::after,
        .c-nav__link--active::after {
            width: 70%;
        }

        .c-nav__link--active {
            font-weight: 700;
            /* Lebih tebal untuk link aktif */
        }

        .c-nav__toggle {
            /* Tombol hamburger */
            display: none;
            /* Sembunyi di desktop */
            background: none;
            border: none;
            color: inherit;
            /* Mengikuti warna teks header */
            font-size: 1.5rem;
            /* Ukuran ikon hamburger */
            cursor: pointer;
            padding: var(--space-xs);
            z-index: var(--z-dropdown);
            /* Di atas menu */
        }

        /* Komponen: Status Bar Koneksi */
        .c-status-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: var(--space-xs) var(--space-md);
            background-color: var(--color-primary);
            color: white;
            text-align: center;
            font-size: var(--font-size-sm);
            transform: translateY(-100%);
            transition: transform var(--transition-normal), background-color var(--transition-normal);
            z-index: var(--z-status-bar);
            box-shadow: var(--shadow-sm);
        }

        .c-status-bar.is-visible {
            transform: translateY(0);
        }

        .c-status-bar--online {
            background-color: var(--color-success);
        }

        .c-status-bar--offline {
            background-color: var(--color-error);
        }

        /* Komponen: Page Header (Judul Halaman) */
        .c-page-header {
            padding: var(--space-xl) 0 var(--space-lg);
            text-align: center;
            background-color: var(--color-surface);
            /* Latar belakang ringan */
            border-bottom: 1px solid var(--color-border);
        }

        .c-page-header__title {
            font-size: var(--font-size-display);
            color: var(--color-primary);
            margin-bottom: var(--space-sm);
        }

        .c-page-header__subtitle {
            font-size: var(--font-size-md);
            color: var(--color-text-muted);
            max-width: 60ch;
            /* Batas lebar untuk keterbacaan */
            margin-left: auto;
            margin-right: auto;
        }

        /* Komponen: Form (c-form) */
        .c-form {
            background-color: var(--color-surface);
            padding: var(--space-lg);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            transition: background-color var(--transition-normal);
        }

        .c-form-group {
            margin-bottom: var(--space-lg);
            /* Lebih banyak spasi antar grup */
        }

        .c-form-label {
            display: block;
            margin-bottom: var(--space-xs);
            font-weight: 600;
            font-size: var(--font-size-sm);
            color: var(--color-text);
        }

        .c-form-control {
            width: 100%;
            padding: var(--space-sm) var(--space-md);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-sm);
            font-family: inherit;
            background-color: var(--color-background);
            /* Input mengikuti latar utama */
            color: var(--color-text);
            transition: border-color var(--transition-fast), box-shadow var(--transition-fast), background-color var(--transition-normal);
        }

        .c-form-control:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.2);
        }

        .c-form-control::placeholder {
            color: var(--color-text-muted);
            opacity: 0.7;
        }

        .c-form-control.is-invalid {
            border-color: var(--color-error);
        }

        .c-form-control.is-valid {
            border-color: var(--color-success);
        }

        .c-form-feedback {
            font-size: var(--font-size-xs);
            margin-top: var(--space-xxs);
            min-height: 1.2em;
            /* Jaga ruang agar layout tidak melompat */
            transition: color var(--transition-fast);
        }

        .c-form-feedback.is-invalid {
            color: var(--color-error);
        }

        .c-form-feedback.is-valid {
            color: var(--color-success);
        }

        .c-checkbox {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            cursor: pointer;
            user-select: none;
            /* Agar teks tidak terseleksi saat klik */
        }

        .c-checkbox__input {
            /* Sembunyikan input asli */
            opacity: 0;
            width: 0;
            height: 0;
            position: absolute;
        }

        .c-checkbox__mark {
            width: 1.25em;
            height: 1.25em;
            border: 2px solid var(--color-border);
            border-radius: var(--radius-xs);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-background);
            /* Warna centang */
            background-color: var(--color-background);
            transition: border-color var(--transition-fast), background-color var(--transition-fast);
            flex-shrink: 0;
            /* Agar tidak mengecil */
        }

        .c-checkbox__input:checked+.c-checkbox__mark {
            background-color: var(--color-primary);
            border-color: var(--color-primary);
        }

        .c-checkbox__input:focus-visible+.c-checkbox__mark {
            /* Styling fokus */
            box-shadow: 0 0 0 3px hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.2);
        }

        .c-checkbox__mark::before {
            /* Ikon centang */
            content: '✓';
            font-size: 0.9em;
            font-weight: bold;
            opacity: 0;
            /* Sembunyi by default */
            transform: scale(0.5);
            transition: opacity var(--transition-fast), transform var(--transition-fast);
        }

        .c-checkbox__input:checked+.c-checkbox__mark::before {
            opacity: 1;
            transform: scale(1);
        }

        .c-checkbox__label {
            font-size: var(--font-size-sm);
            color: var(--color-text-muted);
        }

        .c-form-actions {
            margin-top: var(--space-lg);
            text-align: right;
        }

        /* Komponen: Tombol (c-button) */
        .c-button {
            display: inline-flex;
            /* Untuk align item di tengah */
            align-items: center;
            justify-content: center;
            gap: var(--space-xs);
            padding: var(--space-sm) var(--space-lg);
            font-weight: 600;
            font-size: var(--font-size-sm);
            border-radius: var(--radius-sm);
            background-color: var(--color-primary);
            color: #fff;
            border: 1px solid transparent;
            /* Border untuk konsistensi */
            cursor: pointer;
            text-align: center;
            transition: background-color var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast);
            user-select: none;
        }

        .c-button:hover {
            background-color: var(--color-primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-xs);
        }

        .c-button:active {
            transform: translateY(0);
            box-shadow: none;
        }

        .c-button:focus-visible {
            outline: none;
            box-shadow: 0 0 0 3px hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.3);
        }

        .c-button:disabled {
            background-color: var(--color-secondary);
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .c-button--secondary {
            background-color: var(--color-secondary);
            color: #fff;
        }

        .c-button--secondary:hover {
            background-color: hsl(var(--color-secondary-h), var(--color-secondary-s), 40%);
        }

        .c-button__spinner {
            display: inline-block;
            width: 1em;
            /* Relatif ke font-size tombol */
            height: 1em;
            border: 2px solid currentColor;
            /* Menggunakan warna teks tombol */
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
            margin-left: var(--space-xs);
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Komponen: Kartu Kontak (c-contact-card) */
        .c-contact-card {
            background-color: var(--color-surface);
            padding: var(--space-lg);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            transition: transform var(--transition-normal), box-shadow var(--transition-normal), background-color var(--transition-normal);
        }

        .c-contact-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .c-contact-card h3 {
            /* Ubah dari h2 ke h3 untuk hierarki */
            font-size: var(--font-size-md);
            margin-bottom: var(--space-sm);
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .c-contact-card__content p {
            margin-bottom: var(--space-xs);
            color: var(--color-text-muted);
            font-size: var(--font-size-sm);
        }

        .c-contact-card__icon {
            color: var(--color-accent);
            font-size: 1.2em;
        }


        /* Komponen: Pesan (c-message) untuk sukses/error */
        .c-message {
            padding: var(--space-xl);
            /* Padding lebih besar */
            border-radius: var(--radius-md);
            text-align: center;
            margin-top: var(--space-xl);
            background-color: var(--color-surface);
            box-shadow: var(--shadow-md);
            animation: fadeInScaleUp 0.5s var(--transition-normal) forwards;
        }

        @keyframes fadeInScaleUp {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .c-message--success {
            border-left: 5px solid var(--color-success);
        }

        .c-message__icon {
            font-size: 3rem;
            /* Ikon lebih besar */
            margin-bottom: var(--space-md);
            animation: iconPop 0.5s var(--transition-normal) 0.3s backwards;
            /* Animasi setelah fadeInScaleUp */
        }

        .c-message__icon--success {
            color: var(--color-success);
        }

        @keyframes iconPop {
            0% {
                transform: scale(0.5);
                opacity: 0;
            }

            60% {
                transform: scale(1.2);
                opacity: 1;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .c-message__title {
            font-size: var(--font-size-xl);
            margin-bottom: var(--space-sm);
            color: var(--color-text);
        }

        .c-message__text {
            font-size: var(--font-size-md);
            margin-bottom: var(--space-lg);
            /* Spasi lebih besar sebelum tombol */
            color: var(--color-text-muted);
        }

        /* Komponen: Footer (c-footer) */
        .c-footer {
            background-color: var(--color-surface-dark);
            /* Footer gelap konsisten */
            color: var(--color-text-dark);
            text-align: center;
            padding: var(--space-lg) 0;
            margin-top: var(--space-2xl);
            /* Jarak lebih dari konten utama */
            font-size: var(--font-size-sm);
            border-top: 1px solid var(--color-border-dark);
        }

        .c-footer p {
            margin-bottom: 0;
        }

        /* Responsif */
        @media (max-width: 767px) {

            /* Batas untuk tablet kecil dan mobile */
            .c-nav__toggle {
                display: block;
                /* Tampilkan tombol hamburger */
            }

            .c-nav__menu {
                display: none;
                /* Sembunyikan menu default */
                position: absolute;
                top: 100%;
                /* Tepat di bawah header */
                left: 0;
                right: 0;
                flex-direction: column;
                background-color: var(--color-header-bg);
                /* Sama dengan header */
                padding: var(--space-md);
                box-shadow: var(--shadow-md);
                border-bottom-left-radius: var(--radius-md);
                border-bottom-right-radius: var(--radius-md);
                gap: var(--space-sm);
                animation: slideDown 0.3s ease-out forwards;
            }

            @keyframes slideDown {
                from {
                    opacity: 0;
                    transform: translateY(-10px);
                }

                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .c-nav__menu.is-open {
                display: flex;
                /* Tampilkan menu saat dibuka */
            }

            .c-nav__link {
                display: block;
                /* Link mengisi lebar penuh */
                padding: var(--space-sm);
                text-align: center;
            }

            .c-nav__link::after {
                display: none;
                /* Hilangkan garis bawah di mobile */
            }

            .c-nav__link:hover,
            .c-nav__link--active {
                background-color: hsla(var(--color-primary-h), var(--color-primary-s), 90%, 0.1);
                /* Latar hover halus */
            }

            .l-grid--2cols {
                grid-template-columns: 1fr;
                /* Satu kolom di mobile */
            }

            .c-contact-info {
                margin-top: var(--space-lg);
                /* Jarak form & info di mobile */
            }

            .c-form-actions {
                text-align: center;
                /* Tombol form di tengah */
            }

            .c-button {
                width: 100%;
                /* Tombol form mengisi lebar */
            }
        }

        /* Utilitas Bantuan */
        .u-visually-hidden {
            clip: rect(0 0 0 0);
            clip-path: inset(50%);
            height: 1px;
            overflow: hidden;
            position: absolute;
            white-space: nowrap;
            width: 1px;
        }

        .u-text-center {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="c-status-bar" id="connectionStatusBar" role="status" aria-live="polite">
        Anda sedang offline. Perubahan mungkin tidak tersimpan.
    </div>

    <header class="c-header" id="pageHeader">
        <div class="l-container l-flex l-flex--justify-between l-flex--align-center">
            <a href="index.html" class="c-header__logo" aria-label="Beranda Green Valley">
                <svg class="c-header__logo-icon" viewBox="0 0 24 24" fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z" />
                </svg>
                <span>Green Valley</span>
            </a>
            <button class="c-nav__toggle" id="navToggle" aria-expanded="false" aria-controls="mainNav"
                aria-label="Buka navigasi">
                <i class="fas fa-bars" aria-hidden="true"></i> <!-- Ikon hamburger -->
            </button>
            <nav class="c-nav" id="mainNavContainer">
                <ul class="c-nav__menu" id="mainNav">
                    <li><a href="#beranda" class="c-nav__link spa-link" data-route="beranda">Beranda</a></li>
                    <li><a href="#apartemen" class="c-nav__link spa-link" data-route="apartemen">Apartemen</a></li>
                    <li><a href="#hubungi-kami" class="c-nav__link c-nav__link--active spa-link"
                            data-route="hubungi-kami">Hubungi Kami</a></li>
                    <li><a href="#dashboard" class="c-nav__link spa-link" data-route="dashboard">Dashboard</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="appRoot">
        <!-- Konten akan dirender oleh JavaScript di sini -->
    </main>

    <footer class="c-footer">
        <div class="l-container">
            <p>© <span id="currentYear"></span> Green Valley. Hak Cipta Dilindungi.</p>
        </div>
    </footer>

    <script>
        // IIFE untuk enkapsulasi kode
        (function () {
            'use strict';

            // Konfigurasi Aplikasi
            const config = {
                defaultRoute: 'hubungi-kami',
                appName: 'Green Valley',
                apiSimulationDelay: 1500, // ms
                validationMessages: {
                    required: (field) => `${field} wajib diisi.`,
                    minLength: (field, len) => `${field} minimal ${len} karakter.`,
                    maxLength: (field, len) => `${field} maksimal ${len} karakter.`,
                    email: 'Format email tidak valid.',
                    tel: 'Format nomor telepon tidak valid (gunakan angka, bisa dengan + atau spasi).',
                    consent: 'Anda harus menyetujui kebijakan privasi.'
                }
            };

            // State Aplikasi (Contoh Sederhana)
            const appState = {
                currentRoute: config.defaultRoute,
                isLoading: false,
                formData: {},
                formErrors: {},
                formSubmittedSuccessfully: false,
                isOnline: navigator.onLine,
            };

            // Utilitas
            const utils = {
                $: (selector, context = document) => context.querySelector(selector),
                $$: (selector, context = document) => Array.from(context.querySelectorAll(selector)),
                debounce: (func, delay) => {
                    let timeoutId;
                    return (...args) => {
                        clearTimeout(timeoutId);
                        timeoutId = setTimeout(() => func.apply(this, args), delay);
                    };
                },
                sanitizeHTML: (str) => { // Basic sanitizer
                    const temp = document.createElement('div');
                    temp.textContent = str;
                    return temp.innerHTML;
                },
                isElementInView: (el) => {
                    const rect = el.getBoundingClientRect();
                    return (
                        rect.top >= 0 &&
                        rect.left >= 0 &&
                        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                    );
                }
            };

            // DOM Elements (Cache setelah DOM Ready)
            let DOMElements = {};

            function cacheDOMElements() {
                DOMElements = {
                    appRoot: utils.$('#appRoot'),
                    navToggle: utils.$('#navToggle'),
                    mainNav: utils.$('#mainNav'),
                    mainNavContainer: utils.$('#mainNavContainer'),
                    spaLinks: utils.$$('.spa-link'),
                    currentYear: utils.$('#currentYear'),
                    connectionStatusBar: utils.$('#connectionStatusBar'),
                    pageHeader: utils.$('#pageHeader') // Cache header untuk sticky
                };
            }

            // Router Sederhana (Hash-based)
            const router = {
                routes: {
                    'beranda': renderBerandaPage,
                    'apartemen': renderApartemenPage,
                    'hubungi-kami': renderHubungiKamiPage,
                    'dashboard': renderDashboardPage
                },
                init: () => {
                    window.addEventListener('hashchange', router.handleRouteChange);
                    router.handleRouteChange(); // Handle initial route
                    DOMElements.spaLinks.forEach(link => {
                        link.addEventListener('click', (e) => {
                            e.preventDefault();
                            const route = link.dataset.route;
                            if (route) {
                                window.location.hash = route;
                                if (DOMElements.mainNav.classList.contains('is-open')) {
                                    ui.toggleNavigationMenu(false); // Tutup menu mobile setelah klik
                                }
                            }
                        });
                    });
                },
                handleRouteChange: () => {
                    const hash = window.location.hash.slice(1) || config.defaultRoute;
                    appState.currentRoute = hash;
                    if (router.routes[hash]) {
                        router.routes[hash]();
                        ui.updateActiveNavLink(hash);
                    } else {
                        // Halaman tidak ditemukan (opsional, bisa buat halaman 404)
                        DOMElements.appRoot.innerHTML = `<div class="l-container u-text-center" style="padding: var(--space-2xl) 0;"><h2>Halaman Tidak Ditemukan</h2><p>Maaf, halaman yang Anda cari tidak tersedia.</p></div>`;
                    }
                    window.scrollTo(0, 0); // Scroll ke atas setiap pindah halaman
                }
            };

            // Komponen UI & Logika Rendering
            const ui = {
                renderPageShell: (title, subtitle, contentHtml) => {
                    const pageHtml = `
                    <section class="c-page-header">
                        <div class="l-container">
                            <h1 class="c-page-header__title">${utils.sanitizeHTML(title)}</h1>
                            ${subtitle ? `<p class="c-page-header__subtitle">${utils.sanitizeHTML(subtitle)}</p>` : ''}
                        </div>
                    </section>
                    <section class="l-container" style="padding-top: var(--space-lg); padding-bottom: var(--space-xl);">
                        ${contentHtml}
                    </section>
                `;
                    DOMElements.appRoot.innerHTML = pageHtml;
                },
                toggleNavigationMenu: (forceOpen) => {
                    const isOpen = DOMElements.mainNav.classList.toggle('is-open', forceOpen);
                    DOMElements.navToggle.setAttribute('aria-expanded', isOpen);
                    DOMElements.navToggle.innerHTML = `<i class="fas ${isOpen ? 'fa-times' : 'fa-bars'}" aria-hidden="true"></i>`;
                },
                updateActiveNavLink: (currentRoute) => {
                    DOMElements.spaLinks.forEach(link => {
                        link.classList.toggle('c-nav__link--active', link.dataset.route === currentRoute);
                    });
                },
                updateConnectionStatus: () => {
                    appState.isOnline = navigator.onLine;
                    const bar = DOMElements.connectionStatusBar;
                    if (appState.isOnline) {
                        bar.textContent = 'Koneksi internet kembali normal.';
                        bar.classList.remove('c-status-bar--offline');
                        bar.classList.add('c-status-bar--online');
                        setTimeout(() => bar.classList.remove('is-visible'), 3000); // Sembunyikan setelah beberapa detik
                    } else {
                        bar.textContent = 'Anda sedang offline. Beberapa fitur mungkin terbatas.';
                        bar.classList.remove('c-status-bar--online');
                        bar.classList.add('c-status-bar--offline');
                        bar.classList.add('is-visible'); // Tampilkan selalu saat offline
                    }
                },
                showFormLoading: (form, isLoading) => {
                    const submitButton = utils.$('button[type="submit"]', form);
                    if (!submitButton) return;

                    const buttonTextEl = utils.$('.c-button__text', submitButton);
                    const spinnerEl = utils.$('.c-button__spinner', submitButton);

                    if (isLoading) {
                        submitButton.disabled = true;
                        if (buttonTextEl) buttonTextEl.style.display = 'none';
                        if (spinnerEl) spinnerEl.style.display = 'inline-block';
                    } else {
                        submitButton.disabled = false;
                        if (buttonTextEl) buttonTextEl.style.display = 'inline-block';
                        if (spinnerEl) spinnerEl.style.display = 'none';
                    }
                },
                renderFieldFeedback: (inputElement, message, type = 'invalid') => {
                    const formGroup = inputElement.closest('.c-form-group');
                    if (!formGroup) return;
                    let feedbackEl = utils.$('.c-form-feedback', formGroup);
                    if (!feedbackEl) {
                        feedbackEl = document.createElement('div');
                        feedbackEl.className = 'c-form-feedback';
                        formGroup.appendChild(feedbackEl);
                    }
                    feedbackEl.textContent = message;
                    feedbackEl.className = `c-form-feedback is-${type}`; // is-invalid or is-valid
                    inputElement.classList.toggle('is-invalid', type === 'invalid' && !!message);
                    inputElement.classList.toggle('is-valid', type === 'valid' && !!message);

                    if (!message) { // Clear if no message
                        inputElement.classList.remove('is-invalid', 'is-valid');
                        feedbackEl.textContent = '';
                    }
                }
            };

            // Logika Form Kontak
            const contactFormLogic = {
                formElement: null,
                fields: { // Definisi field dan validasinya
                    name: { required: true, minLength: 2, maxLength: 50, label: 'Nama Lengkap' },
                    email: { required: true, type: 'email', label: 'Alamat Email' },
                    phone: { type: 'tel', pattern: /^[0-9+\-\s()]{7,20}$/, label: 'Nomor Telepon' }, // Opsional, tapi jika diisi harus valid
                    subject: { required: true, label: 'Subjek' },
                    message: { required: true, minLength: 10, maxLength: 500, label: 'Pesan' },
                    consent: { required: true, type: 'checkbox', label: 'Persetujuan' }
                },
                init: () => {
                    contactFormLogic.formElement = utils.$('#contactForm');
                    if (!contactFormLogic.formElement) return;

                    contactFormLogic.formElement.setAttribute('novalidate', true); // Nonaktifkan validasi browser bawaan

                    utils.$$('input, textarea, select', contactFormLogic.formElement).forEach(input => {
                        input.addEventListener('blur', contactFormLogic.handleFieldValidation);
                        // Real-time validation bisa ditambahkan dengan 'input' event + debounce
                    });
                    contactFormLogic.formElement.addEventListener('submit', contactFormLogic.handleSubmit);
                },
                validateField: (inputElement) => {
                    const fieldName = inputElement.name;
                    const rules = contactFormLogic.fields[fieldName];
                    if (!rules) return true;

                    let value = inputElement.type === 'checkbox' ? inputElement.checked : inputElement.value.trim();
                    let isValid = true;
                    let message = '';

                    if (rules.required && (inputElement.type === 'checkbox' ? !value : value === '')) {
                        isValid = false;
                        message = config.validationMessages.required(rules.label);
                    } else if (value !== '' || (inputElement.type === 'checkbox' && value)) { // Hanya validasi jika ada isi (kecuali required) atau checkbox dicentang
                        if (rules.minLength && value.length < rules.minLength) {
                            isValid = false;
                            message = config.validationMessages.minLength(rules.label, rules.minLength);
                        }
                        if (rules.maxLength && value.length > rules.maxLength) {
                            isValid = false;
                            message = config.validationMessages.maxLength(rules.label, rules.maxLength);
                        }
                        if (rules.type === 'email' && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
                            isValid = false;
                            message = config.validationMessages.email;
                        }
                        if (rules.type === 'tel' && rules.pattern && !rules.pattern.test(value)) {
                            isValid = false;
                            message = config.validationMessages.tel;
                        }
                    }

                    appState.formErrors[fieldName] = message;
                    ui.renderFieldFeedback(inputElement, message, isValid ? 'valid' : 'invalid');
                    return isValid;
                },
                handleFieldValidation: (event) => {
                    contactFormLogic.validateField(event.target);
                },
                validateForm: () => {
                    let isFormValid = true;
                    appState.formErrors = {}; // Reset error
                    for (const fieldName in contactFormLogic.fields) {
                        const inputElement = utils.$(`[name="${fieldName}"]`, contactFormLogic.formElement);
                        if (inputElement && !contactFormLogic.validateField(inputElement)) {
                            isFormValid = false;
                        }
                    }
                    return isFormValid;
                },
                handleSubmit: async (event) => {
                    event.preventDefault();
                    if (!contactFormLogic.validateForm()) {
                        // Fokus ke field error pertama (opsional)
                        const firstErrorField = utils.$('.is-invalid', contactFormLogic.formElement);
                        if (firstErrorField) firstErrorField.focus();
                        return;
                    }

                    appState.isLoading = true;
                    ui.showFormLoading(contactFormLogic.formElement, true);

                    // Kumpulkan data form
                    const formData = new FormData(contactFormLogic.formElement);
                    appState.formData = Object.fromEntries(formData.entries());
                    console.log('Data Formulir:', appState.formData); // Untuk debugging

                    // Simulasi pengiriman API
                    try {
                        await new Promise(resolve => setTimeout(resolve, config.apiSimulationDelay));
                        // Misal API response: { success: true, message: "Pesan terkirim!" }
                        appState.formSubmittedSuccessfully = true;
                        renderHubungiKamiPage(); // Re-render halaman untuk menampilkan pesan sukses
                    } catch (error) {
                        console.error('Gagal mengirim formulir:', error);
                        // Tampilkan pesan error umum (di atas form atau di status bar)
                        const generalErrorContainer = utils.$('#formGeneralError');
                        if (generalErrorContainer) {
                            generalErrorContainer.textContent = 'Terjadi kesalahan saat mengirim pesan. Silakan coba lagi.';
                            generalErrorContainer.style.display = 'block';
                        }
                        appState.formSubmittedSuccessfully = false;
                    } finally {
                        appState.isLoading = false;
                        // Tombol loading di-handle oleh re-render, tapi bisa juga di sini jika tidak re-render penuh
                        // ui.showFormLoading(contactFormLogic.formElement, false); 
                    }
                },
                resetForm: () => {
                    if (contactFormLogic.formElement) contactFormLogic.formElement.reset();
                    appState.formData = {};
                    appState.formErrors = {};
                    appState.formSubmittedSuccessfully = false; // Reset status sukses
                    // Hapus semua feedback validasi
                    utils.$$('.c-form-control', contactFormLogic.formElement).forEach(input => {
                        input.classList.remove('is-valid', 'is-invalid');
                        const feedbackEl = utils.$('.c-form-feedback', input.closest('.c-form-group'));
                        if (feedbackEl) feedbackEl.textContent = '';
                    });
                    const generalErrorContainer = utils.$('#formGeneralError');
                    if (generalErrorContainer) generalErrorContainer.style.display = 'none';
                }
            };

            // Fungsi Render Halaman Spesifik
            function renderBerandaPage() {
                ui.renderPageShell('Selamat Datang di Green Valley', 'Temukan properti impian Anda dengan mudah.',
                    `<div class="l-container u-text-center">
                    <p>Ini adalah halaman Beranda. Konten akan ditambahkan di sini.</p>
                    <img src="https://via.placeholder.com/800x400.png?text=Selamat+Datang" alt="Placeholder Beranda" style="margin-top: var(--space-lg); border-radius: var(--radius-md);">
                 </div>`
                );
            }

            function renderApartemenPage() {
                ui.renderPageShell('Daftar Apartemen', 'Jelajahi berbagai pilihan apartemen terbaik kami.',
                    `<div class="l-container u-text-center">
                    <p>Ini adalah halaman Apartemen. Fitur pencarian dan daftar apartemen akan ada di sini.</p>
                    <img src="https://via.placeholder.com/800x400.png?text=Daftar+Apartemen" alt="Placeholder Apartemen" style="margin-top: var(--space-lg); border-radius: var(--radius-md);">
                 </div>`
                );
            }

            function renderHubungiKamiPage() {
                if (appState.formSubmittedSuccessfully) {
                    const successHtml = `
                    <div class="c-message c-message--success">
                        <div class="c-message__icon c-message__icon--success"><i class="fas fa-check-circle"></i></div>
                        <h2 class="c-message__title">Pesan Berhasil Dikirim!</h2>
                        <p class="c-message__text">Terima kasih telah menghubungi ${config.appName}. Tim kami akan segera merespons Anda.</p>
                        <button class="c-button" id="resetContactFormBtn">Kirim Pesan Lain</button>
                    </div>`;
                    ui.renderPageShell('Hubungi Kami', 'Kami siap membantu Anda menemukan solusi terbaik.', successHtml);
                    const resetButton = utils.$('#resetContactFormBtn');
                    if (resetButton) {
                        resetButton.addEventListener('click', () => {
                            contactFormLogic.resetForm();
                            renderHubungiKamiPage(); // Kembali ke form kosong
                        });
                    }
                } else {
                    const formHtml = `
                    <div class="l-grid l-grid--2cols">
                        <div class="c-contact-form">
                            <div id="formGeneralError" class="c-form-feedback is-invalid" style="display:none; margin-bottom: var(--space-md); text-align:center; padding: var(--space-sm); background-color: hsla(0, 70%, 90%,1); border: 1px solid var(--color-error); border-radius: var(--radius-sm);"></div>
                            <form id="contactForm" class="c-form">
                                <div class="c-form-group">
                                    <label for="name" class="c-form-label">Nama Lengkap</label>
                                    <input type="text" id="name" name="name" class="c-form-control" placeholder="Masukkan nama lengkap Anda" />
                                    <div class="c-form-feedback"></div>
                                </div>

                                <div class="c-form-group">
                                    <label for="email" class="c-form-label">Alamat Email</label>
                                    <input type="email" id="email" name="email" class="c-form-control" placeholder="cth: nama@domain.com" />
                                    <div class="c-form-feedback"></div>
                                </div>

                                <div class="c-form-group">
                                    <label for="phone" class="c-form-label">Nomor Telepon (Opsional)</label>
                                    <input type="tel" id="phone" name="phone" class="c-form-control" placeholder="cth: 08123456789" />
                                    <div class="c-form-feedback"></div>
                                </div>

                                <div class="c-form-group">
                                    <label for="subject" class="c-form-label">Subjek</label>
                                    <select id="subject" name="subject" class="c-form-control">
                                        <option value="">Pilih subjek...</option>
                                        <option value="viewing">Jadwal Kunjungan Properti</option>
                                        <option value="inquiry">Pertanyaan Umum</option>
                                        <option value="feedback">Umpan Balik & Saran</option>
                                        <option value="support">Dukungan Teknis</option>
                                        <option value="partnership">Kerja Sama & Kemitraan</option>
                                    </select>
                                    <div class="c-form-feedback"></div>
                                </div>

                                <div class="c-form-group">
                                    <label for="message" class="c-form-label">Pesan Anda</label>
                                    <textarea id="message" name="message" class="c-form-control" rows="5" placeholder="Tuliskan pesan Anda di sini..."></textarea>
                                    <div class="c-form-feedback"></div>
                                </div>

                                <div class="c-form-group">
                                    <label class="c-checkbox">
                                        <input type="checkbox" id="consent" name="consent" class="c-checkbox__input" />
                                        <span class="c-checkbox__mark" aria-hidden="true"></span>
                                        <span class="c-checkbox__label">
                                            Saya setuju dengan <a href="#kebijakan-privasi" class="spa-link" data-route="kebijakan-privasi" target="_blank" rel="noopener noreferrer">kebijakan privasi</a> dan <a href="#syarat-ketentuan" class="spa-link" data-route="syarat-ketentuan" target="_blank" rel="noopener noreferrer">syarat ketentuan</a>.
                                        </span>
                                    </label>
                                    <div class="c-form-feedback" id="consentFeedback"></div>
                                </div>

                                <div class="c-form-actions">
                                    <button type="submit" class="c-button">
                                        <span class="c-button__text">Kirim Pesan</span>
                                        <span class="c-button__spinner" style="display: none;"></span>
                                    </button>
                                </div>
                            </form>
                        </div>

                        <aside class="c-contact-info">
                            <div class="c-contact-card">
                                <h3><i class="fas fa-map-marker-alt c-contact-card__icon" aria-hidden="true"></i> Lokasi Kantor</h3>
                                <address class="c-contact-card__content">
                                    <p>Jl. Properti Sejahtera No. 123, Suite 100</p>
                                    <p>Kota Metropolitan, Indonesia 12345</p>
                                </address>
                            </div>

                            <div class="c-contact-card">
                                <h3><i class="fas fa-clock c-contact-card__icon" aria-hidden="true"></i> Jam Operasional</h3>
                                <div class="c-contact-card__content">
                                    <p>Senin - Jumat: 09.00 - 17.00 WIB</p>
                                    <p>Sabtu: 10.00 - 15.00 WIB</p>
                                    <p>Minggu & Hari Libur: Tutup</p>
                                </div>
                            </div>

                            <div class="c-contact-card">
                                <h3><i class="fas fa-phone-alt c-contact-card__icon" aria-hidden="true"></i> Kontak Langsung</h3>
                                <div class="c-contact-card__content">
                                    <p>Telepon: <a href="tel:+62211234567">(021) 123-4567</a></p>
                                    <p>Email: <a href="mailto:info@Green Valley.com">info@Green Valley.com</a></p>
                                </div>
                            </div>
                        </aside>
                    </div>
                `;
                    ui.renderPageShell('Hubungi Kami', 'Kami siap membantu Anda menemukan solusi terbaik.', formHtml);
                    contactFormLogic.init(); // Inisialisasi ulang event listener untuk form baru
                }
            }

            function renderDashboardPage() {
                ui.renderPageShell('Dashboard Pengguna', 'Kelola properti dan preferensi Anda.',
                    `<div class="l-container u-text-center">
                    <p>Ini adalah halaman Dashboard. Fitur personalisasi akan tersedia di sini.</p>
                    <img src="https://via.placeholder.com/800x400.png?text=Dashboard+Pengguna" alt="Placeholder Dashboard" style="margin-top: var(--space-lg); border-radius: var(--radius-md);">
                 </div>`
                );
            }


            // Inisialisasi Aplikasi
            function initializeApp() {
                cacheDOMElements();
                DOMElements.currentYear.textContent = new Date().getFullYear();

                // Event Listener Global
                DOMElements.navToggle.addEventListener('click', () => ui.toggleNavigationMenu());
                window.addEventListener('online', ui.updateConnectionStatus);
                window.addEventListener('offline', ui.updateConnectionStatus);
                document.addEventListener('click', (event) => { // Tutup menu jika klik di luar
                    if (DOMElements.mainNav.classList.contains('is-open') &&
                        !DOMElements.mainNavContainer.contains(event.target) &&
                        !DOMElements.navToggle.contains(event.target)) {
                        ui.toggleNavigationMenu(false);
                    }
                });
                window.addEventListener('keydown', (event) => { // Tutup menu dengan tombol Esc
                    if (event.key === 'Escape' && DOMElements.mainNav.classList.contains('is-open')) {
                        ui.toggleNavigationMenu(false);
                    }
                });

                ui.updateConnectionStatus(); // Cek status koneksi awal
                router.init(); // Mulai router

                console.log(`${config.appName} SPA berhasil diinisialisasi.`);
            }

            // Mulai aplikasi setelah DOM siap
            document.addEventListener('DOMContentLoaded', initializeApp);

        })();
    </script>
</body>

</html>