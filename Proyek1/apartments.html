<!DOCTYPE html>
<html lang="id" data-theme="light">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
  <meta name="theme-color" content="#0D6EFD" /> <!-- Warna primer baru -->
  <title>Rentelindo - Solusi Rental Apartemen Modern</title>

  <!-- SEO Meta -->
  <meta name="description"
    content="Temukan apartemen ideal atau kelola properti Anda secara digital. Platform manajemen rental modern untuk pemilik dan penyewa di Indonesia. Cari, sewa, dan kelola apartemen dengan mudah." />
  <meta name="keywords"
    content="Rental Apartemen, Sewa Properti, Manajemen Properti, Aplikasi Penyewaan, Booking Apartemen, Dashboard Penyewa, Dashboard Pemilik, Rentelindo" />
  <meta name="author" content="Tim Rentelindo" />
  <meta name="robots" content="index, follow" />

  <!-- Favicon -->
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
    as="style" onload="this.rel='stylesheet'">
  <noscript>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
  </noscript>

  <!-- Inline CSS untuk Performa Kritis & Gaya Utama -->
  <style>
    /* Reset & Dasar */
    :root {
      --color-primary-h: 213;
      --color-primary-s: 94%;
      --color-primary-l: 47%;
      /* #0D6EFD */
      --color-primary: hsl(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l));
      --color-primary-dark: hsl(var(--color-primary-h), var(--color-primary-s), calc(var(--color-primary-l) - 10%));
      --color-primary-light: hsl(var(--color-primary-h), var(--color-primary-s), calc(var(--color-primary-l) + 45%));
      --color-accent-h: 42;
      --color-accent-s: 97%;
      --color-accent-l: 60%;
      /* #FCAE1E */
      --color-accent: hsl(var(--color-accent-h), var(--color-accent-s), var(--color-accent-l));
      --color-success: hsl(145, 63%, 42%);
      /* #28A745 */
      --color-danger: hsl(354, 70%, 54%);
      /* #DC3545 */
      --color-warning: hsl(45, 100%, 51%);
      /* #FFC107 */
      --color-info: hsl(188, 78%, 41%);
      /* #17A2B8 */

      --font-main: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      --font-monospace: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;

      --font-xs: 0.75rem;
      /* 12px */
      --font-sm: 0.875rem;
      /* 14px */
      --font-md: 1rem;
      /* 16px */
      --font-lg: 1.125rem;
      /* 18px */
      --font-xl: 1.5rem;
      /* 24px */
      --font-display: 2rem;
      /* 32px */
      --font-display-lg: 2.5rem;
      /* 40px */

      --space-xxs: 0.25rem;
      /* 4px */
      --space-xs: 0.5rem;
      /* 8px */
      --space-sm: 0.75rem;
      /* 12px */
      --space-md: 1rem;
      /* 16px */
      --space-lg: 1.5rem;
      /* 24px */
      --space-xl: 2rem;
      /* 32px */
      --space-xxl: 3rem;
      /* 48px */

      --radius-xs: 0.25rem;
      --radius-sm: 0.375rem;
      --radius-md: 0.5rem;
      --radius-lg: 0.75rem;
      --radius-xl: 1rem;

      --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
      --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.08);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.12);
      --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.15);

      --transition-fast: all 0.15s ease-in-out;
      --transition-normal: all 0.3s ease-in-out;

      /* Light Theme (Default) */
      --color-bg: hsl(220, 25%, 97%);
      --color-bg-alt: hsl(0, 0%, 100%);
      --color-text: hsl(220, 20%, 20%);
      --color-text-muted: hsl(220, 15%, 45%);
      --color-border: hsl(220, 20%, 88%);
      --color-focus: hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.25);
    }

    html[data-theme="dark"] {
      --color-bg: hsl(220, 20%, 12%);
      --color-bg-alt: hsl(220, 20%, 18%);
      --color-text: hsl(220, 15%, 90%);
      --color-text-muted: hsl(220, 10%, 65%);
      --color-border: hsl(220, 15%, 30%);
      --color-focus: hsla(var(--color-primary-h), var(--color-primary-s), calc(var(--color-primary-l) + 15%), 0.35);
    }

    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      font-size: 16px;
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body {
      font-family: var(--font-main);
      background-color: var(--color-bg);
      color: var(--color-text);
      line-height: 1.6;
      transition: background-color var(--transition-normal), color var(--transition-normal);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    a {
      color: var(--color-primary);
      text-decoration: none;
      transition: color var(--transition-fast);
    }

    a:hover,
    a:focus {
      color: var(--color-primary-dark);
      text-decoration: underline;
      outline: none;
      /* Custom focus state will be handled by components */
    }

    img,
    svg {
      max-width: 100%;
      height: auto;
      display: block;
    }

    button,
    input,
    select,
    textarea {
      font-family: inherit;
      font-size: inherit;
      line-height: inherit;
      color: inherit;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      padding: var(--space-xs) var(--space-sm);
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
    }

    button:focus,
    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px var(--color-focus);
    }

    button {
      cursor: pointer;
      background-color: var(--color-primary);
      color: white;
      border-color: var(--color-primary);
    }

    button:hover {
      background-color: var(--color-primary-dark);
      border-color: var(--color-primary-dark);
    }

    /* Utilitas */
    .u-visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .u-text-center {
      text-align: center;
    }

    .u-mb-xs {
      margin-bottom: var(--space-xs);
    }

    .u-mb-sm {
      margin-bottom: var(--space-sm);
    }

    .u-mb-md {
      margin-bottom: var(--space-md);
    }

    .u-mb-lg {
      margin-bottom: var(--space-lg);
    }

    .u-mb-xl {
      margin-bottom: var(--space-xl);
    }

    .u-fade-in {
      animation: fadeInAnimation 0.5s ease-in-out forwards;
    }

    @keyframes fadeInAnimation {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Layout */
    .l-container {
      width: 100%;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
      padding-left: var(--space-md);
      padding-right: var(--space-md);
    }

    .l-flex {
      display: flex;
      gap: var(--space-md);
    }

    .l-flex-wrap {
      flex-wrap: wrap;
    }

    .l-justify-between {
      justify-content: space-between;
    }

    .l-align-center {
      align-items: center;
    }

    .l-grid {
      display: grid;
      gap: var(--space-lg);
      grid-template-columns: repeat(auto-fill, minmax(min(100%, 300px), 1fr));
    }

    /* Komponen */
    .c-status-bar {
      background-color: var(--color-info);
      color: white;
      padding: var(--space-xs);
      text-align: center;
      font-size: var(--font-sm);
      position: sticky;
      top: 0;
      z-index: 1050;
      /* Di atas header */
      display: none;
      /* Default hidden */
      transition: opacity var(--transition-normal), transform var(--transition-normal);
      opacity: 0;
      transform: translateY(-100%);
    }

    .c-status-bar.is-visible {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .c-header {
      background-color: var(--color-bg-alt);
      color: var(--color-text);
      padding: var(--space-md) 0;
      box-shadow: var(--shadow-sm);
      position: sticky;
      top: 0;
      /* Akan tergeser jika status bar muncul */
      z-index: 1000;
      transition: top var(--transition-normal);
      /* Transisi saat status bar muncul/hilang */
    }

    .c-header__logo {
      font-size: var(--font-lg);
      font-weight: 700;
      color: var(--color-primary);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: var(--space-xs);
    }

    .c-header__logo-icon {
      width: 28px;
      height: 28px;
    }

    .c-nav__toggle {
      display: none;
      /* Sembunyikan di desktop */
      background: none;
      border: none;
      cursor: pointer;
      padding: var(--space-xs);
      font-size: var(--font-xl);
      color: var(--color-text);
    }

    .c-nav__menu {
      list-style: none;
      display: flex;
      gap: var(--space-lg);
      align-items: center;
    }

    .c-nav__item {}

    .c-nav__link {
      color: var(--color-text);
      font-weight: 500;
      text-decoration: none;
      padding: var(--space-xs) 0;
      position: relative;
      transition: color var(--transition-fast);
    }

    .c-nav__link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background-color: var(--color-primary);
      transition: width var(--transition-normal);
    }

    .c-nav__link:hover::after,
    .c-nav__link.is-active::after {
      width: 100%;
    }

    .c-nav__link.is-active {
      color: var(--color-primary);
      font-weight: 600;
    }

    .c-theme-toggle {
      background: none;
      border: none;
      color: var(--color-text);
      font-size: var(--font-lg);
      cursor: pointer;
      padding: var(--space-xs);
    }

    .c-hero {
      padding: var(--space-xxl) 0;
      text-align: center;
      background-color: var(--color-bg-alt);
      border-bottom: 1px solid var(--color-border);
    }

    .c-hero__title {
      font-size: var(--font-display-lg);
      font-weight: 700;
      color: var(--color-primary);
      margin-bottom: var(--space-md);
      line-height: 1.2;
    }

    .c-hero__subtitle {
      font-size: var(--font-lg);
      color: var(--color-text-muted);
      max-width: 700px;
      margin: 0 auto var(--space-xl);
    }

    .c-filters {
      background-color: var(--color-bg-alt);
      padding: var(--space-lg) 0;
      margin-bottom: var(--space-lg);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-xs);
    }

    .c-filters__title {
      font-size: var(--font-xl);
      font-weight: 600;
      margin-bottom: var(--space-md);
    }

    .c-form-group {
      margin-bottom: var(--space-md);
      /* Tambahkan margin bawah untuk grup form */
      flex: 1 1 200px;
      /* Flex grow, shrink, basis */
    }

    .c-form-control {
      width: 100%;
      padding: var(--space-sm) var(--space-md);
      /* Lebih besar paddingnya */
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      background-color: var(--color-bg);
      color: var(--color-text);
      font-size: var(--font-md);
    }

    .c-form-control:disabled {
      background-color: hsl(var(--color-primary-h), 5%, 90%);
      cursor: not-allowed;
    }

    html[data-theme="dark"] .c-form-control:disabled {
      background-color: hsl(var(--color-primary-h), 5%, 25%);
    }

    .c-apartment-card {
      background-color: var(--color-bg-alt);
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast);
      display: flex;
      flex-direction: column;
    }

    .c-apartment-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-md);
    }

    .c-apartment-card__image {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-bottom: 1px solid var(--color-border);
    }

    .c-apartment-card__body {
      padding: var(--space-md);
      flex-grow: 1;
      /* Agar body card mengisi sisa ruang */
      display: flex;
      flex-direction: column;
    }

    .c-apartment-card__title {
      font-size: var(--font-lg);
      font-weight: 600;
      margin-bottom: var(--space-xs);
      color: var(--color-text);
    }

    .c-apartment-card__location {
      font-size: var(--font-sm);
      color: var(--color-text-muted);
      margin-bottom: var(--space-xs);
      display: flex;
      align-items: center;
      gap: var(--space-xxs);
    }

    .c-apartment-card__price {
      font-size: var(--font-md);
      font-weight: 600;
      color: var(--color-primary);
      margin-bottom: var(--space-sm);
    }

    .c-apartment-card__button {
      margin-top: auto;
      /* Dorong tombol ke bawah */
      width: 100%;
    }

    .c-apartment-card__button:disabled {
      background-color: var(--color-text-muted);
      border-color: var(--color-text-muted);
      cursor: not-allowed;
    }

    .c-apartment-card__tag {
      position: absolute;
      top: var(--space-sm);
      right: var(--space-sm);
      background-color: var(--color-accent);
      color: var(--color-text);
      padding: var(--space-xs) var(--space-sm);
      border-radius: var(--radius-xs);
      font-size: var(--font-xs);
      font-weight: 600;
    }

    .c-apartment-card__image-container {
      position: relative;
      /* Untuk tag */
    }


    .c-button {
      display: inline-flex;
      /* Agar ikon dan teks sejajar */
      align-items: center;
      justify-content: center;
      gap: var(--space-xs);
      padding: var(--space-sm) var(--space-lg);
      font-weight: 500;
      /* Sedikit lebih ringan dari 600 */
      border-radius: var(--radius-sm);
      background-color: var(--color-primary);
      color: white;
      border: 1px solid var(--color-primary);
      cursor: pointer;
      text-align: center;
      transition: background-color var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast);
    }

    .c-button:hover,
    .c-button:focus {
      background-color: var(--color-primary-dark);
      border-color: var(--color-primary-dark);
      text-decoration: none;
      transform: translateY(-2px);
    }

    .c-button:active {
      transform: translateY(0);
    }

    .c-button--secondary {
      background-color: var(--color-bg-alt);
      color: var(--color-primary);
      border-color: var(--color-primary);
    }

    .c-button--secondary:hover,
    .c-button--secondary:focus {
      background-color: var(--color-primary-light);
    }

    .c-button--danger {
      background-color: var(--color-danger);
      border-color: var(--color-danger);
      color: white;
    }

    .c-button--danger:hover,
    .c-button--danger:focus {
      background-color: hsl(var(--color-danger-h, 354), var(--color-danger-s, 70%), calc(var(--color-danger-l, 54%) - 10%));
      border-color: hsl(var(--color-danger-h, 354), var(--color-danger-s, 70%), calc(var(--color-danger-l, 54%) - 10%));
    }

    .c-button>.fas {
      /* Ikon di dalam tombol */
      margin-right: var(--space-xs);
    }


    .c-page-section {
      padding-top: var(--space-xl);
      padding-bottom: var(--space-xl);
    }

    .c-page-title {
      font-size: var(--font-display);
      font-weight: 700;
      margin-bottom: var(--space-lg);
      color: var(--color-primary);
    }

    .c-empty-state,
    .c-loading-state {
      text-align: center;
      padding: var(--space-xxl) var(--space-md);
      background-color: var(--color-bg-alt);
      border-radius: var(--radius-md);
      margin: var(--space-lg) 0;
    }

    .c-empty-state__icon,
    .c-loading-state__icon {
      font-size: 3rem;
      color: var(--color-primary);
      margin-bottom: var(--space-md);
    }

    .c-empty-state__title,
    .c-loading-state__title {
      font-size: var(--font-xl);
      font-weight: 600;
      margin-bottom: var(--space-sm);
    }

    .c-empty-state__message,
    .c-loading-state__message {
      color: var(--color-text-muted);
      margin-bottom: var(--space-lg);
    }

    .c-loading-state__spinner {
      width: 50px;
      height: 50px;
      margin: 0 auto var(--space-md);
      border: 5px solid var(--color-border);
      border-top-color: var(--color-primary);
      border-radius: 50%;
      animation: spinAnimation 1s linear infinite;
    }

    @keyframes spinAnimation {
      to {
        transform: rotate(360deg);
      }
    }

    .c-footer {
      background-color: var(--color-text);
      /* Lebih gelap untuk kontras */
      color: var(--color-bg);
      /* Teks terang */
      text-align: center;
      padding: var(--space-xl) 0;
      margin-top: auto;
      /* Dorong footer ke bawah */
      font-size: var(--font-sm);
    }

    .c-footer p {
      margin-bottom: var(--space-xs);
    }

    .c-footer a {
      color: var(--color-accent);
    }

    .c-footer a:hover {
      color: hsl(var(--color-accent-h), var(--color-accent-s), calc(var(--color-accent-l) + 10%));
    }

    .c-toast {
      position: fixed;
      bottom: var(--space-lg);
      right: var(--space-lg);
      background-color: var(--color-text);
      color: var(--color-bg);
      padding: var(--space-md) var(--space-lg);
      border-radius: var(--radius-sm);
      box-shadow: var(--shadow-lg);
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px);
      transition: opacity var(--transition-normal), visibility var(--transition-normal), transform var(--transition-normal);
      z-index: 1050;
      font-size: var(--font-sm);
    }

    .c-toast.is-visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .c-toast--success {
      background-color: var(--color-success);
      color: white;
    }

    .c-toast--error {
      background-color: var(--color-danger);
      color: white;
    }

    .c-toast--info {
      background-color: var(--color-info);
      color: white;
    }

    /* Ikon FontAwesome (jika digunakan, pastikan sudah di-load) */
    /* Pengganti FontAwesome dengan SVG inline atau CSS icons jika memungkinkan untuk performa */
    .fas {
      /* Styling dasar untuk ikon jika menggunakan FontAwesome */
      display: inline-block;
      font-style: normal;
      font-variant: normal;
      text-rendering: auto;
      -webkit-font-smoothing: antialiased;
    }

    .fa-home::before {
      content: "üè†";
    }

    /* Contoh penggantian ikon */
    .fa-search::before {
      content: "üîç";
    }

    .fa-map-marker-alt::before {
      content: "üìç";
    }

    .fa-moon::before {
      content: "üåô";
    }

    .fa-sun::before {
      content: "‚òÄÔ∏è";
    }

    .fa-bars::before {
      content: "‚ò∞";
    }

    .fa-times::before {
      content: "‚úï";
    }

    .fa-envelope::before {
      content: "‚úâÔ∏è";
    }

    .fa-tachometer-alt::before {
      content: "üìä";
    }

    .fa-building::before {
      content: "üè¢";
    }

    .fa-filter::before {
      content: "üîß";
    }

    .fa-sync-alt::before {
      content: "üîÑ";
    }

    .fa-exclamation-triangle::before {
      content: "‚ö†Ô∏è";
    }


    /* Responsif */
    @media (max-width: 768px) {
      .c-nav__menu {
        display: none;
        /* Sembunyikan menu utama */
        position: absolute;
        top: 100%;
        /* Di bawah header */
        left: 0;
        right: 0;
        width: 100%;
        background-color: var(--color-bg-alt);
        flex-direction: column;
        padding: var(--space-md);
        box-shadow: var(--shadow-md);
        border-top: 1px solid var(--color-border);
        z-index: 999;
        /* Di bawah header, di atas konten */
      }

      .c-nav__menu.is-open {
        display: flex;
        /* Tampilkan saat is-open */
      }

      .c-nav__item {
        width: 100%;
      }

      .c-nav__link {
        display: block;
        padding: var(--space-sm) 0;
        width: 100%;
        text-align: left;
      }

      .c-nav__link::after {
        display: none;
        /* Hilangkan underline di mobile nav */
      }

      .c-nav__link.is-active {
        background-color: var(--color-primary-light);
        padding-left: var(--space-sm);
        border-radius: var(--radius-xs);
      }

      .c-nav__toggle {
        display: block;
        /* Tampilkan tombol toggle di mobile */
      }

      .l-flex.flex-wrap-mobile {
        /* Utility class for mobile wrapping */
        flex-wrap: wrap;
      }

      .c-hero__title {
        font-size: var(--font-display);
      }

      .c-hero__subtitle {
        font-size: var(--font-md);
      }
    }
  </style>
</head>

<body>

  <!-- STATUS BAR (untuk notifikasi koneksi, dll.) -->
  <div class="c-status-bar" id="statusBar" role="status" aria-live="polite">Pesan status akan muncul di sini.</div>

  <!-- HEADER -->
  <header class="c-header" id="pageHeader">
    <div class="l-container l-flex l-justify-between l-align-center">
      <a href="#/" class="c-header__logo" aria-label="Rentelindo Beranda">
        <svg class="c-header__logo-icon" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true">
          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z" />
        </svg>
        <span>Rentelindo</span>
      </a>

      <nav class="c-nav" aria-label="Navigasi Utama">
        <button class="c-nav__toggle" id="navToggle" aria-expanded="false" aria-controls="mainNavMenu"
          aria-label="Toggle navigasi">
          <span class="fas fa-bars" aria-hidden="true"></span>
        </button>
        <ul class="c-nav__menu" id="mainNavMenu">
          <li class="c-nav__item"><a href="#/" class="c-nav__link route-link">Beranda</a></li>
          <li class="c-nav__item"><a href="#/apartemen" class="c-nav__link route-link">Apartemen</a></li>
          <li class="c-nav__item"><a href="#/kontak" class="c-nav__link route-link">Kontak</a></li>
          <li class="c-nav__item"><a href="#/dashboard" class="c-nav__link route-link">Dashboard</a></li>
          <li class="c-nav__item">
            <button class="c-theme-toggle" id="themeToggle" aria-label="Ganti tema">
              <span class="fas fa-sun" aria-hidden="true"></span> <!-- Ikon akan diganti oleh JS -->
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- MAIN CONTENT AREA (SPA Target) -->
  <main id="mainContent" class="l-container c-page-section u-fade-in">
    <!-- Konten akan dirender di sini oleh JavaScript -->
  </main>

  <!-- FOOTER -->
  <footer class="c-footer">
    <div class="l-container">
      <p>¬© <span id="currentYear"></span> Rentelindo. Hak Cipta Dilindungi Undang-Undang.</p>
      <p>Solusi rental apartemen modern dan terpercaya di Indonesia.</p>
      <p><a href="#/kebijakan-privasi" class="route-link">Kebijakan Privasi</a> | <a href="#/syarat-ketentuan"
          class="route-link">Syarat & Ketentuan</a></p>
    </div>
  </footer>

  <!-- TOAST NOTIFICATION -->
  <div class="c-toast" id="toastNotification" role="alert" aria-live="assertive"></div>

  <!-- TEMPLATE UNTUK HALAMAN (dapat disembunyikan dan diclone) -->
  <template id="page-beranda">
    <section class="c-hero">
      <h1 class="c-hero__title">Temukan Apartemen Impian Anda</h1>
      <p class="c-hero__subtitle">Platform manajemen rental modern untuk pemilik dan penyewa apartemen di seluruh
        Indonesia. Cari unit, pantau pesanan, dan optimalkan pengelolaan properti dalam satu dashboard.</p>
      <a href="#/apartemen" class="c-button c-button--primary route-link"><span class="fas fa-search"></span>Cari
        Apartemen Sekarang</a>
    </section>
    <section class="c-page-section">
      <h2 class="c-page-title u-text-center">Mengapa Memilih Rentelindo?</h2>
      <div class="l-grid" style="gap: var(--space-xl);">
        <article class="c-feature-card"
          style="background-color: var(--color-bg-alt); padding: var(--space-lg); border-radius: var(--radius-md); box-shadow: var(--shadow-xs); text-align: center;">
          <span class="fas fa-building"
            style="font-size: 2.5rem; color: var(--color-primary); margin-bottom: var(--space-md); display: block;"></span>
          <h3 style="font-size: var(--font-lg); font-weight:600; margin-bottom: var(--space-sm);">Pilihan Lengkap</h3>
          <p style="color: var(--color-text-muted); font-size: var(--font-sm);">Akses ribuan unit apartemen
            terverifikasi di berbagai kota besar.</p>
        </article>
        <article class="c-feature-card"
          style="background-color: var(--color-bg-alt); padding: var(--space-lg); border-radius: var(--radius-md); box-shadow: var(--shadow-xs); text-align: center;">
          <span class="fas fa-check-circle"
            style="font-size: 2.5rem; color: var(--color-success); margin-bottom: var(--space-md); display: block;"></span>
          <h3 style="font-size: var(--font-lg); font-weight:600; margin-bottom: var(--space-sm);">Proses Mudah</h3>
          <p style="color: var(--color-text-muted); font-size: var(--font-sm);">Booking dan pembayaran digital yang aman
            dan cepat.</p>
        </article>
        <article class="c-feature-card"
          style="background-color: var(--color-bg-alt); padding: var(--space-lg); border-radius: var(--radius-md); box-shadow: var(--shadow-xs); text-align: center;">
          <span class="fas fa-shield-alt"
            style="font-size: 2.5rem; color: var(--color-accent); margin-bottom: var(--space-md); display: block;"></span>
          <h3 style="font-size: var(--font-lg); font-weight:600; margin-bottom: var(--space-sm);">Aman & Terpercaya</h3>
          <p style="color: var(--color-text-muted); font-size: var(--font-sm);">Sistem keamanan terjamin untuk
            kenyamanan transaksi Anda.</p>
        </article>
      </div>
    </section>
  </template>

  <template id="page-apartemen">
    <section class="c-filters" aria-labelledby="filter-heading">
      <div class="c-filters__content">
        <h2 id="filter-heading" class="c-filters__title"><span class="fas fa-filter"></span> Filter Pencarian Apartemen
        </h2>
        <div class="l-flex l-flex-wrap" style="gap: var(--space-md);">
          <div class="c-form-group">
            <label for="searchApartments" class="u-visually-hidden">Cari apartemen</label>
            <input type="search" id="searchApartments" class="c-form-control" placeholder="Cari nama atau lokasi..."
              aria-label="Cari apartemen" />
          </div>
          <div class="c-form-group">
            <label for="priceFilter" class="u-visually-hidden">Rentang Harga</label>
            <select id="priceFilter" class="c-form-control" aria-label="Filter berdasarkan rentang harga">
              <option value="all">Semua Harga</option>
              <option value="0-3500000">Rp 0 - Rp 3.500.000</option>
              <option value="3500001-5000000">Rp 3.500.001 - Rp 5.000.000</option>
              <option value="5000001-7000000">Rp 5.000.001 - Rp 7.000.000</option>
              <option value="7000001-999999999">> Rp 7.000.000</option>
            </select>
          </div>
          <div class="c-form-group">
            <label for="availabilityFilter" class="u-visually-hidden">Ketersediaan</label>
            <select id="availabilityFilter" class="c-form-control" aria-label="Filter berdasarkan ketersediaan">
              <option value="all">Semua Ketersediaan</option>
              <option value="true">Tersedia</option>
              <option value="false">Tidak Tersedia</option>
            </select>
          </div>
          <div class="c-form-group">
            <button id="resetFiltersButton" class="c-button c-button--secondary" style="width:100%;"><span
                class="fas fa-sync-alt"></span> Reset Filter</button>
          </div>
        </div>
      </div>
    </section>
    <div id="apartmentsContainer">
      <div class="l-grid" id="apartmentsList">
        <!-- Kartu apartemen akan dirender di sini -->
      </div>
      <div class="c-loading-state" id="loadingState" style="display: none;">
        <div class="c-loading-state__spinner"></div>
        <h3 class="c-loading-state__title">Memuat Apartemen...</h3>
        <p class="c-loading-state__message">Harap tunggu sebentar, kami sedang menyiapkan daftar apartemen untuk Anda.
        </p>
      </div>
      <div class="c-empty-state" id="emptyState" style="display: none;">
        <div class="c-empty-state__icon"><span class="fas fa-exclamation-triangle"></span></div>
        <h3 class="c-empty-state__title">Apartemen Tidak Ditemukan</h3>
        <p class="c-empty-state__message">Maaf, tidak ada apartemen yang sesuai dengan kriteria pencarian Anda. Coba
          ubah filter atau kata kunci.</p>
        <button id="emptyStateResetButton" class="c-button c-button--primary">Reset Filter</button>
      </div>
    </div>
  </template>

  <template id="page-kontak">
    <h1 class="c-page-title"><span class="fas fa-envelope"></span> Hubungi Kami</h1>
    <p class="u-mb-lg">Punya pertanyaan atau butuh bantuan? Tim Rentelindo siap membantu Anda. Silakan isi formulir di
      bawah ini atau hubungi kami melalui detail kontak yang tersedia.</p>
    <div class="l-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-xl);">
      <form id="contactForm" class="u-fade-in"
        style="background-color: var(--color-bg-alt); padding: var(--space-lg); border-radius: var(--radius-md); box-shadow: var(--shadow-xs);">
        <div class="c-form-group">
          <label for="contactName" style="display:block; margin-bottom:var(--space-xs); font-weight:500;">Nama
            Lengkap</label>
          <input type="text" id="contactName" name="name" class="c-form-control" required
            placeholder="Masukkan nama Anda">
        </div>
        <div class="c-form-group">
          <label for="contactEmail" style="display:block; margin-bottom:var(--space-xs); font-weight:500;">Alamat
            Email</label>
          <input type="email" id="contactEmail" name="email" class="c-form-control" required
            placeholder="cth: nama@email.com">
        </div>
        <div class="c-form-group">
          <label for="contactSubject"
            style="display:block; margin-bottom:var(--space-xs); font-weight:500;">Subjek</label>
          <input type="text" id="contactSubject" name="subject" class="c-form-control" required
            placeholder="Subjek pesan Anda">
        </div>
        <div class="c-form-group">
          <label for="contactMessage"
            style="display:block; margin-bottom:var(--space-xs); font-weight:500;">Pesan</label>
          <textarea id="contactMessage" name="message" class="c-form-control" rows="5" required
            placeholder="Tuliskan pesan Anda di sini..."></textarea>
        </div>
        <button type="submit" class="c-button c-button--primary" style="width:100%;"><span
            class="fas fa-paper-plane"></span> Kirim Pesan</button>
      </form>
      <div class="contact-info u-fade-in"
        style="background-color: var(--color-bg-alt); padding: var(--space-lg); border-radius: var(--radius-md); box-shadow: var(--shadow-xs);">
        <h3
          style="font-size: var(--font-lg); font-weight:600; margin-bottom: var(--space-md); color:var(--color-primary);">
          Informasi Kontak Rentelindo</h3>
        <p style="margin-bottom: var(--space-sm);"><strong style="color:var(--color-text);">Alamat:</strong><br>Jl.
          Apartemen Digital No. 123, Jakarta Pusat, Indonesia</p>
        <p style="margin-bottom: var(--space-sm);"><strong style="color:var(--color-text);">Telepon:</strong><br><a
            href="tel:+62215550123">(021) 555-0123</a></p>
        <p style="margin-bottom: var(--space-sm);"><strong style="color:var(--color-text);">Email:</strong><br><a
            href="mailto:dukungan@rentelindo.com">dukungan@rentelindo.com</a></p>
        <p><strong style="color:var(--color-text);">Jam Operasional:</strong><br>Senin - Jumat: 08.00 - 17.00 WIB</p>
      </div>
    </div>
  </template>

  <template id="page-dashboard">
    <h1 class="c-page-title"><span class="fas fa-tachometer-alt"></span> Dashboard Pengguna</h1>
    <p class="u-mb-lg">Selamat datang di dashboard Rentelindo! Di sini Anda dapat mengelola properti Anda, melihat
      riwayat pemesanan, dan mengatur preferensi akun.</p>
    <div class="c-empty-state">
      <div class="c-empty-state__icon"><span class="fas fa-tools"></span></div>
      <h3 class="c-empty-state__title">Segera Hadir</h3>
      <p class="c-empty-state__message">Fitur dashboard lengkap sedang dalam pengembangan dan akan segera tersedia.
        Terima kasih atas kesabaran Anda!</p>
    </div>
  </template>

  <template id="page-not-found">
    <div class="c-empty-state u-fade-in" style="margin-top: var(--space-xxl); margin-bottom: var(--space-xxl);">
      <div class="c-empty-state__icon" style="font-size: 4rem; color: var(--color-danger);">üòü</div>
      <h1 class="c-empty-state__title" style="font-size: var(--font-display-lg);">404 - Halaman Tidak Ditemukan</h1>
      <p class="c-empty-state__message" style="font-size: var(--font-lg);">Maaf, halaman yang Anda cari tidak dapat
        ditemukan. Mungkin telah dipindahkan, dihapus, atau URL yang Anda masukkan salah.</p>
      <a href="#/" class="c-button c-button--primary route-link"><span class="fas fa-home"></span> Kembali ke
        Beranda</a>
    </div>
  </template>


  <script>
    // Utilitas DOM
    const qs = (selector, parent = document) => parent.querySelector(selector);
    const qsa = (selector, parent = document) => parent.querySelectorAll(selector);
    const createElement = (tag, attributes = {}, ...children) => {
      const element = document.createElement(tag);
      Object.entries(attributes).forEach(([key, value]) => element.setAttribute(key, value));
      children.forEach(child => {
        if (typeof child === 'string') {
          element.appendChild(document.createTextNode(child));
        } else {
          element.appendChild(child);
        }
      });
      return element;
    };

    // State Aplikasi
    const appState = {
      currentRoute: '',
      apartments: [
        { id: 1, name: "Sky Tower Residence", location: "Jakarta Selatan", price: 4500000, image: "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YXBhcnRtZW50fGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=60", available: true, type: "2BR", rating: 4.5 },
        { id: 2, name: "Green Valley Park", location: "Bandung Kota", price: 3200000, image: "https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8YXBhcnRtZW50fGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=60", available: true, type: "Studio", rating: 4.2 },
        { id: 3, name: "Urban Heights Loft", location: "Surabaya Pusat", price: 2800000, image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8YXBhcnRtZW50fGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=60", available: false, type: "1BR", rating: 4.0 },
        { id: 4, name: "Metropolitan Suites", location: "Jakarta Pusat", price: 6800000, image: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8YXBhcnRtZW50JTIwZXh0ZXJpb3J8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=600&q=60", available: true, type: "3BR Penthouse", rating: 4.8 },
        { id: 5, name: "Coastal View Apartments", location: "Denpasar, Bali", price: 5500000, image: "https://images.unsplash.com/photo-1580041066374-131569919309?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGFwYXJ0bWVudCUyMGV4dGVyaW9yfGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=60", available: true, type: "2BR Ocean View", rating: 4.6 },
        { id: 6, name: "City Lights Residence", location: "Medan Baru", price: 3800000, image: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fGFwYXJ0bWVudCUyMGV4dGVyaW9yfGVufDB8fDB8fHww&auto=format&fit=crop&w=600&q=60", available: false, type: "1BR Deluxe", rating: 4.3 },
      ],
      filters: {
        searchQuery: '',
        priceRange: 'all',
        availability: 'all'
      },
      theme: localStorage.getItem('theme') || 'light',
    };

    // Elemen DOM Utama
    const mainContent = qs('#mainContent');
    const navToggle = qs('#navToggle');
    const mainNavMenu = qs('#mainNavMenu');
    const themeToggle = qs('#themeToggle');
    const toastNotification = qs('#toastNotification');
    const statusBar = qs('#statusBar');
    const pageHeader = qs('#pageHeader');

    // --- UTILITIES ---
    function formatCurrency(amount) {
      return `Rp ${amount.toLocaleString('id-ID')}`;
    }

    function showToast(message, type = 'info', duration = 3000) {
      toastNotification.textContent = message;
      toastNotification.className = 'c-toast'; // Reset classes
      toastNotification.classList.add(`c-toast--${type}`, 'is-visible');
      setTimeout(() => {
        toastNotification.classList.remove('is-visible');
      }, duration);
    }

    function showStatusBar(message, type = 'info', duration = 5000) {
      statusBar.textContent = message;
      statusBar.className = 'c-status-bar'; // Reset
      statusBar.classList.add(`c-status-bar--${type}`, 'is-visible'); // type class can be added for styling
      pageHeader.style.top = `${statusBar.offsetHeight}px`;

      if (duration > 0) {
        setTimeout(() => {
          hideStatusBar();
        }, duration);
      }
    }

    function hideStatusBar() {
      statusBar.classList.remove('is-visible');
      pageHeader.style.top = '0px';
    }

    // --- MANAJEMEN TEMA ---
    function applyTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      appState.theme = theme;
      localStorage.setItem('theme', theme);
      const icon = theme === 'dark' ? 'fa-sun' : 'fa-moon';
      const newIconLabel = theme === 'dark' ? 'Ganti ke tema terang' : 'Ganti ke tema gelap';
      qs('.fas', themeToggle).className = `fas ${icon}`;
      themeToggle.setAttribute('aria-label', newIconLabel);
    }

    function toggleTheme() {
      const newTheme = appState.theme === 'light' ? 'dark' : 'light';
      applyTheme(newTheme);
      showToast(`Tema diubah ke ${newTheme === 'light' ? 'Terang' : 'Gelap'}`, 'info', 2000);
    }

    // --- MANAJEMEN NAVIGASI (MOBILE) ---
    function toggleMobileNav() {
      const isExpanded = mainNavMenu.classList.toggle('is-open');
      navToggle.setAttribute('aria-expanded', isExpanded);
      qs('.fas', navToggle).className = `fas ${isExpanded ? 'fa-times' : 'fa-bars'}`;
    }

    function closeMobileNav() {
      if (mainNavMenu.classList.contains('is-open')) {
        mainNavMenu.classList.remove('is-open');
        navToggle.setAttribute('aria-expanded', 'false');
        qs('.fas', navToggle).className = 'fas fa-bars';
      }
    }

    // --- RENDER HALAMAN & KOMPONEN ---
    function renderApartmentCard(apartment) {
      const card = createElement('article', { class: 'c-apartment-card u-fade-in', role: 'article', 'aria-labelledby': `apartment-title-${apartment.id}` });

      const imageContainer = createElement('div', { class: 'c-apartment-card__image-container' });
      const image = createElement('img', { src: apartment.image, alt: `Tampilan luar ${apartment.name}`, class: 'c-apartment-card__image', loading: 'lazy' });
      imageContainer.appendChild(image);

      if (!apartment.available) {
        const tag = createElement('span', { class: 'c-apartment-card__tag' }, 'Tidak Tersedia');
        imageContainer.appendChild(tag);
      }

      const body = createElement('div', { class: 'c-apartment-card__body' });
      const title = createElement('h3', { class: 'c-apartment-card__title', id: `apartment-title-${apartment.id}` }, apartment.name);
      const location = createElement('p', { class: 'c-apartment-card__location' });
      const locationIcon = createElement('span', { class: 'fas fa-map-marker-alt', 'aria-hidden': 'true' });
      location.append(locationIcon, ` ${apartment.location} - ${apartment.type}`);

      const price = createElement('p', { class: 'c-apartment-card__price' }, formatCurrency(apartment.price) + " / bulan");

      const button = createElement('button', {
        class: 'c-button c-apartment-card__button',
        disabled: !apartment.available,
        'data-id': apartment.id
      }, apartment.available ? 'Sewa Sekarang' : 'Tidak Tersedia');

      if (apartment.available) {
        button.onclick = () => handleBookApartment(apartment.id);
      }

      body.append(title, location, price, button);
      card.append(imageContainer, body);
      return card;
    }

    function renderApartmentsPage() {
      const template = qs('#page-apartemen');
      if (!template) return;
      mainContent.innerHTML = ''; // Kosongkan konten utama
      mainContent.appendChild(template.content.cloneNode(true));

      const apartmentsListContainer = qs('#apartmentsList');
      const loadingDiv = qs('#loadingState');
      const emptyDiv = qs('#emptyState');
      const searchInputEl = qs('#searchApartments');
      const priceFilterEl = qs('#priceFilter');
      const availabilityFilterEl = qs('#availabilityFilter');
      const resetFiltersButton = qs('#resetFiltersButton');
      const emptyStateResetButton = qs('#emptyStateResetButton');

      // Set nilai filter dari state
      searchInputEl.value = appState.filters.searchQuery;
      priceFilterEl.value = appState.filters.priceRange;
      availabilityFilterEl.value = appState.filters.availability;

      function displayApartments() {
        loadingDiv.style.display = 'block';
        apartmentsListContainer.innerHTML = ''; // Kosongkan daftar sebelum memfilter
        emptyDiv.style.display = 'none';

        // Simulasi delay untuk loading state
        setTimeout(() => {
          const query = appState.filters.searchQuery.toLowerCase().trim();
          const priceRange = appState.filters.priceRange;
          const availability = appState.filters.availability;

          let filteredApartments = appState.apartments.filter(ap => {
            const nameMatch = ap.name.toLowerCase().includes(query);
            const locationMatch = ap.location.toLowerCase().includes(query);
            return nameMatch || locationMatch;
          });

          if (priceRange !== 'all') {
            const [minStr, maxStr] = priceRange.split('-');
            const min = parseInt(minStr, 10);
            const max = parseInt(maxStr, 10);
            filteredApartments = filteredApartments.filter(ap => ap.price >= min && ap.price <= max);
          }

          if (availability !== 'all') {
            const isAvailable = availability === 'true';
            filteredApartments = filteredApartments.filter(ap => ap.available === isAvailable);
          }

          loadingDiv.style.display = 'none';
          if (filteredApartments.length > 0) {
            filteredApartments.forEach(ap => apartmentsListContainer.appendChild(renderApartmentCard(ap)));
          } else {
            emptyDiv.style.display = 'block';
          }
        }, 500); // Delay 0.5 detik
      }

      function handleFilterChange() {
        appState.filters.searchQuery = searchInputEl.value;
        appState.filters.priceRange = priceFilterEl.value;
        appState.filters.availability = availabilityFilterEl.value;
        displayApartments();
      }

      function handleResetFilters() {
        appState.filters.searchQuery = '';
        appState.filters.priceRange = 'all';
        appState.filters.availability = 'all';
        searchInputEl.value = '';
        priceFilterEl.value = 'all';
        availabilityFilterEl.value = 'all';
        displayApartments();
        showToast('Filter direset', 'info');
      }

      searchInputEl.addEventListener('input', debounce(handleFilterChange, 300));
      priceFilterEl.addEventListener('change', handleFilterChange);
      availabilityFilterEl.addEventListener('change', handleFilterChange);
      resetFiltersButton.addEventListener('click', handleResetFilters);
      emptyStateResetButton.addEventListener('click', handleResetFilters);

      displayApartments(); // Tampilkan apartemen saat halaman dimuat
    }

    function renderPage(pageId) {
      const template = qs(`#page-${pageId}`);
      mainContent.innerHTML = ''; // Kosongkan dulu
      if (template) {
        const content = template.content.cloneNode(true);
        mainContent.appendChild(content);
        document.title = `Rentelindo - ${pageId.charAt(0).toUpperCase() + pageId.slice(1)}`;

        // Re-attach event listeners jika ada form di halaman baru
        if (pageId === 'kontak') {
          const contactForm = qs('#contactForm');
          if (contactForm) {
            contactForm.addEventListener('submit', handleContactFormSubmit);
          }
        }

      } else { // Halaman tidak ditemukan (404)
        const notFoundTemplate = qs('#page-not-found');
        if (notFoundTemplate) {
          mainContent.appendChild(notFoundTemplate.content.cloneNode(true));
          document.title = "Rentelindo - Halaman Tidak Ditemukan";
        } else {
          mainContent.textContent = 'Error: Template 404 tidak ditemukan.';
        }
      }
      mainContent.scrollTop = 0; // Scroll ke atas
      mainContent.classList.remove('u-fade-in'); // Hapus kelas untuk re-trigger animasi
      void mainContent.offsetWidth; // Trigger reflow
      mainContent.classList.add('u-fade-in');
    }

    // --- EVENT HANDLERS ---
    function handleBookApartment(id) {
      const apartment = appState.apartments.find(ap => ap.id === id);
      if (apartment && apartment.available) {
        showToast(`Anda memilih ${apartment.name}. Lanjutkan ke proses booking? (Demo)`, 'success', 5000);
        // Logika booking lebih lanjut akan ada di sini
        // Misalnya, redirect ke halaman detail booking atau munculkan modal
      } else {
        showToast(`Maaf, ${apartment ? apartment.name : 'apartemen ini'} saat ini tidak tersedia.`, 'error');
      }
    }

    function handleContactFormSubmit(event) {
      event.preventDefault();
      const form = event.target;
      const formData = new FormData(form);
      const name = formData.get('name');
      // Simulasi pengiriman form
      showToast(`Terima kasih, ${name}! Pesan Anda telah kami terima (Simulasi).`, 'success');
      form.reset();
    }

    // Debounce utility
    function debounce(func, delay) {
      let timeout;
      return function (...args) {
        const context = this;
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(context, args), delay);
      };
    }

    // --- ROUTING ---
    const routes = {
      '/': 'beranda',
      '/apartemen': 'apartemen',
      '/kontak': 'kontak',
      '/dashboard': 'dashboard',
      // Tambahkan route untuk kebijakan privasi dan syarat ketentuan jika ada templatenya
      '/kebijakan-privasi': 'kebijakan-privasi', // Placeholder
      '/syarat-ketentuan': 'syarat-ketentuan',   // Placeholder
    };

    function handleRouteChange() {
      const path = window.location.hash.slice(1) || '/'; // Ambil path dari hash, default ke '/'
      const pageId = routes[path] || 'not-found'; // Tentukan pageId atau fallback ke 'not-found'

      appState.currentRoute = path;

      if (pageId === 'apartemen') {
        renderApartmentsPage();
      } else if (pageId === 'kebijakan-privasi' || pageId === 'syarat-ketentuan') {
        // Untuk placeholder, kita bisa buat simple page atau not-found
        renderPage('not-found'); // Sementara, nanti bisa diganti template khusus
        qs('.c-empty-state__title', mainContent).textContent = pageId.replace('-', ' ').toUpperCase();
        qs('.c-empty-state__message', mainContent).textContent = `Konten untuk halaman ${pageId.replace('-', ' ')} akan segera tersedia.`;
      }
      else {
        renderPage(pageId);
      }
      updateActiveNavLinks();
      closeMobileNav(); // Tutup nav mobile setelah navigasi
    }

    function updateActiveNavLinks() {
      qsa('.c-nav__link.route-link').forEach(link => {
        if (link.getAttribute('href').slice(1) === appState.currentRoute) {
          link.classList.add('is-active');
          link.setAttribute('aria-current', 'page');
        } else {
          link.classList.remove('is-active');
          link.removeAttribute('aria-current');
        }
      });
    }

    // --- INISIALISASI ---
    function initApp() {
      // Set tahun berjalan di footer
      qs('#currentYear').textContent = new Date().getFullYear();

      // Terapkan tema yang tersimpan
      applyTheme(appState.theme);

      // Event listener untuk toggle tema
      themeToggle.addEventListener('click', toggleTheme);

      // Event listener untuk toggle navigasi mobile
      navToggle.addEventListener('click', toggleMobileNav);

      // Event listener untuk menutup nav mobile saat link di klik
      qsa('.c-nav__link.route-link', mainNavMenu).forEach(link => {
        link.addEventListener('click', closeMobileNav);
      });


      // Event listener untuk routing
      window.addEventListener('hashchange', handleRouteChange);
      window.addEventListener('DOMContentLoaded', _INITIAL_LOAD = () => {
        handleRouteChange(); // Panggil router saat DOM siap

        // Cek status koneksi
        if (!navigator.onLine) {
          showStatusBar('Anda sedang offline. Beberapa fitur mungkin tidak berfungsi.', 'warning', 0); // 0 = jangan auto-hide
        }
        window.addEventListener('online', () => {
          showStatusBar('Koneksi internet kembali terhubung.', 'success', 3000);
        });
        window.addEventListener('offline', () => {
          showStatusBar('Koneksi internet terputus. Anda sekarang offline.', 'warning', 0);
        });
      });

      // Initial route handling
      _INITIAL_LOAD();
    }

    // Jalankan aplikasi
    initApp();

  </script>
</body>

</html>