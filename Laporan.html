<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Penyewaan Properti</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <aside class="sidebar">
      <h2>Dashboard Admin</h2>
      <ul>
        <li><a href="index.html">Beranda</a></li>
        <li><a href="properti.html">Properti</a></li>
        <li><a href="penyewa.html">Penyewa</a></li>
        <li><a href="pemesanan.html">Pemesanan</a></li>
        <li><a href="Laporan.html">Laporan</a></li>
        <li><a href="Pengaturan.html">Pengaturan</a></li>
        <li><a href="properti.html">Pengaturan Properti</a></li>
        <li>
          <a href="Pengaturan.Pembayaran.penyewaan.html"
            >Pengaturan Pembayaran</a
          >
        </li>
        <li>
          <a href="Integrasi.Pihak.Ketiga.html">Integrasi Pihak Ketiga</a>
        </li>
        <li><a href="Keamanan.Akun.html">Keamanan Akun</a></li>
      </ul>
    </aside>

    <main class="main-content">
      <header>
        <h1>Laporan Pemesanan</h1>
      </header>

      <section class="filter-section">
        <h2>Filter dan Pencarian</h2>
        <div class="filter-controls">
          <div class="filter">
            <label for="startDate">Filter Tanggal:</label>
            <input type="date" id="startDate" />
            <input type="date" id="endDate" />
          </div>
          <div class="filter">
            <label for="statusSelect">Filter Status:</label>
            <select id="statusSelect">
              <option value="">Semua</option>
              <option value="aktif">Aktif</option>
              <option value="selesai">Selesai</option>
              <option value="dibatalkan">Dibatalkan</option>
            </select>
          </div>
          <div class="filter">
            <label for="searchInput">Pencarian:</label>
            <input
              type="text"
              id="searchInput"
              placeholder="Nama Penyewa atau Alamat" />
          </div>
        </div>
      </section>

      <section class="summary-statistics">
        <h2>Statistik Utama</h2>
        <div class="metrics">
          <div class="metric">
            <h3>Total Pemesanan</h3>
            <p id="totalBookings">100</p>
          </div>
          <div class="metric">
            <h3>Total Pendapatan</h3>
            <p id="totalRevenue">Rp. 200.000.000</p>
          </div>
          <div class="metric">
            <h3>Total Properti</h3>
            <p id="totalProperties">50</p>
          </div>
          <div class="metric">
            <h3>Jumlah Penyewa Aktif</h3>
            <p id="activeRenters">25</p>
          </div>
          <div class="metric">
            <h3>Jumlah Pemesanan Dibatalkan</h3>
            <p id="canceledBookings">10</p>
          </div>
        </div>
      </section>

      <section class="charts">
        <h2>Grafik dan Visualisasi</h2>
        <div class="chart-container">
          <div class="chart">
            <canvas id="revenueChart"></canvas>
          </div>
          <div class="chart">
            <canvas id="bookingsChart"></canvas>
          </div>
        </div>
      </section>

      <section class="detailed-report">
        <h2>Rincian Pemesanan</h2>
        <table id="detailedBookingsTable">
          <thead>
            <tr>
              <th>Tanggal Pemesanan</th>
              <th>Nama Penyewa</th>
              <th>Alamat Properti</th>
              <th>Tanggal Masuk</th>
              <th>Tanggal Keluar</th>
              <th>Status</th>
              <th>Jumlah Penghuni</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>2023-10-01</td>
              <td>John Doe</td>
              <td>Jl. Raya No. 1</td>
              <td>2023-10-10</td>
              <td>2023-10-15</td>
              <td>Aktif</td>
              <td>2</td>
            </tr>
            <tr>
              <td>2023-10-02</td>
              <td>Jane Smith</td>
              <td>Jl. Merpati No. 2</td>
              <td>2023-10-11</td>
              <td>2023-10-18</td>
              <td>Selesai</td>
              <td>4</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section class="income-details">
        <h2>Rincian Pendapatan</h2>
        <div class="income-metrics">
          <div class="income-metric">
            <h3>Pendapatan Rata-rata per Pemesanan</h3>
            <p id="averageRevenue">Rp. 2.000.000</p>
          </div>
          <div class="income-metric">
            <h3>Pendapatan Berdasarkan Tipe Properti</h3>
            <table class="income-table">
              <thead>
                <tr>
                  <th>Tipe Properti</th>
                  <th>Pendapatan</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Apartemen</td>
                  <td>Rp. 120.000.000</td>
                </tr>
                <tr>
                  <td>Rumah</td>
                  <td>Rp. 50.000.000</td>
                </tr>
                <tr>
                  <td>Villa</td>
                  <td>Rp. 30.000.000</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <div class="action-buttons">
        <button class="export-btn" id="exportReport">Ekspor Laporan</button>
      </div>

      <section class="notifications">
        <h2>Notifikasi dan Pengingat</h2>
        <ul>
          <li>Pemesanan akan segera berakhir.</li>
          <li>Pemesanan yang dibatalkan harus ditindaklanjuti.</li>
          <li>Kontak penyewa yang perlu dikonfirmasi.</li>
        </ul>
      </section>
    </main>

    <script>
      // Dummy data for charts
      const revenueData = {
        labels: [
          "Jan",
          "Feb",
          "Mar",
          "Apr",
          "May",
          "Jun",
          "Jul",
          "Aug",
          "Sep",
          "Oct",
          "Nov",
          "Dec",
        ],
        datasets: [
          {
            label: "Pendapatan Bulanan",
            data: [
              15000000, 20000000, 25000000, 30000000, 35000000, 40000000,
              45000000, 50000000, 55000000, 60000000, 65000000, 70000000,
            ],
            backgroundColor: "rgba(52, 152, 219, 0.5)",
            borderColor: "rgba(52, 152, 219, 1)",
            borderWidth: 1,
            fill: true,
          },
        ],
      };

      const bookingsData = {
        labels: [
          "Jan",
          "Feb",
          "Mar",
          "Apr",
          "May",
          "Jun",
          "Jul",
          "Aug",
          "Sep",
          "Oct",
          "Nov",
          "Dec",
        ],
        datasets: [
          {
            label: "Jumlah Pemesanan Bulanan",
            data: [5, 10, 15, 20, 25, 30, 20, 15, 10, 25, 30, 35],
            backgroundColor: "rgba(231, 76, 60, 0.5)",
            borderColor: "rgba(231, 76, 60, 1)",
            borderWidth: 1,
            fill: true,
          },
        ],
      };

      const ctxRevenue = document
        .getElementById("revenueChart")
        .getContext("2d");
      const ctxBookings = document
        .getElementById("bookingsChart")
        .getContext("2d");

      new Chart(ctxRevenue, {
        type: "line",
        data: revenueData,
        options: { responsive: true, scales: { y: { beginAtZero: true } } },
      });

      new Chart(ctxBookings, {
        type: "bar",
        data: bookingsData,
        options: { responsive: true, scales: { y: { beginAtZero: true } } },
      });
    </script>
  </body>
</html>
