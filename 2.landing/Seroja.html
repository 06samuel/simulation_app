<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Green Valley - Platform penyewaan apartemen modern dengan desain elegan, pengalaman pengguna intuitif, dan layanan terpercaya. Temukan hunian impian Anda.">
    <meta name="keywords"
        content="sewa apartemen, apartemen modern, green valley, properti mewah, hunian elegan, jakarta, surabaya, bandung, bogor">
    <meta name="author" content="Green Valley Development Team">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#10b981"> <!-- Warna tema untuk bilah alamat browser di mobile -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Green Valley - Sewa Apartemen Modern & Elegan</title>

    <!-- Google Fonts: Poppins untuk Judul, Inter untuk Teks Umum -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Font Awesome Icons (CDN Gratis) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Favicon: PNG (sesuai permintaan untuk menghindari SVG) -->
    <link rel="icon"
        href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAz0lEQVR4AcXBsU0EQQxE0eN8g4QDRAhIASJACIhA2j1w9t7de9fdW7JRN5q2JLNz/zkXEBmIQERgT0B8IMIBgfgA4gMRgQ0B8YGIwIaA+EBE4EBAPCAicCAgPhAROBDwn4gIfAj4T0QEPgT8JyICHwL+ExGBDwH/iYgI3Aj4T0QEPgT8JyICHwL+ExGBDwH/iYgI3Aj4T0QEPgT8JyICHwL+ExGBDwH/iYgI3Aj4T0QEPgT8JyICHwL+ExGBDwF5nLUC4uepKAAAAABJRU5ErkJggg=="
        type="image/png">

    <style>
        /* CSS Monolith untuk Green Valley SPA - Dioptimalkan, Fancy, dan Konsisten */

        /* 1. Variabel Global untuk Konsistensi Desain (Style Guide) */
        :root {
            --primary-color: #10b981;
            /* Hijau Emerald yang segar */
            --primary-color-dark: #0d9265;
            --primary-color-light: #e7f8f2;
            --secondary-color: #2c3e50;
            /* Biru Tua Keabuan yang elegan */
            --secondary-color-light: #34495e;
            --accent-color: #f39c12;
            /* Oranye untuk aksen/CTA sekunder */
            --text-color: #333333;
            --text-color-light: #f8f9fa;
            --text-color-muted: #6c757d;
            --bg-color: #f8f9fa;
            /* Latar belakang utama sedikit off-white */
            --bg-color-alt: #ffffff;
            /* Latar belakang alternatif (misal: kartu) */
            --border-color: #dee2e6;
            --border-color-light: #e9ecef;
            --card-shadow: 0 8px 25px rgba(44, 62, 80, 0.08);
            --card-hover-shadow: 0 12px 35px rgba(44, 62, 80, 0.12);
            --input-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            --border-radius-sm: 6px;
            --border-radius-md: 10px;
            --border-radius-lg: 16px;
            --font-main: 'Poppins', 'Helvetica Neue', Arial, sans-serif;
            /* Font untuk judul dan elemen penting */
            --font-secondary: 'Inter', 'Helvetica Neue', Arial, sans-serif;
            /* Font untuk teks isi */
            --header-height: 75px;
            --transition-speed-fast: 0.2s;
            --transition-speed-normal: 0.3s;
            --max-width-container: 1280px;
            --gradient-primary: linear-gradient(135deg, var(--primary-color), var(--primary-color-dark));
            --gradient-secondary: linear-gradient(135deg, var(--secondary-color), var(--secondary-color-light));
            --section-padding-y: 4rem;
            /* Padding vertikal standar untuk section */
        }

        /* 2. Reset dan Gaya Dasar (Best Practices) */
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            /* Menghilangkan highlight biru pada tap di mobile */
        }

        html {
            font-size: 16px;
            /* Basis font size untuk unit rem */
            scroll-behavior: smooth;
            /* Scroll halus untuk anchor link */
            overflow-x: hidden;
            /* Mencegah scroll horizontal yang tidak diinginkan */
        }

        body {
            font-family: var(--font-secondary);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
            /* Font smoothing untuk Webkit */
            -moz-osx-font-smoothing: grayscale;
            /* Font smoothing untuk Firefox */
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            /* Memastikan footer selalu di bawah jika konten pendek */
        }

        main {
            flex-grow: 1;
            /* Konten utama mengisi ruang yang tersedia */
            width: 100%;
        }

        /* Tipografi yang Harmonis dan Konsisten */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: var(--font-main);
            font-weight: 700;
            color: var(--secondary-color);
            margin-bottom: 0.75em;
            line-height: 1.3;
        }

        li {
            list-style: none;
        }

        h1 {
            font-size: clamp(2.2rem, 5vw, 3.2rem);
        }

        /* Ukuran font responsif */
        h2 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
        }

        h3 {
            font-size: clamp(1.4rem, 3vw, 1.9rem);
        }

        h4 {
            font-size: clamp(1.2rem, 2.5vw, 1.5rem);
        }

        p {
            margin-bottom: 1.25rem;
            color: var(--text-color-muted);
            max-width: 70ch;
            /* Meningkatkan keterbacaan paragraf */
        }

        .text-center p {
            margin-left: auto;
            margin-right: auto;
        }

        /* Pusatkan paragraf jika parentnya text-center */

        a {
            color: var(--primary-color);
            text-decoration: none;
            transition: color var(--transition-speed-fast) ease-in-out;
        }

        a:hover,
        a:focus {
            color: var(--primary-color-dark);
            text-decoration: underline;
            text-decoration-thickness: 2px;
            text-underline-offset: 3px;
        }

        img,
        picture,
        video,
        canvas {
            /* Media responsif */
            max-width: 100%;
            height: auto;
            display: block;
            object-fit: cover;
            /* Pastikan gambar mengisi area tanpa distorsi */
        }

        /* Aksesibilitas: Indikator Fokus yang Jelas */
        *:focus-visible {
            outline: 3px solid var(--primary-color-light);
            outline-offset: 2px;
            box-shadow: 0 0 0 4px var(--primary-color);
            border-radius: var(--border-radius-sm);
        }

        /* 3. Grid System Sederhana dan Utilitas Flexbox (Vanilla) */
        .container {
            width: 100%;
            max-width: var(--max-width-container);
            margin-left: auto;
            margin-right: auto;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        .row {
            display: flex;
            flex-wrap: wrap;
            margin-left: -0.75rem;
            margin-right: -0.75rem;
        }

        [class*="col-"] {
            width: 100%;
            padding-left: 0.75rem;
            padding-right: 0.75rem;
            margin-bottom: 1.5rem;
            /* Gutter vertikal default */
        }

        /* Breakpoints untuk Grid System (Mobile-first) */
        @media (min-width: 576px) {

            /* Small devices (landscape phones) */
            .col-sm-6 {
                flex: 0 0 50%;
                max-width: 50%;
            }

            .col-sm-12 {
                flex: 0 0 100%;
                max-width: 100%;
            }
        }

        @media (min-width: 768px) {

            /* Medium devices (tablets) */
            .col-md-3 {
                flex: 0 0 25%;
                max-width: 25%;
            }

            .col-md-4 {
                flex: 0 0 33.3333%;
                max-width: 33.3333%;
            }

            .col-md-6 {
                flex: 0 0 50%;
                max-width: 50%;
            }

            .col-md-8 {
                flex: 0 0 66.6667%;
                max-width: 66.6667%;
            }

            .col-md-12 {
                flex: 0 0 100%;
                max-width: 100%;
            }
        }

        @media (min-width: 992px) {

            /* Large devices (desktops) */
            .col-lg-3 {
                flex: 0 0 25%;
                max-width: 25%;
            }

            .col-lg-4 {
                flex: 0 0 33.3333%;
                max-width: 33.3333%;
            }

            .col-lg-6 {
                flex: 0 0 50%;
                max-width: 50%;
            }

            .col-lg-8 {
                flex: 0 0 66.6667%;
                max-width: 66.6667%;
            }

            .col-lg-12 {
                flex: 0 0 100%;
                max-width: 100%;
            }
        }

        /* Utilitas Flexbox */
        .d-flex {
            display: flex !important;
        }

        .flex-column {
            flex-direction: column !important;
        }

        .justify-content-start {
            justify-content: flex-start !important;
        }

        .justify-content-center {
            justify-content: center !important;
        }

        .justify-content-between {
            justify-content: space-between !important;
        }

        .align-items-start {
            align-items: flex-start !important;
        }

        .align-items-center {
            align-items: center !important;
        }

        .flex-grow-1 {
            flex-grow: 1 !important;
        }

        .gap-1 {
            gap: 0.25rem !important;
        }

        .gap-2 {
            gap: 0.5rem !important;
        }

        .gap-3 {
            gap: 1rem !important;
        }

        .gap-4 {
            gap: 1.5rem !important;
        }

        .gap-5 {
            gap: 3rem !important;
        }

        /* Utilitas Spasi (Margin & Padding) - Contoh beberapa */
        .m-0 {
            margin: 0 !important;
        }

        .mt-1 {
            margin-top: 0.25rem !important;
        }

        .mt-2 {
            margin-top: 0.5rem !important;
        }

        .mt-3 {
            margin-top: 1rem !important;
        }

        .mt-4 {
            margin-top: 1.5rem !important;
        }

        .mt-5 {
            margin-top: 3rem !important;
        }

        .mb-1 {
            margin-bottom: 0.25rem !important;
        }

        .mb-2 {
            margin-bottom: 0.5rem !important;
        }

        .mb-3 {
            margin-bottom: 1rem !important;
        }

        .mb-4 {
            margin-bottom: 1.5rem !important;
        }

        .mb-5 {
            margin-bottom: 3rem !important;
        }

        .ms-3 {
            margin-left: 1rem !important;
        }

        .p-0 {
            padding: 0 !important;
        }

        .p-3 {
            padding: 1rem !important;
        }

        .p-4 {
            padding: 1.5rem !important;
        }

        .py-4 {
            padding-top: 1.5rem !important;
            padding-bottom: 1.5rem !important;
        }

        .py-5 {
            padding-top: var(--section-padding-y) !important;
            padding-bottom: var(--section-padding-y) !important;
        }

        .pt-5 {
            padding-top: var(--section-padding-y) !important;
        }


        /* Utilitas Teks */
        .text-center {
            text-align: center !important;
        }

        .text-left {
            text-align: left !important;
        }

        .text-right {
            text-align: right !important;
        }

        .text-primary {
            color: var(--primary-color) !important;
        }

        .text-secondary {
            color: var(--secondary-color) !important;
        }

        .text-light {
            color: var(--text-color-light) !important;
        }

        .text-muted {
            color: var(--text-color-muted) !important;
        }

        .fw-bold {
            font-weight: 700 !important;
        }

        .fw-semibold {
            font-weight: 600 !important;
        }

        .fw-medium {
            font-weight: 500 !important;
        }

        /* Utilitas Display (Responsif) */
        .d-none {
            display: none !important;
        }

        .d-block {
            display: block !important;
        }

        .d-inline-block {
            display: inline-block !important;
        }

        .w-100 {
            width: 100% !important;
        }

        @media (min-width: 768px) {
            .d-md-none {
                display: none !important;
            }

            .d-md-block {
                display: block !important;
            }

            .d-md-flex {
                display: flex !important;
            }

            .text-md-left {
                text-align: left !important;
            }
        }

        @media (min-width: 992px) {
            .d-lg-block {
                display: block !important;
            }
        }


        /* 4. Komponen UI Fancy dan Reusable */

        /* Tombol (Buttons) */
        .btn {
            display: inline-flex;
            /* Untuk alignment ikon dan teks */
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.75rem;
            /* Padding lebih nyaman */
            font-family: var(--font-main);
            font-size: 0.95rem;
            font-weight: 600;
            border-radius: var(--border-radius-md);
            border: 2px solid transparent;
            /* Border untuk konsistensi, bisa diwarnai untuk outline */
            cursor: pointer;
            transition: all var(--transition-speed-normal) ease-in-out;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn i {
            /* Spasi ikon dalam tombol */
            margin-right: 0.6rem;
            font-size: 1.1em;
            /* Ikon sedikit lebih besar dari teks */
        }

        .btn.btn-icon-only i {
            margin-right: 0;
        }

        /* Tombol hanya ikon */
        .btn.btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: var(--text-color-light);
            border-color: var(--primary-color-dark);
        }

        .btn-primary:hover,
        .btn-primary:focus {
            background: var(--primary-color-dark);
            /* Solid color on hover untuk kontras */
            color: var(--text-color-light);
            transform: translateY(-3px) scale(1.02);
            /* Efek angkat halus */
            box-shadow: 0 6px 18px rgba(16, 185, 129, 0.4);
            border-color: var(--primary-color-dark);
        }

        .btn-secondary {
            background-color: var(--secondary-color-light);
            color: var(--text-color-light);
            border-color: var(--secondary-color);
        }

        .btn-secondary:hover,
        .btn-secondary:focus {
            background-color: var(--secondary-color);
            color: var(--text-color-light);
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(44, 62, 80, 0.3);
            border-color: var(--secondary-color);
        }

        .btn-outline-primary {
            background-color: transparent;
            color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-outline-primary:hover,
        .btn-outline-primary:focus {
            background-color: var(--primary-color);
            color: var(--text-color-light);
            box-shadow: 0 6px 18px rgba(16, 185, 129, 0.2);
        }

        /* Form Controls (Input, Select, Textarea) */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            /* Agar mengambil full width */
            font-family: var(--font-main);
            font-weight: 600;
            color: var(--secondary-color);
            margin-bottom: 0.6rem;
            font-size: 0.9rem;
        }

        .form-control {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem;
            font-family: var(--font-secondary);
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: var(--text-color);
            background-color: var(--bg-color-alt);
            background-clip: padding-box;
            border: 1px solid var(--border-color);
            appearance: none;
            /* Hapus default styling browser */
            border-radius: var(--border-radius-sm);
            box-shadow: var(--input-shadow);
            transition: border-color var(--transition-speed-fast) ease-in-out, box-shadow var(--transition-speed-fast) ease-in-out;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem var(--primary-color-light), var(--input-shadow);
            outline: 0;
        }

        .form-control::placeholder {
            color: var(--text-color-muted);
            opacity: 0.8;
        }

        /* Select khusus dengan panah custom (Font Awesome) */
        .form-select-wrapper {
            position: relative;
        }

        .form-select-wrapper::after {
            content: '\f078';
            /* FontAwesome down arrow */
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            position: absolute;
            top: 50%;
            right: 1rem;
            transform: translateY(-50%);
            pointer-events: none;
            /* Agar bisa klik select-nya */
            color: var(--text-color-muted);
        }

        select.form-control {
            padding-right: 2.5rem;
            /* Ruang untuk panah custom */
        }


        /* Header Aplikasi (Navbar) */
        .app-header {
            background-color: var(--bg-color-alt);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.07);
            position: sticky;
            /* Header tetap di atas saat scroll */
            top: 0;
            z-index: 1020;
            /* Di atas konten lain */
            height: var(--header-height);
            display: flex;
            align-items: center;
        }

        .navbar {
            width: 100%;
        }

        .navbar-brand {
            font-family: var(--font-main);
            font-size: clamp(1.5rem, 4vw, 1.8rem);
            /* Ukuran brand responsif */
            font-weight: 800;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: color var(--transition-speed-fast);
        }

        .navbar-brand:hover,
        .navbar-brand:focus {
            color: var(--primary-color);
            text-decoration: none;
        }

        .navbar-brand .fa-leaf {
            color: var(--primary-color);
        }

        .navbar-toggler {
            /* Tombol menu mobile */
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--secondary-color);
            padding: 0.25rem 0.5rem;
            cursor: pointer;
            display: none;
            /* Default hidden, muncul di mobile */
        }

        .navbar-collapse {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            /* Dorong item ke kanan */
            flex-grow: 1;
        }

        .navbar-nav {
            display: flex;
            list-style: none;
            gap: 0.5rem;
            /* Jarak antar link navigasi */
            margin-right: 1.5rem;
            /* Jarak dari tombol Masuk */
        }

        .nav-link {
            padding: 0.6rem 1.2rem;
            font-family: var(--font-main);
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--secondary-color);
            border-radius: var(--border-radius-sm);
            transition: all var(--transition-speed-fast) ease;
            position: relative;
            /* Untuk pseudo-element underline */
        }

        .nav-link::after {
            /* Efek underline fancy saat hover/active */
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background-color: var(--primary-color);
            transition: width var(--transition-speed-normal) ease;
        }

        .nav-link:hover,
        .nav-link:focus,
        .nav-link.active {
            color: var(--primary-color);
            background-color: var(--primary-color-light);
            text-decoration: none;
        }

        .nav-link:hover::after,
        .nav-link:focus::after,
        .nav-link.active::after {
            width: 60%;
            /* Lebar underline saat aktif */
        }

        /* Responsivitas Navbar */
        @media (max-width: 991.98px) {

            /* Breakpoint untuk menu mobile */
            .navbar-toggler {
                display: block;
            }

            .navbar-collapse {
                display: none;
                /* Sembunyikan default */
                flex-direction: column;
                align-items: stretch;
                position: absolute;
                top: var(--header-height);
                left: 0;
                right: 0;
                background-color: var(--bg-color-alt);
                box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
                padding: 1rem;
                border-top: 1px solid var(--border-color-light);
            }

            .navbar-collapse.show {
                display: flex;
            }

            /* Tampilkan saat di-toggle */
            .navbar-nav {
                flex-direction: column;
                gap: 0.5rem;
                width: 100%;
                margin-right: 0;
                margin-bottom: 1rem;
            }

            .nav-link {
                width: 100%;
                text-align: center;
            }

            .navbar-collapse .btn {
                width: 100%;
                margin-top: 0.5rem;
            }
        }


        /* Hero Section (Bagian Utama Halaman Depan) */
        .hero-section {
            min-height: calc(85vh - var(--header-height));
            /* Ketinggian hero */
            background: linear-gradient(rgba(16, 185, 129, 0.5), rgba(44, 62, 80, 0.8)), url('https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80') no-repeat center center/cover;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--text-color-light);
            padding: var(--section-padding-y) 1rem;
            position: relative;
            /* Untuk elemen absolut di dalamnya jika perlu */
        }

        .hero-content {
            max-width: 800px;
        }

        .hero-title {
            font-size: clamp(2.5rem, 7vw, 4.5rem);
            /* Judul lebih besar dan responsif */
            font-weight: 800;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.6);
            color: var(--text-color-light);
            margin-bottom: 0.5em;
        }

        .hero-subtitle {
            font-family: var(--font-secondary);
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            max-width: 700px;
            margin: 0 auto 2.5rem;
            font-weight: 400;
            line-height: 1.6;
            opacity: 0.9;
        }

        .hero-search-form {
            background-color: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(8px);
            /* Efek glassmorphism */
            padding: 1.5rem;
            border-radius: var(--border-radius-lg);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .hero-search-form .form-control {
            background-color: var(--bg-color-alt);
        }

        .hero-search-form .form-label {
            color: var(--text-color-light);
            opacity: 0.9;
        }

        @media (min-width: 768px) {
            .hero-search-form {
                padding: 2rem;
            }
        }


        /* Apartment Card (Kartu Properti) */
        .apartment-card {
            background-color: var(--bg-color-alt);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--card-shadow);
            transition: transform var(--transition-speed-normal) ease, box-shadow var(--transition-speed-normal) ease;
            overflow: hidden;
            /* Agar gambar tidak keluar dari border-radius */
            display: flex;
            flex-direction: column;
            height: 100%;
            /* Untuk alignment jika kartu beda tinggi dalam satu baris */
        }

        .apartment-card:hover {
            transform: translateY(-10px) scale(1.03);
            /* Efek angkat lebih dramatis */
            box-shadow: var(--card-hover-shadow);
        }

        .apartment-card-img-wrapper {
            position: relative;
            overflow: hidden;
            height: 220px;
            /* Tinggi gambar tetap */
        }

        .apartment-card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .apartment-card:hover .apartment-card-img {
            transform: scale(1.05);
            /* Zoom halus pada gambar saat hover kartu */
        }

        .apartment-card-tag {
            /* Tag "Unggulan", "Baru", dll. */
            position: absolute;
            top: 1rem;
            left: 1rem;
            background-color: var(--primary-color);
            color: var(--text-color-light);
            padding: 0.3rem 0.8rem;
            font-size: 0.8rem;
            font-weight: 600;
            border-radius: var(--border-radius-sm);
            z-index: 1;
        }

        .apartment-card-tag.accent {
            background-color: var(--accent-color);
        }

        .apartment-card-body {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            /* Body mengisi sisa ruang */
        }

        .apartment-card-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--secondary-color);
        }

        .apartment-card-location {
            font-size: 0.9rem;
            color: var(--text-color-muted);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
        }

        .apartment-card-location i {
            margin-right: 0.4rem;
            color: var(--primary-color);
        }

        .apartment-card-price {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .apartment-card-price span {
            font-size: 0.85rem;
            font-weight: 400;
            color: var(--text-color-muted);
        }

        .apartment-card-features {
            list-style: none;
            padding: 0;
            margin: 0 0 1.5rem 0;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            font-size: 0.85rem;
        }

        .apartment-card-features li {
            background-color: var(--primary-color-light);
            color: var(--primary-color-dark);
            padding: 0.25rem 0.6rem;
            border-radius: var(--border-radius-sm);
        }

        .apartment-card .btn {
            margin-top: auto;
            /* Dorong tombol ke bawah jika body flex-grow */
        }

        /* Section Styling Umum */
        .section-padding {
            padding-top: var(--section-padding-y);
            padding-bottom: var(--section-padding-y);
        }

        .section-title {
            text-align: center;
            margin-bottom: 1rem;
            font-weight: 800;
        }

        .section-subtitle {
            text-align: center;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 3rem;
            color: var(--text-color-muted);
        }


        /* Footer Aplikasi */
        .app-footer {
            background: var(--gradient-secondary);
            color: rgba(255, 255, 255, 0.85);
            /* Teks footer sedikit transparan */
            padding-top: calc(var(--section-padding-y) + 2rem);
            /* Padding atas lebih banyak karena clip-path */
            padding-bottom: 1.5rem;
            margin-top: auto;
            /* Dorong footer ke bawah */
            clip-path: polygon(0 10%, 100% 0, 100% 100%, 0% 100%);
            /* Efek potongan fancy */
        }

        .footer-heading {
            font-family: var(--font-main);
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-color-light);
        }

        .app-footer p,
        .app-footer li {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
        }

        .app-footer a {
            color: rgba(255, 255, 255, 0.8);
            transition: color var(--transition-speed-fast);
        }

        .app-footer a:hover,
        .app-footer a:focus {
            color: var(--text-color-light);
            text-decoration-color: var(--primary-color);
        }

        .app-footer .list-unstyled li {
            margin-bottom: 0.5rem;
        }

        .app-footer .list-unstyled i {
            margin-right: 0.75rem;
            color: var(--primary-color);
            width: 20px;
            text-align: center;
        }

        .social-icons a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--text-color-light);
            font-size: 1.1rem;
            transition: background-color var(--transition-speed-normal), transform var(--transition-speed-normal);
        }

        .social-icons a:hover,
        .social-icons a:focus {
            background-color: var(--primary-color);
            transform: scale(1.1);
            text-decoration: none;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            padding-top: 1.5rem;
            margin-top: 2rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }


        /* Animasi Konten Halaman */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-page-content {
            animation: fadeInUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
            /* Easing yang lebih smooth */
        }

        /* Loader (Indikator Loading) */
        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(3px);
            /* Blur latar belakang saat loading */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-speed-normal) ease, visibility var(--transition-speed-normal) ease;
        }

        .loader-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid var(--primary-color-light);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Detail Apartemen */
        .apartment-detail-gallery img {
            border-radius: var(--border-radius-md);
            margin-bottom: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .apartment-detail-info h1 {
            color: var(--primary-color);
            margin-bottom: 0.25rem;
        }

        .apartment-detail-info .location {
            font-size: 1.1rem;
            color: var(--text-color-muted);
            margin-bottom: 1.5rem;
        }

        .apartment-detail-info .price {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--secondary-color);
            margin-bottom: 1.5rem;
        }

        .facility-list {
            list-style: none;
            padding-left: 0;
        }

        .facility-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-color-light);
        }

        .facility-list li i {
            color: var(--primary-color);
            margin-right: 0.75rem;
            width: 20px;
            /* Untuk alignment */
        }

        /* Breadcrumbs (jika diperlukan) */
        .breadcrumbs {
            padding: 0.75rem 0;
            background-color: var(--primary-color-light);
            font-size: 0.9rem;
            margin-bottom: 2rem;
        }

        .breadcrumbs ol {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            gap: 0.5rem;
        }

        .breadcrumbs a {
            color: var(--primary-color-dark);
        }

        .breadcrumbs .active {
            color: var(--text-color-muted);
        }

        .breadcrumbs li+li::before {
            content: "/";
            margin-right: 0.5rem;
            color: var(--text-color-muted);
        }
    </style>
</head>

<body>
    <!-- Loader Overlay Global -->
    <div class="loader-overlay" id="globalLoader">
        <div class="spinner"></div>
    </div>

    <!-- Header Aplikasi -->
    <header class="app-header">
        <div class="container">
            <nav class="navbar d-flex justify-content-between align-items-center">
                <a class="navbar-brand" href="#beranda" data-page="beranda" aria-label="Green Valley Beranda">
                    <i class="fas fa-leaf"></i> Green Valley
                </a>
                <!-- Tombol Toggle untuk Navigasi Mobile -->
                <button class="navbar-toggler" type="button" aria-label="Toggle navigasi" aria-expanded="false"
                    aria-controls="navbarMobileMenu">
                    <i class="fas fa-bars"></i>
                </button>
                <!-- Konten Navigasi yang akan di-toggle -->
                <div class="navbar-collapse" id="navbarMobileMenu">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link active" href="#beranda" data-page="beranda">Beranda</a>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="#apartemen" data-page="apartemen">Apartemen</a>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="#tentang-kami" data-page="tentang-kami">Tentang
                                Kami</a></li>
                        <li class="nav-item"><a class="nav-link" href="#kontak" data-page="kontak">Kontak</a></li>
                    </ul>
                    <a href="#masuk" class="btn btn-primary ms-lg-3" data-page="masuk"><i
                            class="fas fa-sign-in-alt"></i> Masuk</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Konten Utama Aplikasi (SPA Root) -->
    <main id="app-root"></main>

    <!-- Footer Aplikasi -->
    <footer class="app-footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
                    <h5 class="footer-heading"><i class="fas fa-leaf"></i> Green Valley</h5>
                    <p>Platform inovatif untuk menemukan dan menyewa apartemen modern dengan pengalaman terbaik. Kami
                        berkomitmen pada kualitas dan kenyamanan Anda.</p>
                    <div class="social-icons d-flex gap-3 mt-4">
                        <a href="#" aria-label="Facebook Green Valley"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter Green Valley"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram Green Valley"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="LinkedIn Green Valley"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6 mb-4 mb-lg-0">
                    <h5 class="footer-heading">Navigasi</h5>
                    <ul class="list-unstyled">
                        <li><a href="#beranda" data-page="beranda">Beranda</a></li>
                        <li><a href="#apartemen" data-page="apartemen">Apartemen</a></li>
                        <li><a href="#tentang-kami" data-page="tentang-kami">Tentang Kami</a></li>
                        <li><a href="#kontak" data-page="kontak">Kontak</a></li>
                        <li><a href="#faq" data-page="faq">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
                    <h5 class="footer-heading">Tipe Populer</h5>
                    <ul class="list-unstyled">
                        <li><a href="#apartemen?tipe=studio" data-page="apartemen"
                                data-filter='{"tipe":"studio"}'>Apartemen Studio</a></li>
                        <li><a href="#apartemen?tipe=1br" data-page="apartemen" data-filter='{"tipe":"1br"}'>Apartemen 1
                                Kamar</a></li>
                        <li><a href="#apartemen?tipe=2br" data-page="apartemen" data-filter='{"tipe":"2br"}'>Apartemen 2
                                Kamar</a></li>
                        <li><a href="#apartemen?lokasi=jakarta" data-page="apartemen"
                                data-filter='{"lokasi":"jakarta"}'>Apartemen di Jakarta</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h5 class="footer-heading">Kontak Kami</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-map-marker-alt"></i> Jl. Lembah Hijau No. 123, Kota Sejuk, ID 12345</li>
                        <li><i class="fas fa-phone"></i> <a href="tel:+62215550123">(021) 555-0123</a></li>
                        <li><i class="fas fa-envelope"></i> <a href="mailto:info@greenvalley.id">info@greenvalley.id</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom text-center">
                © <span id="currentYear"></span> Green Valley. Seluruh Hak Cipta Dilindungi. Dirancang dengan <i
                    class="fas fa-heart text-primary"></i>.
            </div>
        </div>
    </footer>

    <!-- Template untuk Halaman SPA -->

    <!-- Halaman Beranda -->
    <template id="page-beranda">
        <div class="animate-page-content">
            <section class="hero-section">
                <div class="hero-content container">
                    <h1 class="hero-title">Temukan Hunian Impian Anda di Green Valley</h1>
                    <p class="hero-subtitle">Pilihan apartemen modern dengan lokasi strategis, fasilitas lengkap, dan
                        harga terbaik. Mulai pencarian Anda sekarang!</p>
                    <form id="heroSearchForm" class="hero-search-form">
                        <div class="row align-items-end">
                            <div class="col-md-5 form-group">
                                <label for="heroLokasi" class="form-label">Lokasi Impian</label>
                                <input type="text" id="heroLokasi" class="form-control form-control-lg"
                                    placeholder="Contoh: Jakarta Selatan, BSD City">
                            </div>
                            <div class="col-md-4 form-group">
                                <label for="heroTipe" class="form-label">Tipe Unit</label>
                                <div class="form-select-wrapper">
                                    <select id="heroTipe" class="form-control form-control-lg">
                                        <option value="">Semua Tipe Unit</option>
                                        <option value="studio">Studio</option>
                                        <option value="1br">1 Kamar Tidur</option>
                                        <option value="2br">2 Kamar Tidur</option>
                                        <option value="3br">3 Kamar Tidur</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-3 form-group">
                                <button type="submit" class="btn btn-primary btn-lg w-100"><i class="fas fa-search"></i>
                                    Cari Sekarang</button>
                            </div>
                        </div>
                    </form>
                </div>
            </section>
            <section class="section-padding container">
                <h2 class="section-title">Properti Unggulan Kami</h2>
                <p class="section-subtitle">Apartemen pilihan dengan rating tertinggi dan fasilitas terbaik yang siap
                    menjadi hunian ideal Anda.</p>
                <div id="featuredApartmentsList" class="row">
                    <!-- Kartu apartemen unggulan akan dimuat di sini oleh JavaScript -->
                </div>
                <div class="text-center mt-5">
                    <a href="#apartemen" data-page="apartemen" class="btn btn-outline-primary btn-lg"><i
                            class="fas fa-th-large"></i> Lihat Semua Apartemen</a>
                </div>
            </section>
            <section class="section-padding bg-color-alt">
                <div class="container">
                    <h2 class="section-title">Mengapa Memilih Green Valley?</h2>
                    <p class="section-subtitle">Kami menawarkan lebih dari sekadar tempat tinggal, kami menyediakan gaya
                        hidup.</p>
                    <div class="row text-center">
                        <div class="col-md-4">
                            <div class="p-3">
                                <i class="fas fa-award fa-3x text-primary mb-3"></i>
                                <h4>Kualitas Terjamin</h4>
                                <p>Setiap unit terverifikasi dan memenuhi standar kualitas tinggi.</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="p-3">
                                <i class="fas fa-map-marked-alt fa-3x text-primary mb-3"></i>
                                <h4>Lokasi Strategis</h4>
                                <p>Akses mudah ke pusat bisnis, hiburan, dan transportasi publik.</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="p-3">
                                <i class="fas fa-headset fa-3x text-primary mb-3"></i>
                                <h4>Layanan Terbaik</h4>
                                <p>Tim support kami siap membantu Anda 24/7 dengan ramah.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </template>

    <!-- Halaman Daftar Apartemen -->
    <template id="page-apartemen">
        <div class="animate-page-content">
            <div class="breadcrumbs">
                <div class="container">
                    <ol>
                        <li><a href="#beranda" data-page="beranda">Beranda</a></li>
                        <li class="active">Daftar Apartemen</li>
                    </ol>
                </div>
            </div>
            <div class="container section-padding pt-0">
                <h1 class="section-title mb-4">Daftar Apartemen</h1>
                <p class="section-subtitle">Jelajahi berbagai pilihan apartemen yang tersedia dan temukan yang paling
                    sesuai dengan kebutuhan Anda.</p>
                <div class="row mb-5 align-items-end" id="filter-form-apartemen">
                    <div class="col-lg-4 col-md-6 form-group">
                        <label for="filterLokasi" class="form-label">Filter Lokasi</label>
                        <input type="text" id="filterLokasi" class="form-control" placeholder="Masukkan kota atau area">
                    </div>
                    <div class="col-lg-3 col-md-6 form-group">
                        <label for="filterTipe" class="form-label">Filter Tipe Unit</label>
                        <div class="form-select-wrapper">
                            <select id="filterTipe" class="form-control">
                                <option value="">Semua Tipe</option>
                                <option value="studio">Studio</option>
                                <option value="1br">1 Kamar Tidur</option>
                                <option value="2br">2 Kamar Tidur</option>
                                <option value="3br">3 Kamar Tidur</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 form-group">
                        <label for="filterHarga" class="form-label">Urutkan Harga</label>
                        <div class="form-select-wrapper">
                            <select id="filterHarga" class="form-control">
                                <option value="">Default</option>
                                <option value="murah">Termurah</option>
                                <option value="mahal">Termahal</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-6 form-group">
                        <button id="applyFilterBtn" class="btn btn-primary w-100"><i class="fas fa-filter"></i>
                            Filter</button>
                    </div>
                </div>
                <div id="allApartmentsList" class="row">
                    <!-- Daftar semua apartemen akan dimuat di sini -->
                </div>
                <div id="paginationControls" class="d-flex justify-content-center mt-5">
                    <!-- Kontrol pagination akan dimuat di sini -->
                </div>
            </div>
        </div>
    </template>

    <!-- Halaman Detail Apartemen -->
    <template id="page-detail-apartemen">
        <div class="animate-page-content">
            <div class="breadcrumbs">
                <div class="container" id="breadcrumb-detail">
                    <!-- Breadcrumbs dinamis dimuat di sini -->
                </div>
            </div>
            <section class="container section-padding pt-0">
                <div id="apartmentDetailContent" class="row">
                    <!-- Detail apartemen akan dimuat di sini -->
                </div>
            </section>
        </div>
    </template>

    <!-- Halaman Tentang Kami -->
    <template id="page-tentang-kami">
        <div class="animate-page-content">
            <div class="breadcrumbs">
                <div class="container">
                    <ol>
                        <li><a href="#beranda" data-page="beranda">Beranda</a></li>
                        <li class="active">Tentang Kami</li>
                    </ol>
                </div>
            </div>
            <section class="section-padding container">
                <div class="row align-items-center">
                    <div class="col-md-6 mb-4 mb-md-0">
                        <img src="https://images.unsplash.com/photo-1522071820081-009f0129c7da?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80"
                            alt="Tim Green Valley"
                            style="border-radius: var(--border-radius-lg); box-shadow: var(--card-shadow);">
                    </div>
                    <div class="col-md-6">
                        <h1 class="section-title text-left">Tentang Green Valley</h1>
                        <p class="fw-semibold text-secondary">Misi kami adalah merevolusi cara Anda menemukan dan
                            menyewa hunian.</p>
                        <p>Green Valley didirikan dengan keyakinan bahwa setiap orang berhak mendapatkan akses mudah ke
                            hunian berkualitas yang sesuai dengan gaya hidup modern. Kami menggabungkan teknologi
                            terkini dengan layanan pelanggan yang personal untuk menciptakan platform penyewaan
                            apartemen yang transparan, efisien, dan menyenangkan.</p>
                        <p>Dari apartemen studio yang chic hingga unit keluarga yang luas, kami bekerja sama dengan
                            pengembang dan pemilik properti terpercaya untuk menawarkan pilihan terbaik bagi Anda. Tim
                            kami terdiri dari para profesional di bidang properti dan teknologi yang bersemangat untuk
                            membantu Anda menemukan rumah impian Anda.</p>
                        <a href="#kontak" data-page="kontak" class="btn btn-primary mt-3"><i
                                class="fas fa-phone-alt"></i> Hubungi Kami</a>
                    </div>
                </div>
            </section>
        </div>
    </template>

    <!-- Halaman Kontak -->
    <template id="page-kontak">
        <div class="animate-page-content">
            <div class="breadcrumbs">
                <div class="container">
                    <ol>
                        <li><a href="#beranda" data-page="beranda">Beranda</a></li>
                        <li class="active">Kontak Kami</li>
                    </ol>
                </div>
            </div>
            <section class="section-padding container">
                <h1 class="section-title">Hubungi Kami</h1>
                <p class="section-subtitle">Ada pertanyaan atau butuh bantuan? Tim kami siap melayani Anda. Jangan ragu
                    untuk menghubungi kami melalui formulir di bawah ini atau detail kontak yang tersedia.</p>
                <div class="row">
                    <div class="col-md-7 mb-5 mb-md-0">
                        <h3 class="mb-4">Kirim Pesan Langsung</h3>
                        <form id="contactForm">
                            <div class="row">
                                <div class="col-md-6 form-group">
                                    <label for="contactNama" class="form-label">Nama Lengkap Anda</label>
                                    <input type="text" id="contactNama" class="form-control" required>
                                </div>
                                <div class="col-md-6 form-group">
                                    <label for="contactEmail" class="form-label">Alamat Email</label>
                                    <input type="email" id="contactEmail" class="form-control" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="contactSubjek" class="form-label">Subjek Pesan</label>
                                <input type="text" id="contactSubjek" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="contactPesan" class="form-label">Pesan Anda</label>
                                <textarea id="contactPesan" class="form-control" rows="5" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary btn-lg"><i class="fas fa-paper-plane"></i>
                                Kirim Pesan</button>
                        </form>
                    </div>
                    <div class="col-md-5">
                        <h3 class="mb-4">Informasi Kontak</h3>
                        <ul class="list-unstyled" style="font-size: 1.05rem;">
                            <li class="d-flex align-items-start mb-3">
                                <i class="fas fa-map-marker-alt fa-fw mt-1 text-primary" style="font-size:1.2em;"></i>
                                <div>
                                    <strong>Alamat Kantor:</strong><br>
                                    Jl. Lembah Hijau No. 123, Kota Sejuk, ID 12345
                                </div>
                            </li>
                            <li class="d-flex align-items-start mb-3">
                                <i class="fas fa-phone fa-fw mt-1 text-primary" style="font-size:1.2em;"></i>
                                <div>
                                    <strong>Telepon:</strong><br>
                                    <a href="tel:+62215550123">(021) 555-0123</a>
                                </div>
                            </li>
                            <li class="d-flex align-items-start mb-3">
                                <i class="fas fa-envelope fa-fw mt-1 text-primary" style="font-size:1.2em;"></i>
                                <div>
                                    <strong>Email:</strong><br>
                                    <a href="mailto:info@greenvalley.id">info@greenvalley.id</a>
                                </div>
                            </li>
                            <li class="d-flex align-items-start">
                                <i class="fas fa-clock fa-fw mt-1 text-primary" style="font-size:1.2em;"></i>
                                <div>
                                    <strong>Jam Operasional:</strong><br>
                                    Senin - Jumat: 09.00 - 17.00 WIB
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>
    </template>

    <!-- Halaman Masuk/Login (Placeholder) -->
    <template id="page-masuk">
        <div class="animate-page-content">
            <div class="breadcrumbs">
                <div class="container">
                    <ol>
                        <li><a href="#beranda" data-page="beranda">Beranda</a></li>
                        <li class="active">Masuk</li>
                    </ol>
                </div>
            </div>
            <section class="section-padding container d-flex justify-content-center align-items-center"
                style="min-height: 60vh;">
                <div class="text-center p-5"
                    style="max-width:500px; background:var(--bg-color-alt); border-radius:var(--border-radius-lg); box-shadow:var(--card-shadow);">
                    <i class="fas fa-user-lock fa-3x text-primary mb-4"></i>
                    <h1 class="section-title">Halaman Masuk</h1>
                    <p>Fitur masuk pengguna akan segera tersedia. Saat ini masih dalam tahap pengembangan.</p>
                    <a href="#beranda" data-page="beranda" class="btn btn-primary mt-3"><i class="fas fa-home"></i>
                        Kembali ke Beranda</a>
                </div>
            </section>
        </div>
    </template>

    <!-- Halaman FAQ (Placeholder) -->
    <template id="page-faq">
        <div class="animate-page-content">
            <div class="breadcrumbs">
                <div class="container">
                    <ol>
                        <li><a href="#beranda" data-page="beranda">Beranda</a></li>
                        <li class="active">FAQ</li>
                    </ol>
                </div>
            </div>
            <section class="section-padding container">
                <div class="text-center p-5">
                    <i class="fas fa-question-circle fa-3x text-primary mb-4"></i>
                    <h1 class="section-title">Frequently Asked Questions (FAQ)</h1>
                    <p>Halaman FAQ akan segera hadir dengan jawaban atas pertanyaan umum seputar layanan Green Valley.
                    </p>
                    <a href="#beranda" data-page="beranda" class="btn btn-primary mt-3"><i class="fas fa-home"></i>
                        Kembali ke Beranda</a>
                </div>
            </section>
        </div>
    </template>

    <!-- Halaman Tidak Ditemukan (404) -->
    <template id="page-404">
        <div class="animate-page-content section-padding container text-center d-flex flex-column justify-content-center align-items-center"
            style="min-height: 70vh;">
            <i class="fas fa-exclamation-triangle fa-5x text-primary mb-4"></i>
            <h1 class="display-1 fw-bold text-secondary">404</h1>
            <h2>Oops! Halaman Tidak Ditemukan.</h2>
            <p class="lead my-3">Maaf, halaman yang Anda cari tidak ada atau mungkin telah dipindahkan.</p>
            <a href="#beranda" data-page="beranda" class="btn btn-primary btn-lg"><i class="fas fa-home"></i> Kembali ke
                Beranda</a>
        </div>
    </template>

    <script>
        // JavaScript Monolith untuk SPA Green Valley (Vanilla JS)
        (function () {
            'use strict'; // Mengaktifkan mode ketat JavaScript untuk kualitas kode yang lebih baik

            // Utilitas DOM (Mirip jQuery selector tapi vanilla)
            const $ = (selector, parent = document) => parent.querySelector(selector);
            const $$ = (selector, parent = document) => Array.from(parent.querySelectorAll(selector));

            // Referensi Elemen DOM Utama
            const appRoot = $('#app-root'); // Kontainer utama untuk merender halaman
            const globalLoader = $('#globalLoader'); // Overlay loader
            const navbarToggler = $('.navbar-toggler');
            const navbarCollapse = $('#navbarMobileMenu');

            // Fungsi untuk menampilkan dan menyembunyikan loader
            const showLoader = () => globalLoader && globalLoader.classList.add('show');
            const hideLoader = () => globalLoader && globalLoader.classList.remove('show');

            // State Aplikasi (Pusat data dan kondisi aplikasi)
            const appState = {
                currentPage: 'beranda', // Halaman yang sedang aktif
                apartments: [ // Data dummy apartemen
                    {
                        id: 1,
                        name: 'The Peak Residence Sudirman',
                        location: 'Jakarta Selatan',
                        price: 15000000,
                        type: '2br',
                        typeDisplay: '2 Kamar Tidur',
                        size: 85, // m2
                        images: [
                            'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60',
                            'https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60',
                            'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60'
                        ],
                        description: 'Apartemen mewah di jantung kota Jakarta dengan fasilitas bintang lima. Menawarkan pemandangan kota yang menakjubkan, desain interior modern, dan akses mudah ke pusat bisnis dan hiburan. Cocok untuk profesional dan keluarga kecil yang mendambakan gaya hidup urban premium.',
                        facilities: ['Kolam Renang Infinity', 'Gym & Pusat Kebugaran', 'Keamanan 24 Jam', 'Area BBQ', 'Taman Bermain Anak', 'Lounge Eksklusif', 'Parkir Basement'],
                        availability: 'Tersedia',
                        isFeatured: true,
                        agent: { name: 'Budi Propertindo', phone: '08123456789' }
                    },
                    {
                        id: 2,
                        name: 'Green Bay Pluit Sea View',
                        location: 'Jakarta Utara',
                        price: 7500000,
                        type: '1br',
                        typeDisplay: '1 Kamar Tidur',
                        size: 42, // m2
                        images: [
                            'https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60',
                            'https://images.unsplash.com/photo-1560185007-c5ca91ba296f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60'
                        ],
                        description: 'Hunian nyaman dengan pemandangan laut yang menenangkan. Terintegrasi langsung dengan pusat perbelanjaan dan berbagai fasilitas rekreasi. Ideal untuk Anda yang mencari keseimbangan antara kerja dan relaksasi.',
                        facilities: ['Kolam Renang Tematik', 'Akses Langsung ke Mall', 'Jogging Track Tepi Laut', 'Keamanan 24 Jam', 'Food Court'],
                        availability: 'Segera Tersedia',
                        isFeatured: true,
                        agent: { name: 'Citra Agen', phone: '08987654321' }
                    },
                    {
                        id: 3,
                        name: 'BSD Sky Apartment',
                        location: 'BSD City, Tangerang',
                        price: 9000000,
                        type: 'studio',
                        typeDisplay: 'Studio',
                        size: 30, // m2
                        images: ['https://images.unsplash.com/photo-1613490493576-7fde63acd811?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60'],
                        description: 'Apartemen studio modern di kawasan berkembang BSD City. Desain minimalis dan fungsional, cocok untuk mahasiswa atau profesional muda. Dekat dengan universitas ternama dan pusat perkantoran.',
                        facilities: ['Co-working Space', 'Smart Home System', 'Kolam Renang Rooftop', 'Gym', 'Shuttle Bus'],
                        availability: 'Tersedia',
                        isFeatured: false,
                        agent: { name: 'BSD Realty', phone: '08112233445' }
                    },
                    {
                        id: 4,
                        name: 'Bandung Valley View Suites',
                        location: 'Bandung Kota',
                        price: 6000000,
                        type: '2br',
                        typeDisplay: '2 Kamar Tidur',
                        size: 65, // m2
                        images: ['https://images.unsplash.com/photo-1480074568708-e7b720bb3f09?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60'],
                        description: 'Nikmati udara sejuk Bandung dari apartemen dengan pemandangan lembah yang indah. Lokasi strategis dekat dengan berbagai destinasi wisata kuliner dan factory outlet ternama.',
                        facilities: ['Pemandangan Lembah', 'Taman Hijau Luas', 'Area Outbound Anak', 'Cafe & Resto', 'Keamanan'],
                        availability: 'Tersedia',
                        isFeatured: true,
                        agent: { name: 'Bandung Property', phone: '08556677889' }
                    },
                    // Tambahkan lebih banyak data apartemen di sini untuk pengujian
                    {
                        id: 5,
                        name: 'Surabaya Urban Living',
                        location: 'Surabaya Pusat',
                        price: 12000000,
                        type: '3br',
                        typeDisplay: '3 Kamar Tidur',
                        size: 120,
                        images: ['https://images.unsplash.com/photo-1592595896551-81256cd50915?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60'],
                        description: 'Apartemen luas dan elegan di pusat kota Surabaya, cocok untuk keluarga. Dekat dengan pusat perbelanjaan mewah dan sekolah internasional.',
                        facilities: ['Private Lift', 'Kolam Renang Indoor', 'Lapangan Tenis', 'Kids Club', 'Cinema Room'],
                        availability: 'Tersedia',
                        isFeatured: false,
                        agent: { name: 'Surabaya Estates', phone: '08123123123' }
                    },
                    {
                        id: 6,
                        name: 'Yogyakarta Heritage Stay',
                        location: 'Yogyakarta Kota',
                        price: 5500000,
                        type: '1br',
                        typeDisplay: '1 Kamar Tidur',
                        size: 50,
                        images: ['https://images.unsplash.com/photo-1572120360610-d971b9d7767c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=60'],
                        description: 'Rasakan kenyamanan modern dengan sentuhan warisan budaya Yogyakarta. Lokasi prima dekat Malioboro dan Keraton Yogyakarta.',
                        facilities: ['Desain Interior Etnik Modern', 'Restoran Khas Jawa', 'Batik Workshop', 'Taman Asri'],
                        availability: 'Tersedia',
                        isFeatured: true,
                        agent: { name: 'Jogja Properti', phone: '08777888999' }
                    }
                ],
                filteredApartments: [], // Data apartemen setelah difilter
                currentPageNumber: 1, // Nomor halaman saat ini untuk pagination
                itemsPerPage: 6, // Jumlah item per halaman
                currentFilters: { lokasi: '', tipe: '', harga: '' } // Menyimpan filter aktif
            };
            appState.filteredApartments = [...appState.apartments]; // Inisialisasi data filter dengan semua apartemen

            // Fungsi Utilitas Umum
            const formatCurrency = (amount) => { // Format angka menjadi mata uang Rupiah
                return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(amount);
            };

            // Fungsi untuk Membuat Elemen HTML Kartu Apartemen (Reusable Component)
            const createApartmentCard = (apartment) => {
                const div = document.createElement('div');
                // Kelas grid responsif: col-lg-4 (3 per baris di layar besar), col-md-6 (2 per baris di layar medium)
                div.className = 'col-lg-4 col-md-6';
                // Menggunakan template literal untuk struktur HTML yang lebih mudah dibaca
                div.innerHTML = `
                    <div class="apartment-card">
                        <div class="apartment-card-img-wrapper">
                            <img src="${apartment.images[0]}" alt="Tampilan depan ${apartment.name}" class="apartment-card-img" loading="lazy">
                            ${apartment.isFeatured ? '<span class="apartment-card-tag">Unggulan</span>' : ''}
                            ${apartment.availability !== 'Tersedia' ? `<span class="apartment-card-tag accent" style="left: auto; right: 1rem;">${apartment.availability}</span>` : ''}
                        </div>
                        <div class="apartment-card-body">
                            <h3 class="apartment-card-title">${apartment.name}</h3>
                            <p class="apartment-card-location"><i class="fas fa-map-marker-alt"></i> ${apartment.location}</p>
                            <p class="apartment-card-price">${formatCurrency(apartment.price)} <span>/ bulan</span></p>
                            <ul class="apartment-card-features">
                                <li><i class="fas fa-bed"></i> ${apartment.typeDisplay}</li>
                                <li><i class="fas fa-ruler-combined"></i> ${apartment.size} m²</li>
                            </ul>
                            <a href="#detail-apartemen/${apartment.id}" class="btn btn-primary w-100" data-page="detail-apartemen" data-id="${apartment.id}">
                                <i class="fas fa-eye"></i> Lihat Detail
                            </a>
                        </div>
                    </div>
                `;
                return div;
            };

            // Fungsi untuk Merender Konten Halaman (Inti dari SPA)
            const renderPage = (pageId, params = {}) => {
                showLoader(); // Tampilkan loader saat halaman mulai dimuat
                appState.currentPage = pageId; // Update state halaman saat ini
                window.scrollTo(0, 0); // Selalu scroll ke atas saat pindah halaman

                // Update status 'active' pada link navigasi
                $$('.nav-link').forEach(link => link.classList.remove('active'));
                const activeLink = $(`.nav-link[data-page="${pageId}"]`);
                if (activeLink) activeLink.classList.add('active');

                // Tutup menu mobile jika terbuka
                if (navbarCollapse && navbarCollapse.classList.contains('show')) {
                    navbarCollapse.classList.remove('show');
                    navbarToggler.setAttribute('aria-expanded', 'false');
                }

                const template = $(`#page-${pageId}`) || $(`#page-404`); // Ambil template HTML atau template 404 jika tidak ada
                if (!template) {
                    console.error(`Template untuk halaman "${pageId}" tidak ditemukan.`);
                    appRoot.innerHTML = '<div class="container section-padding text-center"><h1>Kesalahan Internal</h1><p>Template halaman tidak dapat dimuat.</p></div>';
                    hideLoader();
                    return;
                }

                const content = template.content.cloneNode(true); // Kloning konten template
                appRoot.innerHTML = ''; // Kosongkan konten utama
                appRoot.appendChild(content); // Tambahkan konten baru ke DOM

                // Logika spesifik untuk setiap halaman
                // Ini adalah tempat untuk mengisi data dinamis ke dalam template
                if (pageId === 'beranda') {
                    const featuredList = $('#featuredApartmentsList', appRoot);
                    if (featuredList) {
                        appState.apartments
                            .filter(apt => apt.isFeatured)
                            .slice(0, 3) // Tampilkan hanya 3 properti unggulan
                            .forEach(apt => featuredList.appendChild(createApartmentCard(apt)));
                    }
                    const heroSearchForm = $('#heroSearchForm', appRoot);
                    if (heroSearchForm) {
                        heroSearchForm.addEventListener('submit', (e) => {
                            e.preventDefault();
                            const lokasi = ($('#heroLokasi', heroSearchForm).value || '').trim();
                            const tipe = ($('#heroTipe', heroSearchForm).value || '').trim();
                            // Simpan filter untuk digunakan di halaman apartemen
                            appState.currentFilters.lokasi = lokasi;
                            appState.currentFilters.tipe = tipe;
                            window.location.hash = '#apartemen'; // Arahkan ke halaman apartemen dengan filter
                        });
                    }
                } else if (pageId === 'apartemen') {
                    applyAndRenderFilters(); // Fungsi untuk menerapkan filter dan render apartemen
                    setupFilterEventListeners(); // Pasang listener untuk form filter
                } else if (pageId === 'detail-apartemen' && params.id) {
                    renderApartmentDetail(params.id);
                } else if (pageId === 'kontak') {
                    const contactForm = $('#contactForm', appRoot);
                    if (contactForm) {
                        contactForm.addEventListener('submit', (e) => {
                            e.preventDefault();
                            alert('Pesan Anda telah "dikirim"! (Ini adalah simulasi, tidak ada pengiriman data aktual).');
                            contactForm.reset();
                        });
                    }
                }

                attachGlobalEventListeners(); // Pasang kembali event listener global setelah render DOM baru
                hideLoader(); // Sembunyikan loader setelah halaman selesai dimuat
            };

            // Fungsi untuk menerapkan filter dan merender daftar apartemen
            const applyAndRenderFilters = (resetPage = true) => {
                if (resetPage) appState.currentPageNumber = 1; // Reset ke halaman 1 jika filter baru diterapkan

                let filtered = [...appState.apartments]; // Salin semua apartemen

                // Filter berdasarkan lokasi (case-insensitive, partial match)
                const lokasiFilter = appState.currentFilters.lokasi.toLowerCase();
                if (lokasiFilter) {
                    filtered = filtered.filter(apt => apt.location.toLowerCase().includes(lokasiFilter));
                }

                // Filter berdasarkan tipe unit
                const tipeFilter = appState.currentFilters.tipe;
                if (tipeFilter) {
                    filtered = filtered.filter(apt => apt.type === tipeFilter);
                }

                // Urutkan berdasarkan harga
                const hargaSort = appState.currentFilters.harga;
                if (hargaSort === 'murah') {
                    filtered.sort((a, b) => a.price - b.price);
                } else if (hargaSort === 'mahal') {
                    filtered.sort((a, b) => b.price - a.price);
                }

                appState.filteredApartments = filtered; // Update state apartemen yang sudah difilter

                // Render apartemen untuk halaman saat ini
                const apartmentListContainer = $('#allApartmentsList', appRoot);
                if (apartmentListContainer) {
                    apartmentListContainer.innerHTML = ''; // Kosongkan daftar sebelum mengisi
                    const paginatedApartments = paginate(appState.filteredApartments, appState.currentPageNumber, appState.itemsPerPage);

                    if (paginatedApartments.length > 0) {
                        paginatedApartments.forEach(apt => apartmentListContainer.appendChild(createApartmentCard(apt)));
                    } else {
                        apartmentListContainer.innerHTML = '<div class="col-12 text-center"><p class="lead">Tidak ada apartemen yang cocok dengan kriteria filter Anda.</p></div>';
                    }
                }
                renderPaginationControls(); // Render kontrol pagination

                // Set nilai filter di form
                const filterLokasiInput = $('#filterLokasi', appRoot);
                const filterTipeSelect = $('#filterTipe', appRoot);
                const filterHargaSelect = $('#filterHarga', appRoot);

                if (filterLokasiInput) filterLokasiInput.value = appState.currentFilters.lokasi;
                if (filterTipeSelect) filterTipeSelect.value = appState.currentFilters.tipe;
                if (filterHargaSelect) filterHargaSelect.value = appState.currentFilters.harga;
            };

            // Fungsi untuk memasang event listener pada form filter
            const setupFilterEventListeners = () => {
                const filterButton = $('#applyFilterBtn', appRoot);
                const filterLokasiInput = $('#filterLokasi', appRoot);
                const filterTipeSelect = $('#filterTipe', appRoot);
                const filterHargaSelect = $('#filterHarga', appRoot);

                if (filterButton) {
                    filterButton.addEventListener('click', () => {
                        if (filterLokasiInput) appState.currentFilters.lokasi = filterLokasiInput.value.trim();
                        if (filterTipeSelect) appState.currentFilters.tipe = filterTipeSelect.value;
                        if (filterHargaSelect) appState.currentFilters.harga = filterHargaSelect.value;
                        applyAndRenderFilters(true); // Terapkan filter dan reset ke halaman 1
                    });
                }
                // Terapkan filter jika ada parameter dari hash (misal dari footer link)
                const hashParams = new URLSearchParams(window.location.hash.split('?')[1]);
                if (hashParams.has('lokasi')) appState.currentFilters.lokasi = hashParams.get('lokasi');
                if (hashParams.has('tipe')) appState.currentFilters.tipe = hashParams.get('tipe');
            };

            // Fungsi untuk pagination
            const paginate = (items, pageNumber, pageSize) => {
                const startIndex = (pageNumber - 1) * pageSize;
                return items.slice(startIndex, startIndex + pageSize);
            };

            const renderPaginationControls = () => {
                const paginationContainer = $('#paginationControls', appRoot);
                if (!paginationContainer) return;

                paginationContainer.innerHTML = ''; // Kosongkan kontrol pagination
                const totalPages = Math.ceil(appState.filteredApartments.length / appState.itemsPerPage);

                if (totalPages <= 1) return; // Tidak perlu pagination jika hanya 1 halaman

                const ul = document.createElement('ul');
                ul.className = 'pagination d-flex gap-2'; // Tambahkan kelas Bootstrap untuk styling

                // Tombol "Previous"
                const prevLi = document.createElement('li');
                prevLi.className = `page-item ${appState.currentPageNumber === 1 ? 'disabled' : ''}`;
                const prevLink = document.createElement('a');
                prevLink.className = 'btn btn-outline-primary btn-sm';
                prevLink.href = '#';
                prevLink.innerHTML = '<i class="fas fa-chevron-left"></i> Sebelumnya';
                prevLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (appState.currentPageNumber > 1) {
                        appState.currentPageNumber--;
                        applyAndRenderFilters(false); // Render ulang tanpa reset filter
                    }
                });
                prevLi.appendChild(prevLink);
                ul.appendChild(prevLi);

                // Nomor Halaman (sederhana, bisa dikembangkan dengan logika "...")
                for (let i = 1; i <= totalPages; i++) {
                    // Logika untuk menampilkan hanya beberapa nomor halaman (misal: sekitar halaman aktif)
                    if (totalPages > 5 && (i > 2 && i < appState.currentPageNumber - 1 || i < totalPages - 1 && i > appState.currentPageNumber + 1) && i !== 1 && i !== totalPages) {
                        if (i === 3 && appState.currentPageNumber > 4 || i === totalPages - 2 && appState.currentPageNumber < totalPages - 3) {
                            const dotsLi = document.createElement('li');
                            dotsLi.className = 'page-item disabled';
                            dotsLi.innerHTML = `<span class="btn btn-sm">...</span>`;
                            ul.appendChild(dotsLi);
                        }
                        continue;
                    }

                    const pageLi = document.createElement('li');
                    pageLi.className = `page-item ${i === appState.currentPageNumber ? 'active' : ''}`;
                    const pageLink = document.createElement('a');
                    pageLink.className = `btn btn-sm ${i === appState.currentPageNumber ? 'btn-primary' : 'btn-outline-primary'}`;
                    pageLink.href = '#';
                    pageLink.textContent = i;
                    pageLink.addEventListener('click', (e) => {
                        e.preventDefault();
                        appState.currentPageNumber = i;
                        applyAndRenderFilters(false); // Render ulang tanpa reset filter
                    });
                    pageLi.appendChild(pageLink);
                    ul.appendChild(pageLi);
                }

                // Tombol "Next"
                const nextLi = document.createElement('li');
                nextLi.className = `page-item ${appState.currentPageNumber === totalPages ? 'disabled' : ''}`;
                const nextLink = document.createElement('a');
                nextLink.className = 'btn btn-outline-primary btn-sm';
                nextLink.href = '#';
                nextLink.innerHTML = 'Berikutnya <i class="fas fa-chevron-right"></i>';
                nextLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (appState.currentPageNumber < totalPages) {
                        appState.currentPageNumber++;
                        applyAndRenderFilters(false); // Render ulang tanpa reset filter
                    }
                });
                nextLi.appendChild(nextLink);
                ul.appendChild(nextLi);

                paginationContainer.appendChild(ul);
            };

            // Fungsi untuk merender detail apartemen
            const renderApartmentDetail = (apartmentId) => {
                const apartment = appState.apartments.find(apt => apt.id === parseInt(apartmentId));
                const detailContainer = $('#apartmentDetailContent', appRoot);
                const breadcrumbContainer = $('#breadcrumb-detail', appRoot);


                if (!apartment || !detailContainer) {
                    renderPage('404'); // Jika apartemen tidak ditemukan, tampilkan halaman 404
                    return;
                }

                // Update Breadcrumbs
                if (breadcrumbContainer) {
                    breadcrumbContainer.innerHTML = `
                        <ol>
                            <li><a href="#beranda" data-page="beranda">Beranda</a></li>
                            <li><a href="#apartemen" data-page="apartemen">Apartemen</a></li>
                            <li class="active">${apartment.name}</li>
                        </ol>
                    `;
                }


                // Struktur HTML untuk detail apartemen
                detailContainer.innerHTML = `
                    <div class="col-lg-7 mb-4 mb-lg-0">
                        <h1 class="text-primary fw-bold mb-1">${apartment.name}</h1>
                        <p class="location text-muted fw-medium fs-5 mb-3"><i class="fas fa-map-marker-alt"></i> ${apartment.location}</p>
                        <div class="apartment-detail-gallery">
                            <img src="${apartment.images[0]}" alt="Gambar utama ${apartment.name}" class="img-fluid rounded mb-3">
                            <div class="row">
                                ${apartment.images.slice(1).map(imgUrl => `
                                    <div class="col-4">
                                        <img src="${imgUrl}" alt="Galeri ${apartment.name}" class="img-fluid rounded">
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        <h3 class="mt-4">Deskripsi Properti</h3>
                        <p>${apartment.description}</p>
                    </div>
                    <div class="col-lg-5">
                        <div class="p-4 rounded" style="background-color: var(--primary-color-light); box-shadow: var(--card-shadow)">
                            <h2 class="price text-secondary mb-3">${formatCurrency(apartment.price)}<span class="fs-6 fw-normal"> / bulan</span></h2>
                            <p class="mb-1"><strong>Tipe Unit:</strong> ${apartment.typeDisplay}</p>
                            <p class="mb-1"><strong>Luas:</strong> ${apartment.size} m²</p>
                            <p class="mb-3"><strong>Ketersediaan:</strong> <span class="${apartment.availability === 'Tersedia' ? 'text-success' : 'text-warning'} fw-bold">${apartment.availability}</span></p>
                            
                            <h4 class="mt-4">Fasilitas Utama</h4>
                            <ul class="facility-list">
                                ${apartment.facilities.slice(0, 5).map(facility => `<li><i class="fas fa-check-circle"></i> ${facility}</li>`).join('')}
                                ${apartment.facilities.length > 5 ? '<li><i class="fas fa-ellipsis-h"></i> Dan lainnya...</li>' : ''}
                            </ul>
                            <h4 class="mt-4">Hubungi Agen</h4>
                            <p class="mb-1"><i class="fas fa-user-tie"></i> ${apartment.agent.name}</p>
                            <p><i class="fas fa-phone-alt"></i> <a href="tel:${apartment.agent.phone}">${apartment.agent.phone}</a></p>
                            <a href="https://wa.me/${apartment.agent.phone.replace(/\D/g, '')}?text=Halo%20${apartment.agent.name},%20saya%20tertarik%20dengan%20properti%20${encodeURIComponent(apartment.name)}%20di%20Green%20Valley." target="_blank" class="btn btn-success w-100 mt-2"><i class="fab fa-whatsapp"></i> Hubungi via WhatsApp</a>
                            <button class="btn btn-primary w-100 mt-2"><i class="fas fa-calendar-alt"></i> Jadwalkan Kunjungan</button>
                        </div>
                    </div>
                `;
            };

            // Fungsi untuk menangani navigasi berdasarkan hash URL
            const handleNavigation = () => {
                // Ambil hash dari URL, hilangkan '#', default ke 'beranda'
                const hash = window.location.hash.slice(1) || 'beranda';
                // Pisahkan pageId dan parameter (jika ada, misal: detail-apartemen/1 atau apartemen?filter=...)
                const [path, queryString] = hash.split('?');
                const [pageId, paramString] = path.split('/');

                const params = {};
                if (pageId === 'detail-apartemen' && paramString) {
                    params.id = paramString; // Ambil ID apartemen dari URL
                }

                // Untuk filter dari URL
                if (queryString) {
                    const queryParams = new URLSearchParams(queryString);
                    queryParams.forEach((value, key) => {
                        params[key] = value;
                        if (appState.currentFilters.hasOwnProperty(key)) { // Cek jika key ada di currentFilters
                            appState.currentFilters[key] = value;
                        }
                    });
                }
                // Untuk filter dari data-filter atribut (footer links)
                const activeLink = $(`a[href="#${hash}"]`);
                if (activeLink && activeLink.dataset.filter) {
                    try {
                        const filterData = JSON.parse(activeLink.dataset.filter);
                        Object.keys(filterData).forEach(key => {
                            if (appState.currentFilters.hasOwnProperty(key)) {
                                appState.currentFilters[key] = filterData[key];
                            }
                        });
                    } catch (e) {
                        console.error("Gagal parse data-filter JSON:", e);
                    }
                }
                renderPage(pageId, params);
            };

            // Fungsi untuk memasang event listener global (yang perlu dipasang ulang setelah render)
            const attachGlobalEventListeners = () => {
                // Hapus listener lama untuk menghindari duplikasi jika ada, lalu pasang yang baru
                // Ini penting karena DOM di-render ulang, jadi elemen lama hilang
                $$('a[data-page]').forEach(link => {
                    // Untuk menghindari multiple listener, kita bisa kloning dan replace, atau cek flag
                    if (!link.hasAttribute('data-listener-attached')) {
                        link.addEventListener('click', (e) => {
                            e.preventDefault(); // Mencegah perilaku default link
                            const pageId = link.dataset.page;
                            const entityId = link.dataset.id;
                            let newHash = pageId;
                            if (entityId) newHash += `/${entityId}`;

                            // Jika ada data-filter, tambahkan sebagai query string
                            if (link.dataset.filter) {
                                try {
                                    const filterObj = JSON.parse(link.dataset.filter);
                                    const queryParams = new URLSearchParams(filterObj).toString();
                                    if (queryParams) newHash += `?${queryParams}`;
                                } catch (e) {
                                    console.error("Gagal parse data-filter JSON:", e);
                                }
                            }

                            if (window.location.hash.slice(1) === newHash) {
                                // Jika hash sama, paksa render ulang jika diperlukan (atau scroll to top)
                                handleNavigation();
                            } else {
                                window.location.hash = newHash; // Mengubah hash URL, akan memicu 'hashchange'
                            }
                        });
                        link.setAttribute('data-listener-attached', 'true');
                    }
                });
            };

            // Inisialisasi Aplikasi
            const init = () => {
                // Set tahun copyright di footer secara dinamis
                const currentYearEl = $('#currentYear');
                if (currentYearEl) currentYearEl.textContent = new Date().getFullYear();

                // Listener untuk perubahan hash URL (navigasi SPA)
                window.addEventListener('hashchange', handleNavigation);
                // Listener untuk load awal halaman
                window.addEventListener('load', handleNavigation);

                // Navbar toggler untuk mobile
                if (navbarToggler && navbarCollapse) {
                    navbarToggler.addEventListener('click', () => {
                        const isExpanded = navbarToggler.getAttribute('aria-expanded') === 'true' || false;
                        navbarToggler.setAttribute('aria-expanded', !isExpanded);
                        navbarCollapse.classList.toggle('show');
                    });
                }

                // Pasang listener global pertama kali
                attachGlobalEventListeners();
                // Render halaman awal berdasarkan hash saat ini (atau default)
                handleNavigation();
            };

            // Jalankan inisialisasi setelah DOM sepenuhnya dimuat
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
            } else {
                init(); // Langsung jalankan jika DOM sudah dimuat
            }

        })(); // Akhir dari IIFE
    </script>
</body>

</html>