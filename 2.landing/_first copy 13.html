<!DOCTYPE html>
<html lang="id" data-theme="light">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Green Valley - Platform Sewa Apartemen Premium Modern</title>

  <!-- Ikon Favicon (Contoh, ganti dengan URL favicon Anda) -->
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/25/25694.png" type="image/png">

  <!-- Font dari Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- Font Awesome untuk Ikon (Gratis) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <style>
    /* --- SISTEM DESAIN FANCY & MODERN --- */
    :root {
      /* Palet Warna Utama (Mode Terang) */
      --color-primary: #4A90E2;
      /* Biru modern yang menenangkan */
      --color-primary-dark: #357ABD;
      --color-primary-light: #7BAFDD;
      --color-secondary: #50E3C2;
      /* Hijau mint segar */
      --color-accent: #F5A623;
      /* Oranye hangat untuk aksen */
      --color-success: #4CAF50;
      --color-warning: #FFC107;
      --color-danger: #F44336;

      --color-text: #333333;
      --color-text-muted: #777777;
      --color-background: #FDFDFD;
      /* Putih gading lembut */
      --color-surface: #FFFFFF;
      --color-border: #E0E0E0;
      --color-input-bg: #F9F9F9;

      /* Tipografi */
      --font-family-primary: 'Poppins', sans-serif;
      --font-family-secondary: 'Inter', sans-serif;
      --font-size-base: 16px;
      --line-height-base: 1.7;

      /* Spasi & Ukuran */
      --spacing-unit: 8px;
      --border-radius-sm: 4px;
      --border-radius-md: 8px;
      --border-radius-lg: 16px;

      /* Bayangan (Shadows) */
      --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.03);
      --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.07);
      --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);

      /* Transisi */
      --transition-fast: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
      --transition-medium: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      --transition-slow: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    [data-theme="dark"] {
      --color-primary: #58A6FF;
      --color-primary-dark: #388BFD;
      --color-primary-light: #79B8FF;
      --color-secondary: #3DDCB4;
      --color-accent: #F7B731;

      --color-text: #E0E0E0;
      --color-text-muted: #AAAAAA;
      --color-background: #121212;
      /* Hitam pekat untuk kontras tinggi */
      --color-surface: #1E1E1E;
      /* Abu-abu gelap untuk permukaan elemen */
      --color-border: #333333;
      --color-input-bg: #2A2A2A;

      --shadow-xs: 0 1px 2px rgba(255, 255, 255, 0.03);
      --shadow-sm: 0 2px 4px rgba(255, 255, 255, 0.05);
      --shadow-md: 0 4px 8px rgba(255, 255, 255, 0.07);
      --shadow-lg: 0 10px 20px rgba(255, 255, 255, 0.1);
      --shadow-xl: 0 20px 40px rgba(255, 255, 255, 0.15);
    }

    /* --- RESET & DASAR --- */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      font-size: var(--font-size-base);
      scroll-behavior: smooth;
      -webkit-tap-highlight-color: transparent;
      /* Hilangkan highlight biru pada tap di mobile */
    }

    body {
      font-family: var(--font-family-secondary);
      line-height: var(--line-height-base);
      color: var(--color-text);
      background-color: var(--color-background);
      transition: background-color var(--transition-medium), color var(--transition-medium);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      /* Mencegah scroll horizontal yang tidak diinginkan */
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-family: var(--font-family-primary);
      font-weight: 600;
      line-height: 1.3;
      color: var(--color-text);
      margin-bottom: calc(var(--spacing-unit) * 2);
    }

    h1 {
      font-size: 2.8rem;
      letter-spacing: -0.02em;
    }

    h2 {
      font-size: 2rem;
    }

    h3 {
      font-size: 1.5rem;
    }

    p {
      margin-bottom: calc(var(--spacing-unit) * 2);
    }

    a {
      color: var(--color-primary);
      text-decoration: none;
      transition: color var(--transition-fast);
    }

    a:hover {
      color: var(--color-primary-dark);
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
    }

    button,
    input,
    select,
    textarea {
      font: inherit;
      color: inherit;
    }

    /* Utilitas umum */
    .container {
      width: 90%;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
      padding-left: calc(var(--spacing-unit) * 2);
      padding-right: calc(var(--spacing-unit) * 2);
    }

    .text-center {
      text-align: center;
    }

    .sr-only {
      /* Untuk aksesibilitas, menyembunyikan elemen secara visual tapi tetap dibaca screen reader */
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    /* --- HEADER & NAVIGASI --- */
    .app-header {
      background-color: rgba(var(--color-surface-rgb, 255, 255, 255), 0.9);
      /* RGB untuk opacity */
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: calc(var(--spacing-unit) * 2) 0;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      box-shadow: var(--shadow-sm);
      transition: background-color var(--transition-medium), box-shadow var(--transition-medium);
    }

    [data-theme="dark"] .app-header {
      background-color: rgba(var(--color-surface-rgb, 30, 30, 30), 0.9);
    }

    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1400px;
      /* Lebih lebar untuk tampilan modern */
      margin: 0 auto;
      padding: 0 calc(var(--spacing-unit) * 3);
    }

    .logo {
      font-family: var(--font-family-primary);
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--color-primary);
      transition: transform var(--transition-fast);
    }

    .logo:hover {
      transform: scale(1.05);
    }

    .logo .fa-leaf {
      margin-right: var(--spacing-unit);
    }

    .main-nav ul {
      list-style: none;
      display: flex;
      align-items: center;
      gap: var(--spacing-unit);
    }

    .main-nav a,
    .theme-toggle-button {
      color: var(--color-text);
      font-weight: 500;
      font-size: 0.95rem;
      padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 2);
      border-radius: var(--border-radius-md);
      transition: background-color var(--transition-fast), color var(--transition-fast), transform var(--transition-fast);
      position: relative;
      overflow: hidden;
      /* Untuk efek hover */
    }

    .main-nav a::before,
    .theme-toggle-button::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background-color: var(--color-primary);
      transition: width var(--transition-medium);
    }

    .main-nav a:hover,
    .main-nav a:focus,
    .main-nav a.active,
    .theme-toggle-button:hover,
    .theme-toggle-button:focus {
      color: var(--color-primary);
      background-color: rgba(var(--color-primary-rgb, 74, 144, 226), 0.1);
    }

    .main-nav a.active::before {
      width: 60%;
    }

    .theme-toggle-button {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1.2rem;
    }

    .mobile-nav-toggle {
      display: none;
      /* Sembunyikan di desktop */
      background: none;
      border: none;
      color: var(--color-text);
      font-size: 1.5rem;
      cursor: pointer;
      padding: var(--spacing-unit);
    }

    /* --- MAIN CONTENT & SECTIONS --- */
    main {
      padding-top: 80px;
      /* Sesuaikan dengan tinggi header */
    }

    .app-section {
      padding: calc(var(--spacing-unit) * 6) 0;
      min-height: calc(100vh - 80px);
      /* 80px adalah tinggi header perkiraan */
      display: none;
      /* Default tersembunyi, dikontrol JS */
      opacity: 0;
      animation: fadeIn 0.6s ease-out forwards;
    }

    .app-section.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .section-title {
      text-align: center;
      margin-bottom: calc(var(--spacing-unit) * 6);
      font-size: 2.5rem;
      font-weight: 700;
      position: relative;
      padding-bottom: var(--spacing-unit);
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background-color: var(--color-primary);
      border-radius: var(--border-radius-sm);
    }

    /* --- HERO SECTION (BERANDA) --- */
    .hero-section {
      height: calc(100vh - 80px);
      /* Sesuaikan dengan tinggi header */
      background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6)),
        url('https://images.unsplash.com/photo-1580587771525-78b9dba3b914?auto=format&fit=crop&w=1600&q=80') no-repeat center center/cover;
      background-attachment: fixed;
      /* Efek parallax */
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #FFFFFF;
      padding: calc(var(--spacing-unit) * 2);
    }

    .hero-content {
      max-width: 800px;
      animation: slideUpFadeIn 1s ease-out 0.3s forwards;
      opacity: 0;
    }

    @keyframes slideUpFadeIn {
      from {
        opacity: 0;
        transform: translateY(50px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hero-content h1 {
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: calc(var(--spacing-unit) * 3);
      line-height: 1.2;
      text-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
      color: #FFFFFF;
      /* Pastikan warna kontras dengan background */
    }

    .hero-content p {
      font-size: 1.25rem;
      margin-bottom: calc(var(--spacing-unit) * 4);
      opacity: 0.9;
    }

    /* --- SEARCH CONTAINER (setelah Hero) --- */
    .search-section-container {
      background-color: var(--color-surface);
      padding: calc(var(--spacing-unit) * 4);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-lg);
      margin-top: -80px;
      /* Tarik ke atas hero */
      position: relative;
      z-index: 10;
      max-width: 1000px;
      /* Batasi lebar agar tidak terlalu melebar */
    }

    .search-filters {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: calc(var(--spacing-unit) * 2.5);
      align-items: end;
      /* Agar tombol sejajar dengan input terakhir */
    }

    .filter-group label {
      display: block;
      font-weight: 500;
      margin-bottom: var(--spacing-unit);
      font-size: 0.9rem;
      color: var(--color-text-muted);
    }

    /* --- PROPERTY GRID & CARDS --- */
    .property-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: calc(var(--spacing-unit) * 4);
      margin-top: calc(var(--spacing-unit) * 4);
      /* Jarak dari filter jika ada */
    }

    .property-card {
      background-color: var(--color-surface);
      border-radius: var(--border-radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: transform var(--transition-medium), box-shadow var(--transition-medium);
      display: flex;
      flex-direction: column;
    }

    .property-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: var(--shadow-xl);
    }

    .property-image-wrapper {
      height: 220px;
      overflow: hidden;
      position: relative;
    }

    .property-image-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform var(--transition-slow);
    }

    .property-card:hover .property-image-wrapper img {
      transform: scale(1.1);
    }

    .property-status-badge {
      position: absolute;
      top: calc(var(--spacing-unit) * 2);
      left: calc(var(--spacing-unit) * 2);
      background-color: var(--color-primary);
      color: white;
      padding: calc(var(--spacing-unit) * 0.5) var(--spacing-unit);
      border-radius: var(--border-radius-sm);
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: capitalize;
    }

    .property-info {
      padding: calc(var(--spacing-unit) * 2.5);
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      /* Agar konten mengisi sisa ruang */
    }

    .property-info h3 {
      font-size: 1.3rem;
      margin-bottom: var(--spacing-unit);
      color: var(--color-text);
    }

    .property-info .location,
    .property-info .price,
    .property-info .type {
      color: var(--color-text-muted);
      margin-bottom: calc(var(--spacing-unit) * 0.75);
      font-size: 0.9rem;
      display: flex;
      align-items: center;
    }

    .property-info .location i,
    .property-info .price i,
    .property-info .type i {
      margin-right: var(--spacing-unit);
      color: var(--color-primary-light);
      width: 16px;
      /* Konsistensi lebar ikon */
      text-align: center;
    }

    .property-info .price {
      font-weight: 600;
      color: var(--color-accent);
    }

    .property-card-actions {
      margin-top: auto;
      /* Dorong tombol ke bawah */
      padding-top: calc(var(--spacing-unit) * 2);
    }


    /* --- TOMBOL (BUTTONS) --- */
    .btn {
      display: inline-block;
      padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 3);
      font-weight: 600;
      text-align: center;
      vertical-align: middle;
      cursor: pointer;
      border: 2px solid transparent;
      border-radius: var(--border-radius-md);
      transition: var(--transition-medium);
      font-size: 1rem;
      text-transform: uppercase;
      /* Konsisten */
      letter-spacing: 0.05em;
    }

    .btn:focus-visible {
      /* Aksesibilitas: Outline jelas saat fokus keyboard */
      outline: 3px solid var(--color-primary-light);
      outline-offset: 2px;
    }

    .btn-primary {
      background-color: var(--color-primary);
      color: #FFFFFF;
      box-shadow: var(--shadow-sm);
    }

    .btn-primary:hover,
    .btn-primary:focus {
      background-color: var(--color-primary-dark);
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background-color: var(--color-secondary);
      color: var(--color-text);
      /* Bisa juga putih, tergantung kontras */
      box-shadow: var(--shadow-sm);
    }

    .btn-secondary:hover,
    .btn-secondary:focus {
      background-color: color-mix(in srgb, var(--color-secondary) 80%, black);
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }

    .btn-outline-primary {
      background-color: transparent;
      color: var(--color-primary);
      border-color: var(--color-primary);
    }

    .btn-outline-primary:hover,
    .btn-outline-primary:focus {
      background-color: var(--color-primary);
      color: #FFFFFF;
    }

    .btn-lg {
      padding: calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 4);
      font-size: 1.1rem;
    }

    .btn-full-width {
      width: 100%;
    }

    /* --- FORMULIR (FORMS) --- */
    .form-group {
      margin-bottom: calc(var(--spacing-unit) * 2.5);
    }

    .form-control {
      width: 100%;
      padding: calc(var(--spacing-unit) * 1.75) calc(var(--spacing-unit) * 2);
      border: 1px solid var(--color-border);
      border-radius: var(--border-radius-md);
      font-size: 1rem;
      background-color: var(--color-input-bg);
      color: var(--color-text);
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
    }

    .form-control:focus {
      border-color: var(--color-primary);
      outline: none;
      box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb, 74, 144, 226), 0.2);
    }

    .form-control::placeholder {
      color: var(--color-text-muted);
      opacity: 0.7;
    }

    /* --- MODAL (VANILLA JS) --- */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      z-index: 1040;
      display: none;
      /* Kontrol via JS */
      opacity: 0;
      transition: opacity var(--transition-medium);
    }

    .modal-overlay.active {
      display: flex;
      opacity: 1;
    }

    .modal-dialog {
      background-color: var(--color-surface);
      margin: auto;
      /* Pusatkan vertikal dan horizontal */
      padding: calc(var(--spacing-unit) * 4);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-xl);
      width: 90%;
      max-width: 700px;
      /* Batas lebar modal */
      max-height: 90vh;
      /* Batas tinggi modal */
      overflow-y: auto;
      transform: scale(0.95) translateY(-20px);
      opacity: 0;
      transition: transform var(--transition-medium) ease-out, opacity var(--transition-medium) ease-out;
    }

    .modal-overlay.active .modal-dialog {
      transform: scale(1) translateY(0);
      opacity: 1;
      transition-delay: 0.1s;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: calc(var(--spacing-unit) * 2);
      border-bottom: 1px solid var(--color-border);
      margin-bottom: calc(var(--spacing-unit) * 3);
    }

    .modal-title {
      font-size: 1.75rem;
      margin-bottom: 0;
      color: var(--color-primary);
    }

    .modal-close-btn {
      background: none;
      border: none;
      font-size: 2rem;
      color: var(--color-text-muted);
      cursor: pointer;
      padding: var(--spacing-unit);
      line-height: 1;
      transition: color var(--transition-fast), transform var(--transition-fast);
    }

    .modal-close-btn:hover {
      color: var(--color-danger);
      transform: rotate(90deg);
    }

    .modal-body img {
      width: 100%;
      height: auto;
      max-height: 300px;
      object-fit: cover;
      border-radius: var(--border-radius-md);
      margin-bottom: calc(var(--spacing-unit) * 2);
    }

    .modal-body .facilities-list {
      list-style: none;
      padding-left: 0;
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-unit);
      margin-top: var(--spacing-unit);
    }

    .modal-body .facilities-list li {
      background-color: var(--color-input-bg);
      padding: calc(var(--spacing-unit) * 0.5) var(--spacing-unit);
      border-radius: var(--border-radius-sm);
      font-size: 0.85rem;
      color: var(--color-text-muted);
    }

    .modal-body .facilities-list li i {
      margin-right: calc(var(--spacing-unit)*0.5);
      color: var(--color-secondary);
    }

    /* --- TOAST NOTIFICATIONS (VANILLA JS) --- */
    .toast-container {
      position: fixed;
      bottom: calc(var(--spacing-unit) * 3);
      right: calc(var(--spacing-unit) * 3);
      z-index: 1050;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-unit);
      align-items: flex-end;
      /* Toast muncul dari kanan */
    }

    .toast {
      padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2.5);
      border-radius: var(--border-radius-md);
      box-shadow: var(--shadow-lg);
      color: #FFFFFF;
      min-width: 280px;
      max-width: 350px;
      opacity: 0;
      transform: translateX(100%);
      transition: opacity var(--transition-medium) ease-out, transform var(--transition-medium) ease-out;
      display: flex;
      align-items: center;
    }

    .toast.show {
      opacity: 1;
      transform: translateX(0);
    }

    .toast-icon {
      margin-right: var(--spacing-unit);
      font-size: 1.2rem;
    }

    .toast-success {
      background-color: var(--color-success);
    }

    .toast-warning {
      background-color: var(--color-warning);
      color: var(--color-text);
    }

    /* Warna teks disesuaikan untuk kontras */
    .toast-danger {
      background-color: var(--color-danger);
    }

    .toast-info {
      background-color: var(--color-primary);
    }

    /* --- DASHBOARD STATS --- */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: calc(var(--spacing-unit) * 3);
    }

    .stat-card {
      background-color: var(--color-surface);
      padding: calc(var(--spacing-unit) * 3);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-md);
      text-align: center;
      transition: transform var(--transition-medium), box-shadow var(--transition-medium);
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .stat-card i {
      font-size: 2.5rem;
      color: var(--color-primary);
      margin-bottom: var(--spacing-unit);
      display: block;
      /* Agar margin bottom bekerja */
    }

    .stat-card h3 {
      font-size: 1.1rem;
      color: var(--color-text-muted);
      margin-bottom: var(--spacing-unit);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--color-text);
    }

    /* --- FOOTER --- */
    .app-footer {
      background-color: var(--color-surface);
      border-top: 1px solid var(--color-border);
      padding: calc(var(--spacing-unit) * 4) 0;
      text-align: center;
      color: var(--color-text-muted);
      font-size: 0.9rem;
      margin-top: calc(var(--spacing-unit) * 6);
      /* Jarak dari konten terakhir */
    }

    .app-footer p {
      margin-bottom: var(--spacing-unit);
    }

    .social-links a {
      color: var(--color-text-muted);
      margin: 0 calc(var(--spacing-unit) * 1.5);
      font-size: 1.5rem;
      transition: color var(--transition-fast);
    }

    .social-links a:hover {
      color: var(--color-primary);
    }

    /* --- RESPONSIVE DESIGN --- */
    @media (max-width: 992px) {
      .hero-content h1 {
        font-size: 2.8rem;
      }

      .hero-content p {
        font-size: 1.1rem;
      }

      .search-filters {
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      }
    }

    @media (max-width: 768px) {
      .nav-container {
        padding: 0 calc(var(--spacing-unit) * 2);
      }

      .main-nav {
        display: none;
        /* Sembunyikan navigasi utama */
        position: absolute;
        top: 100%;
        /* Tepat di bawah header */
        left: 0;
        width: 100%;
        background-color: var(--color-surface);
        box-shadow: var(--shadow-md);
        padding: var(--spacing-unit) 0;
        flex-direction: column;
        align-items: stretch;
        /* Item nav memenuhi lebar */
        border-top: 1px solid var(--color-border);
      }

      .main-nav.active {
        display: flex;
      }

      /* Tampilkan saat toggle diklik */
      .main-nav ul {
        flex-direction: column;
        width: 100%;
        gap: 0;
      }

      .main-nav li {
        width: 100%;
      }

      .main-nav a,
      .theme-toggle-button {
        display: block;
        /* Agar link memenuhi lebar li */
        text-align: left;
        padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2.5);
        border-radius: 0;
        /* Hilangkan border-radius di mobile nav */
      }

      .main-nav a::before {
        display: none;
      }

      /* Hilangkan garis bawah di mobile */
      .mobile-nav-toggle {
        display: block;
      }

      /* Tampilkan tombol burger */

      .hero-content h1 {
        font-size: 2.2rem;
      }

      .hero-content p {
        font-size: 1rem;
      }

      .search-section-container {
        margin-left: var(--spacing-unit);
        margin-right: var(--spacing-unit);
      }

      .property-grid {
        grid-template-columns: 1fr;
        /* Satu kolom di mobile */
      }

      .property-card:hover {
        transform: translateY(-5px) scale(1.01);
      }

      /* Efek hover lebih subtle di mobile */
      .section-title {
        font-size: 2rem;
      }
    }

    @media (max-width: 480px) {
      :root {
        --font-size-base: 15px;
      }

      /* Sedikit perkecil font dasar */
      .hero-content h1 {
        font-size: 1.8rem;
      }

      .search-filters {
        grid-template-columns: 1fr;
      }

      .btn {
        padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 2.5);
      }

      .modal-dialog {
        width: 95%;
        padding: calc(var(--spacing-unit) * 2.5);
      }

      .modal-title {
        font-size: 1.5rem;
      }

      .toast-container {
        right: var(--spacing-unit);
        bottom: var(--spacing-unit);
        width: calc(100% - var(--spacing-unit) * 2);
      }

      .toast {
        min-width: unset;
        width: 100%;
      }
    }

    /* --- PREFERS REDUCED MOTION (AKSESIBILITAS) --- */
    @media (prefers-reduced-motion: reduce) {
      html {
        scroll-behavior: auto;
      }

      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>

<body>
  <!-- Header Aplikasi -->
  <header class="app-header">
    <div class="nav-container">
      <a href="#beranda" class="logo nav-link" aria-label="Green Valley Beranda">
        <i class="fas fa-leaf"></i>Green Valley
      </a>
      <nav class="main-nav" id="mainNav">
        <ul>
          <li><a href="#beranda" class="nav-link active">Beranda</a></li>
          <li><a href="#properti" class="nav-link">Properti</a></li>
          <li><a href="#dasbor" class="nav-link">Dasbor</a></li>
          <li><a href="#penyewa" class="nav-link">Penyewa</a></li>
          <li><a href="#keuangan" class="nav-link">Keuangan</a></li>
          <li><a href="#tentang" class="nav-link">Tentang Kami</a></li>
          <li>
            <button id="theme-toggle-btn" class="theme-toggle-button" aria-label="Ganti Tema">
              <i class="fas fa-moon"></i> <!-- Ikon akan diubah oleh JS -->
            </button>
          </li>
        </ul>
      </nav>
      <button class="mobile-nav-toggle" id="mobileNavToggle" aria-label="Toggle navigasi" aria-expanded="false"
        aria-controls="mainNav">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </header>

  <!-- Konten Utama Aplikasi (Single Page Application) -->
  <main id="app-main-content">
    <!-- Bagian Beranda (Hero) -->
    <section id="beranda" class="app-section hero-section active">
      <div class="hero-content">
        <h1>Temukan Hunian Premium Impian Anda</h1>
        <p>Platform sewa apartemen modern dengan lokasi strategis, fasilitas lengkap, dan pengalaman tak tertandingi.
        </p>
        <a href="#properti" class="btn btn-primary btn-lg nav-link">Mulai Jelajahi <i class="fas fa-arrow-right"
            style="margin-left: 8px;"></i></a>
      </div>
    </section>

    <!-- Bagian Properti -->
    <section id="properti" class="app-section">
      <div class="container">
        <h2 class="section-title">Galeri Properti</h2>
        <div class="search-section-container" style="margin-top:0; margin-bottom: calc(var(--spacing-unit) * 4);">
          <form id="property-search-form" class="search-filters">
            <div class="filter-group">
              <label for="location-search">Lokasi</label>
              <input type="text" class="form-control" placeholder="Contoh: Jakarta Pusat" id="location-search">
            </div>
            <div class="filter-group">
              <label for="type-select">Tipe Unit</label>
              <select class="form-control" id="type-select">
                <option value="">Semua Tipe</option>
                <option value="Studio">Studio</option>
                <option value="1 BR">1 Kamar Tidur</option>
                <option value="2 BR">2 Kamar Tidur</option>
                <option value="Penthouse">Penthouse</option>
              </select>
            </div>
            <div class="filter-group">
              <label for="budget-search">Budget Maks (Rp)</label>
              <input type="number" class="form-control" placeholder="Contoh: 15000000" id="budget-search" min="0">
            </div>
            <button type="submit" class="btn btn-primary btn-full-width"
              style="grid-column: 1 / -1; @media (min-width: 768px) { grid-column: auto; }">
              <i class="fas fa-search"></i> Cari
            </button>
          </form>
        </div>
        <div class="property-grid" id="propertyGrid">
          <!-- Kartu properti akan dirender di sini oleh JavaScript -->
          <p id="no-property-found"
            style="display:none; text-align:center; grid-column: 1 / -1; color: var(--color-text-muted);">Properti tidak
            ditemukan. Silakan coba kriteria pencarian lain.</p>
        </div>
      </div>
    </section>

    <!-- Bagian Dasbor -->
    <section id="dasbor" class="app-section">
      <div class="container">
        <h2 class="section-title">Dasbor Analitik</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <i class="fas fa-building"></i>
            <h3>Total Properti</h3>
            <p id="total-properties-stat" class="stat-number">0</p>
          </div>
          <div class="stat-card">
            <i class="fas fa-check-circle"></i>
            <h3>Properti Tersedia</h3>
            <p id="available-properties-stat" class="stat-number">0</p>
          </div>
          <div class="stat-card">
            <i class="fas fa-users"></i>
            <h3>Total Penyewa Aktif</h3>
            <p id="total-tenants-stat" class="stat-number">15</p> <!-- Contoh data statis -->
          </div>
          <div class="stat-card">
            <i class="fas fa-hand-holding-usd"></i>
            <h3>Pendapatan Bulan Ini</h3>
            <p id="monthly-revenue-stat" class="stat-number">Rp 0</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Bagian Penyewa (Placeholder) -->
    <section id="penyewa" class="app-section">
      <div class="container text-center">
        <h2 class="section-title">Manajemen Penyewa</h2>
        <i class="fas fa-users-cog fa-5x"
          style="color: var(--color-primary-light); margin-bottom: var(--spacing-unit);"></i>
        <p>Fitur manajemen penyewa akan segera hadir. Pantau terus untuk pembaruan!</p>
        <p>Di sini Anda akan dapat mengelola data penyewa, kontrak, dan komunikasi.</p>
      </div>
    </section>

    <!-- Bagian Keuangan (Placeholder) -->
    <section id="keuangan" class="app-section">
      <div class="container text-center">
        <h2 class="section-title">Laporan Keuangan</h2>
        <i class="fas fa-file-invoice-dollar fa-5x"
          style="color: var(--color-secondary); margin-bottom: var(--spacing-unit);"></i>
        <p>Fitur laporan keuangan komprehensif sedang dalam pengembangan.</p>
        <p>Lacak pendapatan, pengeluaran, dan profitabilitas properti Anda dengan mudah.</p>
      </div>
    </section>

    <!-- Bagian Tentang Kami (Placeholder) -->
    <section id="tentang" class="app-section">
      <div class="container">
        <h2 class="section-title">Tentang Green Valley</h2>
        <div style="max-width: 800px; margin: auto; text-align: center;">
          <i class="fas fa-info-circle fa-5x"
            style="color: var(--color-accent); margin-bottom: var(--spacing-unit);"></i>
          <p><strong>Green Valley</strong> adalah platform revolusioner yang didedikasikan untuk menyederhanakan proses
            pencarian dan pengelolaan sewa apartemen premium. Kami percaya bahwa menemukan hunian idaman haruslah
            menjadi pengalaman yang menyenangkan dan efisien.</p>
          <p>Tim kami terdiri dari para profesional di bidang properti dan teknologi, berkomitmen untuk menyediakan
            layanan terbaik, antarmuka yang intuitif, dan pilihan properti berkualitas tinggi bagi para pengguna kami.
          </p>
          <p>Visi kami adalah menjadi solusi terdepan untuk kebutuhan hunian modern di Indonesia.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer Aplikasi -->
  <footer class="app-footer">
    <div class="container">
      <div class="social-links">
        <a href="#" aria-label="Facebook Green Valley"><i class="fab fa-facebook-f"></i></a>
        <a href="#" aria-label="Instagram Green Valley"><i class="fab fa-instagram"></i></a>
        <a href="#" aria-label="Twitter Green Valley"><i class="fab fa-twitter"></i></a>
        <a href="#" aria-label="LinkedIn Green Valley"><i class="fab fa-linkedin-in"></i></a>
      </div>
      <p>© <span id="currentYear"></span> Green Valley. Semua Hak Dilindungi Undang-Undang.</p>
      <p>Didesain dengan <i class="fas fa-heart" style="color: var(--color-danger);"></i> untuk kenyamanan Anda.</p>
    </div>
  </footer>

  <!-- Modal untuk Detail Properti (Vanilla JS) -->
  <div id="propertyDetailModal" class="modal-overlay">
    <div class="modal-dialog" role="dialog" aria-labelledby="modalTitle" aria-modal="true">
      <div class="modal-header">
        <h3 id="modalTitle" class="modal-title">Detail Properti</h3>
        <button class="modal-close-btn" aria-label="Tutup Modal">×</button>
      </div>
      <div id="modalBody" class="modal-body">
        <!-- Konten modal akan diisi oleh JavaScript -->
      </div>
    </div>
  </div>

  <!-- Kontainer untuk Toast Notifications (Vanilla JS) -->
  <div class="toast-container" id="toastContainer"></div>

  <script>
    // --- State Aplikasi & Data ---
    const appState = {
      currentTheme: localStorage.getItem('theme') || 'light',
      activeSection: 'beranda',
      properties: [
        { id: 1, name: "Apartemen Sky Garden", location: "Jakarta Pusat", price: 12000000, type: "2 BR", image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?auto=format&fit=crop&w=800&q=60", description: "Apartemen 2 kamar tidur mewah dengan pemandangan kota yang menakjubkan dan akses mudah ke pusat bisnis.", facilities: ["Kolam Renang", "Gymnasium", "Parkir Pribadi", "Keamanan 24 Jam", "Balkon"], status: "tersedia" },
        { id: 2, name: "Urban Oasis Studio", location: "Jakarta Selatan", price: 7500000, type: "Studio", image: "https://images.unsplash.com/photo-1616594039964-ae919c5a0c02?auto=format&fit=crop&w=800&q=60", description: "Studio modern dan stylish, cocok untuk profesional muda. Dilengkapi perabotan lengkap.", facilities: ["WiFi Cepat", "Dapur Modern", "Area Kerja", "Smart TV"], status: "tersedia" },
        { id: 3, name: "The Peak Penthouse", location: "Surabaya Barat", price: 25000000, type: "Penthouse", image: "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?auto=format&fit=crop&w=800&q=60", description: "Penthouse eksklusif dengan 3 kamar tidur, kolam renang pribadi, dan pemandangan panorama kota.", facilities: ["Kolam Pribadi", "Lift Pribadi", "Home Theater", "Jacuzzi", "Layanan Concierge"], status: "disewa" },
        { id: 4, name: "Green Serenity Apartment", location: "Bandung Utara", price: 9000000, type: "1 BR", image: "https://images.unsplash.com/photo-1493809842364-78817add7ffb?auto=format&fit=crop&w=800&q=60", description: "Apartemen 1 kamar tidur yang tenang dan nyaman, dikelilingi kehijauan. Sempurna untuk relaksasi.", facilities: ["Taman Bersama", "Area BBQ", "Jogging Track", "Perpustakaan Mini"], status: "tersedia" },
        { id: 5, name: "City Lights Residence", location: "Medan Kota", price: 6000000, type: "Studio", image: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=800&q=60", description: "Studio kompak di jantung kota Medan. Akses mudah ke transportasi publik dan pusat perbelanjaan.", facilities: ["AC", "Dapur Kecil", "Keamanan", "Akses Kartu"], status: "tersedia" },
        { id: 6, name: "Riverside Luxury Condo", location: "Jakarta Utara", price: 18000000, type: "2 BR", image: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=800&q=60", description: "Kondominium mewah dengan 2 kamar tidur dan pemandangan sungai yang indah. Fasilitas bintang lima.", facilities: ["Infinity Pool", "Sky Lounge", "Spa & Sauna", "Kids Playground", "Restoran"], status: "disewa" },
      ],
      filteredProperties: [], // Akan diisi setelah filter
    };

    // --- Utilitas DOM Helper ---
    const qs = (selector, parent = document) => parent.querySelector(selector);
    const qsa = (selector, parent = document) => parent.querySelectorAll(selector);

    // --- Inisialisasi Aplikasi ---
    document.addEventListener('DOMContentLoaded', () => {
      initTheme();
      initNavigation();
      initMobileNav();
      initPropertySearch();
      renderProperties(appState.properties); // Tampilkan semua properti awal
      updateDashboardStats();
      initModal();
      updateCurrentYear();

      // Atur halaman awal berdasarkan hash atau default ke beranda
      const initialHash = window.location.hash.substring(1) || 'beranda';
      navigateToSection(initialHash, true); // true untuk tidak ada animasi saat load awal
    });

    // --- Manajemen Tema (Terang/Gelap) ---
    function initTheme() {
      const themeToggleBtn = qs('#theme-toggle-btn');
      const htmlElement = document.documentElement;

      // Set tema awal saat load
      if (appState.currentTheme === 'dark') {
        htmlElement.setAttribute('data-theme', 'dark');
        qs('i', themeToggleBtn).classList.replace('fa-moon', 'fa-sun');
      } else {
        htmlElement.setAttribute('data-theme', 'light');
        qs('i', themeToggleBtn).classList.replace('fa-sun', 'fa-moon');
      }
      // Set variabel CSS untuk warna RGB (digunakan di backdrop-filter)
      setThemeRGBVariables(appState.currentTheme);

      themeToggleBtn.addEventListener('click', () => {
        appState.currentTheme = htmlElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        htmlElement.setAttribute('data-theme', appState.currentTheme);
        localStorage.setItem('theme', appState.currentTheme);
        qs('i', themeToggleBtn).classList.toggle('fa-moon');
        qs('i', themeToggleBtn).classList.toggle('fa-sun');
        setThemeRGBVariables(appState.currentTheme);
        showToast(`Tema diubah ke ${appState.currentTheme === 'dark' ? 'Gelap' : 'Terang'}`, 'info');
      });
    }

    function setThemeRGBVariables(theme) {
      // Ini untuk keperluan background dengan opacity, misal di header
      // Ambil warna dari CSS variables dan konversi ke RGB string
      const style = getComputedStyle(document.documentElement);
      if (theme === 'dark') {
        document.documentElement.style.setProperty('--color-surface-rgb', '30, 30, 30');
        document.documentElement.style.setProperty('--color-primary-rgb', '88, 166, 255');

      } else {
        document.documentElement.style.setProperty('--color-surface-rgb', '255, 255, 255');
        document.documentElement.style.setProperty('--color-primary-rgb', '74, 144, 226');
      }
    }


    // --- Navigasi SPA (Single Page Application) ---
    function initNavigation() {
      qsa('.nav-link').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const targetId = link.getAttribute('href').substring(1);
          navigateToSection(targetId);
          // Tutup mobile nav jika terbuka
          const mainNav = qs('#mainNav');
          const mobileNavToggle = qs('#mobileNavToggle i');
          if (mainNav.classList.contains('active')) {
            mainNav.classList.remove('active');
            mobileNavToggle.classList.replace('fa-times', 'fa-bars');
            qs('#mobileNavToggle').setAttribute('aria-expanded', 'false');
          }
        });
      });

      window.addEventListener('hashchange', () => {
        const targetId = window.location.hash.substring(1) || 'beranda';
        navigateToSection(targetId);
      });
    }

    function navigateToSection(targetId, instant = false) {
      if (!qs(`#${targetId}`)) {
        console.warn(`Section dengan ID "${targetId}" tidak ditemukan. Mengarahkan ke Beranda.`);
        targetId = 'beranda'; // Fallback jika section tidak ada
      }

      appState.activeSection = targetId;
      window.location.hash = targetId;

      qsa('.app-section').forEach(section => {
        section.classList.remove('active');
        if (!instant) {
          section.style.animation = 'none'; // Reset animasi agar bisa dipicu lagi
        }
      });

      const activeSectionElement = qs(`#${targetId}`);
      activeSectionElement.classList.add('active');
      if (!instant) {
        // Memicu reflow untuk memastikan animasi berjalan
        void activeSectionElement.offsetWidth;
        activeSectionElement.style.animation = 'fadeIn 0.6s ease-out forwards';
      }


      qsa('.nav-link').forEach(navLink => {
        navLink.classList.remove('active');
        if (navLink.getAttribute('href') === `#${targetId}`) {
          navLink.classList.add('active');
        }
      });

      // Scroll ke atas halaman
      window.scrollTo(0, 0);
    }

    // --- Navigasi Mobile ---
    function initMobileNav() {
      const toggleButton = qs('#mobileNavToggle');
      const mainNav = qs('#mainNav');
      const icon = qs('i', toggleButton);

      toggleButton.addEventListener('click', () => {
        const isActive = mainNav.classList.toggle('active');
        toggleButton.setAttribute('aria-expanded', isActive ? 'true' : 'false');
        if (isActive) {
          icon.classList.replace('fa-bars', 'fa-times');
        } else {
          icon.classList.replace('fa-times', 'fa-bars');
        }
      });
    }

    // --- Render Properti ---
    function renderProperties(propertiesToRender) {
      const propertyGrid = qs('#propertyGrid');
      const noPropertyFoundMessage = qs('#no-property-found');
      propertyGrid.innerHTML = ''; // Kosongkan grid sebelum render

      if (!propertiesToRender || propertiesToRender.length === 0) {
        noPropertyFoundMessage.style.display = 'block';
        return;
      }
      noPropertyFoundMessage.style.display = 'none';

      propertiesToRender.forEach(property => {
        const card = document.createElement('article');
        card.className = 'property-card';
        card.innerHTML = `
                    <div class="property-image-wrapper">
                        <img src="${property.image}" alt="Gambar ${property.name}" loading="lazy">
                        ${property.status === 'tersedia' ? `<span class="property-status-badge">${property.status}</span>` : ''}
                    </div>
                    <div class="property-info">
                        <h3>${property.name}</h3>
                        <p class="location"><i class="fas fa-map-marker-alt"></i> ${property.location}</p>
                        <p class="price"><i class="fas fa-dollar-sign"></i> Rp ${property.price.toLocaleString('id-ID')}/bulan</p>
                        <p class="type"><i class="fas fa-home"></i> Tipe: ${property.type}</p>
                        <div class="property-card-actions">
                            <button class="btn btn-primary btn-full-width view-detail-btn" data-id="${property.id}">
                                <i class="fas fa-info-circle"></i> Lihat Detail
                            </button>
                        </div>
                    </div>
                `;
        propertyGrid.appendChild(card);
      });

      // Tambahkan event listener untuk tombol detail setelah kartu dirender
      qsa('.view-detail-btn', propertyGrid).forEach(button => {
        button.addEventListener('click', (e) => {
          const propertyId = parseInt(e.currentTarget.dataset.id);
          openPropertyModal(propertyId);
        });
      });
    }

    // --- Pencarian & Filter Properti ---
    function initPropertySearch() {
      const searchForm = qs('#property-search-form');
      searchForm.addEventListener('submit', (e) => {
        e.preventDefault();
        filterProperties();
      });
    }

    function filterProperties() {
      const locationQuery = qs('#location-search').value.toLowerCase().trim();
      const typeQuery = qs('#type-select').value;
      const budgetQuery = parseInt(qs('#budget-search').value) || Infinity;

      appState.filteredProperties = appState.properties.filter(property => {
        const matchLocation = !locationQuery || property.location.toLowerCase().includes(locationQuery);
        const matchType = !typeQuery || property.type === typeQuery;
        const matchBudget = property.price <= budgetQuery;
        return matchLocation && matchType && matchBudget;
      });

      renderProperties(appState.filteredProperties);
      if (appState.filteredProperties.length > 0) {
        showToast(`Menampilkan ${appState.filteredProperties.length} properti yang sesuai.`, 'success');
      } else {
        showToast('Tidak ada properti yang sesuai dengan kriteria Anda.', 'warning');
      }
    }

    // --- Modal Detail Properti ---
    function initModal() {
      const modalOverlay = qs('#propertyDetailModal');
      const closeBtn = qs('.modal-close-btn', modalOverlay);

      closeBtn.addEventListener('click', closePropertyModal);
      modalOverlay.addEventListener('click', (e) => {
        if (e.target === modalOverlay) { // Hanya tutup jika klik di overlay, bukan di konten modal
          closePropertyModal();
        }
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
          closePropertyModal();
        }
      });
    }

    function openPropertyModal(propertyId) {
      const property = appState.properties.find(p => p.id === propertyId);
      if (!property) {
        showToast('Detail properti tidak ditemukan.', 'danger');
        return;
      }

      const modalOverlay = qs('#propertyDetailModal');
      const modalTitle = qs('#modalTitle');
      const modalBody = qs('#modalBody');

      modalTitle.textContent = property.name;
      modalBody.innerHTML = `
                <img src="${property.image}" alt="Gambar ${property.name}">
                <p><strong><i class="fas fa-map-marker-alt"></i> Lokasi:</strong> ${property.location}</p>
                <p><strong><i class="fas fa-dollar-sign"></i> Harga:</strong> Rp ${property.price.toLocaleString('id-ID')}/bulan</p>
                <p><strong><i class="fas fa-home"></i> Tipe:</strong> ${property.type}</p>
                <p><strong><i class="fas fa-info-circle"></i> Deskripsi:</strong> ${property.description}</p>
                <p><strong><i class="fas fa-couch"></i> Fasilitas:</strong></p>
                <ul class="facilities-list">
                    ${property.facilities.map(f => `<li><i class="fas fa-check-circle"></i> ${f}</li>`).join('')}
                </ul>
                <br>
                <button class="btn btn-primary btn-full-width" onclick="contactAgent('${property.name}')">
                    <i class="fas fa-phone-alt"></i> Hubungi Agen
                </button>
            `;

      modalOverlay.classList.add('active');
      document.body.style.overflow = 'hidden'; // Mencegah scroll background
    }

    function closePropertyModal() {
      const modalOverlay = qs('#propertyDetailModal');
      modalOverlay.classList.remove('active');
      document.body.style.overflow = ''; // Kembalikan scroll background
    }

    // Fungsi placeholder untuk menghubungi agen
    function contactAgent(propertyName) {
      showToast(`Permintaan untuk menghubungi agen terkait "${propertyName}" telah dikirim!`, 'success');
      closePropertyModal(); // Tutup modal setelah aksi
    }

    // --- Notifikasi Toast ---
    function showToast(message, type = 'info', duration = 3000) {
      // type: success, warning, danger, info
      const toastContainer = qs('#toastContainer');
      const toast = document.createElement('div');
      toast.className = `toast toast-${type}`;

      let iconClass = 'fas fa-info-circle'; // Default icon
      if (type === 'success') iconClass = 'fas fa-check-circle';
      else if (type === 'warning') iconClass = 'fas fa-exclamation-triangle';
      else if (type === 'danger') iconClass = 'fas fa-times-circle';

      toast.innerHTML = `
                <span class="toast-icon"><i class="${iconClass}"></i></span>
                <span>${message}</span>
            `;

      toastContainer.appendChild(toast);

      // Memicu animasi masuk
      requestAnimationFrame(() => {
        toast.classList.add('show');
      });

      setTimeout(() => {
        toast.classList.remove('show');
        // Tunggu animasi keluar selesai sebelum menghapus elemen
        toast.addEventListener('transitionend', () => {
          toast.remove();
        }, { once: true });
      }, duration);
    }

    // --- Update Statistik Dasbor ---
    function updateDashboardStats() {
      const totalProperties = appState.properties.length;
      const availableProperties = appState.properties.filter(p => p.status === 'tersedia').length;
      const totalRevenue = appState.properties
        .filter(p => p.status === 'disewa') // Hanya hitung yang disewa
        .reduce((sum, p) => sum + p.price, 0);

      qs('#total-properties-stat').textContent = totalProperties;
      qs('#available-properties-stat').textContent = availableProperties;
      qs('#monthly-revenue-stat').textContent = `Rp ${totalRevenue.toLocaleString('id-ID')}`;
      // Untuk total penyewa, bisa dihardcode atau ditarik dari data lain jika ada
    }

    // --- Update Tahun di Footer ---
    function updateCurrentYear() {
      qs('#currentYear').textContent = new Date().getFullYear();
    }

    // --- (Opsional) Fungsi utilitas lain bisa ditambahkan di sini ---
    // Contoh: debounce, throttle, dll. jika diperlukan untuk optimasi lebih lanjut.

  </script>
</body>

</html>