<!DOCTYPE html>
<html lang="id" data-theme="light">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Platform manajemen properti modern dengan desain elegan dan fitur lengkap untuk menemukan hunian impian Anda.">
  <meta name="keywords" content="properti, sewa rumah, apartemen, manajemen properti, real estate, hunian modern">
  <meta name="author" content="Green Valley Property Solutions">

  <title>Green Valley | Solusi Properti Modern</title>

  <!-- Favicon -->
  <link rel="icon" href="https://img.icons8.com/fluency/48/000000/building.png" type="image/png">
  <!-- Ganti dengan URL favicon Anda jika ada -->

  <!-- Font & Icons (Google Fonts & Material Icons Round) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">

  <style>
    /* 
    * ==========================================================================
    * VARIABEL CSS (CSS VARIABLES)
    * ==========================================================================
    * Mendefinisikan variabel untuk konsistensi desain, tema (terang/gelap),
    * dan memudahkan kustomisasi di masa mendatang.
    */
    :root {
      /* Palet Warna Utama */
      --primary-color: #4A90E2;
      /* Biru yang Menenangkan */
      --primary-light-color: #7CB3FF;
      --primary-dark-color: #357ABD;
      --secondary-color: #50E3C2;
      /* Hijau Mint Segar */
      --accent-color: #F5A623;
      /* Oranye Hangat */

      /* Warna Netral & Teks */
      --text-color: #333333;
      --text-light-color: #767676;
      --background-color: #F7F9FC;
      --card-background-color: #FFFFFF;
      --border-color: #E0E0E0;

      /* Warna Status */
      --success-color: #28A745;
      --warning-color: #FFC107;
      --danger-color: #DC3545;
      --info-color: #17A2B8;

      /* Efek & Bayangan (Shadows) */
      --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.12);
      --glass-effect: blur(10px) saturate(180%);

      /* Transisi & Animasi */
      --transition-smooth: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      --transition-fast: all 0.15s ease-in-out;
      --transition-bouncy: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);

      /* Spasi (Spacing) & Ukuran */
      --spacing-xs: 0.5rem;
      /* 8px */
      --spacing-sm: 1rem;
      /* 16px */
      --spacing-md: 1.5rem;
      /* 24px */
      --spacing-lg: 2rem;
      /* 32px */
      --spacing-xl: 3rem;
      /* 48px */
      --header-height: 70px;

      /* Radius Sudut (Border Radius) */
      --radius-sm: 6px;
      --radius-md: 10px;
      --radius-lg: 16px;
      --radius-full: 9999px;

      /* Font */
      --font-family-main: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }

    /* Variabel untuk Tema Gelap (Dark Mode) */
    [data-theme="dark"] {
      --primary-color: #58A6FF;
      --primary-light-color: #82BFFF;
      --primary-dark-color: #3E8EE8;
      --secondary-color: #5BE9D0;

      --text-color: #E0E0E0;
      --text-light-color: #A0A0A0;
      --background-color: #1A1B1E;
      /* Latar belakang gelap yang pekat */
      --card-background-color: #2C2D30;
      /* Warna kartu yang sedikit lebih terang */
      --border-color: #444444;

      --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.15);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.25);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    /* 
    * ==========================================================================
    * GAYA DASAR & RESET (BASE STYLES & RESET)
    * ==========================================================================
    * Mereset gaya default browser dan menetapkan dasar untuk elemen.
    */
    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      /* Scroll halaman yang halus */
      font-size: 16px;
      /* Ukuran font dasar untuk unit rem */
    }

    body {
      font-family: var(--font-family-main);
      line-height: 1.65;
      color: var(--text-color);
      background-color: var(--background-color);
      min-height: 100vh;
      overflow-x: hidden;
      /* Mencegah scroll horizontal */
      -webkit-font-smoothing: antialiased;
      /* Teks lebih halus di WebKit */
      -moz-osx-font-smoothing: grayscale;
      /* Teks lebih halus di Firefox */
      transition: background-color var(--transition-smooth), color var(--transition-smooth);
    }

    /* 
    * ==========================================================================
    * TIPOGRAFI (TYPOGRAPHY)
    * ==========================================================================
    * Gaya teks konsisten untuk heading, paragraf, link.
    */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-weight: 700;
      line-height: 1.3;
      margin-bottom: var(--spacing-sm);
      color: var(--text-color);
      /* Pastikan heading juga berubah warna di dark mode */
    }

    h1 {
      font-size: 2.75rem;
    }

    /* ~44px */
    h2 {
      font-size: 2.25rem;
    }

    /* ~36px */
    h3 {
      font-size: 1.75rem;
    }

    /* ~28px */
    h4 {
      font-size: 1.375rem;
    }

    /* ~22px */
    p {
      margin-bottom: var(--spacing-md);
      color: var(--text-light-color);
    }

    a {
      color: var(--primary-color);
      text-decoration: none;
      transition: color var(--transition-fast);
    }

    a:hover,
    a:focus {
      color: var(--primary-dark-color);
      text-decoration: underline;
      outline: none;
      /* Hilangkan outline default, kita akan styling :focus-visible */
    }

    /* 
    * ==========================================================================
    * KELAS UTILITAS (UTILITY CLASSES)
    * ==========================================================================
    * Kelas pembantu serbaguna untuk layout dan styling.
    */
    .container {
      width: 100%;
      max-width: 1280px;
      /* Lebar kontainer maksimum */
      margin: 0 auto;
      padding: 0 var(--spacing-md);
    }

    .section {
      padding: var(--spacing-xl) 0;
    }

    .section-title {
      text-align: center;
      margin-bottom: var(--spacing-lg);
      position: relative;
    }

    .section-title::after {
      /* Dekorasi garis bawah untuk judul seksi */
      content: '';
      display: block;
      width: 80px;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      margin: var(--spacing-sm) auto 0;
      border-radius: var(--radius-full);
      animation: growLine 1s ease-out forwards;
    }

    @keyframes growLine {
      from {
        width: 0;
      }

      to {
        width: 80px;
      }
    }

    .btn {
      display: inline-flex;
      /* Agar ikon dan teks sejajar */
      align-items: center;
      justify-content: center;
      padding: var(--spacing-xs) var(--spacing-md);
      border-radius: var(--radius-md);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition-bouncy);
      border: 2px solid transparent;
      outline: none;
      white-space: nowrap;
      /* Mencegah teks tombol pecah baris */
      gap: var(--spacing-xs);
      /* Jarak antara ikon dan teks */
    }

    .btn-primary {
      background-color: var(--primary-color);
      color: white;
    }

    .btn-primary:hover,
    .btn-primary:focus {
      background-color: var(--primary-dark-color);
      transform: translateY(-3px) scale(1.03);
      box-shadow: var(--shadow-md);
      color: white;
      text-decoration: none;
    }

    .btn-secondary {
      background-color: var(--secondary-color);
      color: var(--text-color);
      /* Warna teks kontras dengan bg sekunder */
    }

    .btn-secondary:hover,
    .btn-secondary:focus {
      background-color: color-mix(in srgb, var(--secondary-color) 80%, black);
      transform: translateY(-3px) scale(1.03);
      box-shadow: var(--shadow-md);
      color: var(--text-color);
      text-decoration: none;
    }

    .btn-outline {
      background-color: transparent;
      color: var(--primary-color);
      border-color: var(--primary-color);
    }

    .btn-outline:hover,
    .btn-outline:focus {
      background-color: var(--primary-color);
      color: white;
      transform: translateY(-3px) scale(1.03);
      box-shadow: var(--shadow-sm);
      text-decoration: none;
    }

    .btn-lg {
      padding: var(--spacing-sm) var(--spacing-lg);
      font-size: 1.125rem;
      /* ~18px */
    }

    /* 
    * ==========================================================================
    * KOMPONEN UTAMA (LAYOUT COMPONENTS)
    * ==========================================================================
    */
    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: var(--header-height);
      background-color: color-mix(in srgb, var(--background-color) 85%, transparent);
      backdrop-filter: var(--glass-effect);
      -webkit-backdrop-filter: var(--glass-effect);
      /* Untuk Safari */
      z-index: 1000;
      box-shadow: var(--shadow-sm);
      transition: height var(--transition-fast), background-color var(--transition-smooth), box-shadow var(--transition-fast);
      display: flex;
      align-items: center;
    }

    .header.scrolled {
      height: calc(var(--header-height) - 10px);
      box-shadow: var(--shadow-md);
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
    }

    .logo {
      font-size: 1.75rem;
      font-weight: 800;
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
      transition: transform var(--transition-fast);
    }

    .logo:hover {
      transform: scale(1.05);
      text-decoration: none;
    }

    .logo-icon {
      font-size: 2rem;
    }

    /* Navigasi */
    .nav-menu {
      display: flex;
      gap: var(--spacing-sm);
      align-items: center;
    }

    .nav-link {
      font-weight: 500;
      color: var(--text-color);
      padding: var(--spacing-xs) var(--spacing-sm);
      border-radius: var(--radius-md);
      transition: var(--transition-smooth);
      position: relative;
      /* Untuk pseudo-element garis bawah */
    }

    .nav-link::after {
      /* Animasi garis bawah saat hover/active */
      content: '';
      position: absolute;
      bottom: -2px;
      left: 50%;
      width: 0;
      height: 2px;
      background-color: var(--primary-color);
      transition: all 0.3s ease-out;
      transform: translateX(-50%);
    }

    .nav-link:hover,
    .nav-link:focus,
    .nav-link.active {
      color: var(--primary-color);
      background-color: color-mix(in srgb, var(--primary-color) 10%, transparent);
      text-decoration: none;
    }

    .nav-link.active::after,
    .nav-link:hover::after,
    .nav-link:focus::after {
      width: 70%;
    }

    .mobile-menu-toggle {
      display: none;
      /* Sembunyikan di desktop */
      background: none;
      border: none;
      color: var(--text-color);
      font-size: 2rem;
      cursor: pointer;
      z-index: 1001;
      /* Di atas menu mobile */
      padding: var(--spacing-xs);
      border-radius: var(--radius-sm);
    }

    .mobile-menu-toggle:hover {
      background-color: color-mix(in srgb, var(--primary-color) 10%, transparent);
    }

    /* Hero Section */
    .hero {
      min-height: 100vh;
      /* Setidaknya setinggi viewport */
      display: flex;
      align-items: center;
      justify-content: center;
      /* Pusatkan konten jika hanya satu kolom */
      padding-top: calc(var(--header-height) + var(--spacing-lg));
      /* Agar tidak tertutup header */
      position: relative;
      overflow: hidden;
      /* Untuk elemen dekoratif */
      background: linear-gradient(135deg, color-mix(in srgb, var(--primary-color) 10%, transparent) 0%, color-mix(in srgb, var(--secondary-color) 10%, transparent) 100%);
    }

    /* Elemen dekoratif (fancy) */
    .hero::before,
    .hero::after {
      content: '';
      position: absolute;
      border-radius: 50%;
      opacity: 0.1;
      pointer-events: none;
      /* Agar tidak menghalangi interaksi */
    }

    .hero::before {
      width: 500px;
      height: 500px;
      background: var(--primary-light-color);
      top: -100px;
      left: -150px;
      animation: pulseShape 10s infinite alternate ease-in-out;
    }

    .hero::after {
      width: 300px;
      height: 300px;
      background: var(--secondary-color);
      bottom: -80px;
      right: -100px;
      animation: pulseShape 12s infinite alternate-reverse ease-in-out;
    }

    @keyframes pulseShape {
      0% {
        transform: scale(0.8) rotate(0deg);
        opacity: 0.05;
      }

      50% {
        transform: scale(1.2) rotate(180deg);
        opacity: 0.15;
      }

      100% {
        transform: scale(0.8) rotate(360deg);
        opacity: 0.05;
      }
    }

    .hero-content {
      max-width: 700px;
      text-align: center;
      z-index: 1;
      /* Di atas elemen dekoratif */
    }

    .hero-title {
      font-size: 3.5rem;
      /* Lebih besar untuk hero */
      font-weight: 800;
      margin-bottom: var(--spacing-md);
      animation: fadeInUp 0.8s ease-out 0.2s backwards;
      /* 'backwards' agar style awal diterapkan */
    }

    .hero-subtitle {
      font-size: 1.375rem;
      margin-bottom: var(--spacing-lg);
      color: var(--text-light-color);
      animation: fadeInUp 0.8s ease-out 0.4s backwards;
    }

    .hero-cta {
      display: flex;
      gap: var(--spacing-md);
      justify-content: center;
      animation: fadeInUp 0.8s ease-out 0.6s backwards;
    }

    /* Grid Properti & Kartu */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(100%, 320px), 1fr));
      /* Responsif & Fancy */
      gap: var(--spacing-lg);
      margin-top: var(--spacing-lg);
    }

    .property-card {
      background-color: var(--card-background-color);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: var(--transition-smooth);
      border: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      /* Agar tombol selalu di bawah */
      animation: scaleUp 0.5s ease-out backwards;
      /* Animasi saat muncul */
    }

    .property-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: var(--shadow-lg);
    }

    /* Untuk delay animasi kartu yang berbeda-beda */
    .property-card:nth-child(1) {
      animation-delay: 0.1s;
    }

    .property-card:nth-child(2) {
      animation-delay: 0.2s;
    }

    .property-card:nth-child(3) {
      animation-delay: 0.3s;
    }

    /* ...dan seterusnya jika ada lebih banyak kartu awal */

    .property-card-image-wrapper {
      position: relative;
      overflow: hidden;
      /* Untuk efek zoom gambar */
      height: 220px;
    }

    .property-card-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      /* Gambar terpotong rapi */
      transition: transform 0.5s ease-out;
    }

    .property-card:hover .property-card-image {
      transform: scale(1.1);
      /* Efek zoom saat hover */
    }

    .property-card-badge {
      position: absolute;
      top: var(--spacing-sm);
      right: var(--spacing-sm);
      background-color: var(--accent-color);
      color: white;
      padding: calc(var(--spacing-xs) / 2) var(--spacing-xs);
      border-radius: var(--radius-sm);
      font-size: 0.8rem;
      font-weight: 600;
      box-shadow: var(--shadow-sm);
    }

    .property-card-content {
      padding: var(--spacing-md);
      flex-grow: 1;
      /* Agar konten mengisi ruang, tombol tetap di bawah */
      display: flex;
      flex-direction: column;
    }

    .property-card-title {
      font-size: 1.375rem;
      margin-bottom: var(--spacing-xs);
    }

    .property-card-location {
      display: flex;
      align-items: center;
      gap: calc(var(--spacing-xs) / 2);
      color: var(--text-light-color);
      margin-bottom: var(--spacing-sm);
      font-size: 0.9rem;
    }

    .property-card-price {
      font-size: 1.6rem;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: var(--spacing-sm);
    }

    .property-card-features {
      display: flex;
      flex-wrap: wrap;
      /* Fitur bisa turun baris jika banyak */
      gap: var(--spacing-sm);
      margin-bottom: var(--spacing-md);
      font-size: 0.875rem;
    }

    .property-card-feature {
      display: flex;
      align-items: center;
      gap: calc(var(--spacing-xs) / 2);
      color: var(--text-light-color);
    }

    .property-card .btn {
      margin-top: auto;
    }

    /* Tombol selalu di bawah */

    /* Testimonials Section */
    .testimonials {
      background: linear-gradient(135deg, var(--primary-color), color-mix(in srgb, var(--primary-color) 70%, var(--secondary-color)));
      color: white;
      position: relative;
      overflow: hidden;
    }

    /* Pola latar belakang testimonial (fancy, no SVG element) */
    .testimonials::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(circle at 20px 20px, rgba(255, 255, 255, 0.07) 1px, transparent 1px),
        radial-gradient(circle at 50px 50px, rgba(255, 255, 255, 0.07) 1px, transparent 1px);
      background-size: 60px 60px;
      opacity: 0.5;
    }

    .testimonials .section-title,
    .testimonials .section-title::after {
      color: white;
    }

    .testimonials .section-title::after {
      background: white;
    }

    .testimonial-slider {
      position: relative;
      max-width: 800px;
      margin: 0 auto;
      min-height: 250px;
      /* Untuk mencegah layout shift */
    }

    .testimonial-slide {
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.6s ease-in-out, visibility 0s 0.6s;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      text-align: center;
    }

    .testimonial-slide.active {
      opacity: 1;
      visibility: visible;
      position: relative;
      /* Kembalikan ke flow dokumen */
      transition: opacity 0.6s ease-in-out;
    }

    .testimonial-text {
      font-size: 1.375rem;
      font-style: italic;
      margin-bottom: var(--spacing-md);
      position: relative;
      line-height: 1.8;
      color: color-mix(in srgb, white 90%, transparent);
    }

    /* Kutipan Fancy */
    .testimonial-text::before {
      content: '“';
      font-family: Georgia, serif;
      font-size: 4rem;
      color: rgba(255, 255, 255, 0.2);
      position: absolute;
      top: -1.5rem;
      left: -1rem;
      line-height: 1;
    }

    .testimonial-author {
      font-weight: 600;
      margin-top: var(--spacing-sm);
      font-size: 1.1rem;
      color: white;
    }

    .slider-controls {
      display: flex;
      justify-content: center;
      gap: var(--spacing-sm);
      margin-top: var(--spacing-lg);
    }

    .dot {
      width: 12px;
      height: 12px;
      border-radius: var(--radius-full);
      background-color: rgba(255, 255, 255, 0.4);
      border: none;
      cursor: pointer;
      transition: var(--transition-fast);
    }

    .dot.active,
    .dot:hover {
      background-color: white;
      transform: scale(1.3);
    }

    /* Contact Section */
    .contact {
      background-color: color-mix(in srgb, var(--background-color) 95%, var(--border-color));
    }

    .contact-grid {
      display: grid;
      grid-template-columns: 1fr;
      /* Default 1 kolom */
      gap: var(--spacing-xl);
      margin-top: var(--spacing-lg);
    }

    @media (min-width: 768px) {

      /* 2 kolom di layar lebih besar */
      .contact-grid {
        grid-template-columns: 1fr 1.5fr;
      }
    }

    .contact-info-item {
      display: flex;
      align-items: flex-start;
      /* Ikon sejajar dengan baris pertama teks */
      gap: var(--spacing-sm);
      margin-bottom: var(--spacing-md);
    }

    .contact-icon {
      font-size: 1.75rem;
      color: var(--primary-color);
      margin-top: 0.25rem;
      /* Penyesuaian vertikal ikon */
      flex-shrink: 0;
      /* Mencegah ikon mengecil */
    }

    .contact-form-card {
      background-color: var(--card-background-color);
      padding: var(--spacing-lg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
    }

    .form-group {
      margin-bottom: var(--spacing-md);
    }

    .form-label {
      display: block;
      margin-bottom: var(--spacing-xs);
      font-weight: 600;
      color: var(--text-color);
    }

    .form-control {
      width: 100%;
      padding: var(--spacing-sm);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      font-family: inherit;
      font-size: 1rem;
      transition: var(--transition-fast);
      background-color: var(--background-color);
      /* Sedikit berbeda dari card bg */
      color: var(--text-color);
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary-color) 20%, transparent);
      background-color: var(--card-background-color);
    }

    textarea.form-control {
      min-height: 150px;
      resize: vertical;
      /* Izinkan resize vertikal saja */
    }

    /* Footer */
    .footer {
      background-color: var(--text-color);
      /* Warna dasar gelap */
      color: color-mix(in srgb, var(--background-color) 70%, transparent);
      /* Teks lebih terang */
      padding: var(--spacing-xl) 0 var(--spacing-md);
    }

    [data-theme="dark"] .footer {
      background-color: #121212;
      /* Lebih gelap lagi untuk dark mode */
      color: var(--text-light-color);
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-xl);
    }

    .footer-title {
      color: var(--card-background-color);
      /* Kontras dengan bg footer */
      margin-bottom: var(--spacing-md);
      font-size: 1.25rem;
    }

    .footer-links {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-xs);
    }

    .footer-link {
      color: inherit;
      /* Mewarisi warna dari .footer */
      transition: var(--transition-fast);
    }

    .footer-link:hover,
    .footer-link:focus {
      color: var(--primary-light-color);
      text-decoration: none;
      transform: translateX(5px);
    }

    .footer-bottom {
      border-top: 1px solid var(--border-color);
      padding-top: var(--spacing-md);
      text-align: center;
      font-size: 0.9rem;
    }

    .social-links {
      display: flex;
      gap: var(--spacing-sm);
      margin-top: var(--spacing-md);
    }

    .social-link {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: var(--radius-full);
      background-color: color-mix(in srgb, var(--border-color) 50%, transparent);
      color: var(--card-background-color);
      transition: var(--transition-bouncy);
      font-size: 1.25rem;
      /* Ukuran ikon sosial */
    }

    .social-link:hover,
    .social-link:focus {
      background-color: var(--primary-color);
      transform: translateY(-3px) scale(1.1);
      color: white;
      text-decoration: none;
    }

    /* 
    * ==========================================================================
    * KOMPONEN INTERAKTIF (INTERACTIVE COMPONENTS)
    * ==========================================================================
    */
    /* Modal */
    .modal-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      backdrop-filter: var(--glass-effect);
      -webkit-backdrop-filter: var(--glass-effect);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition-smooth), visibility 0s var(--transition-smooth);
    }

    .modal-backdrop.show {
      opacity: 1;
      visibility: visible;
      transition-delay: 0s;
    }

    .modal {
      background-color: var(--card-background-color);
      border-radius: var(--radius-lg);
      width: 90%;
      max-width: 600px;
      /* Modal bisa lebih lebar untuk detail */
      max-height: 90vh;
      display: flex;
      /* Untuk layout header, body, footer */
      flex-direction: column;
      box-shadow: var(--shadow-xl);
      transform: translateY(30px) scale(0.95);
      opacity: 0;
      transition: transform var(--transition-bouncy), opacity var(--transition-smooth);
      position: relative;
      /* Untuk tombol close */
    }

    .modal-backdrop.show .modal {
      transform: translateY(0) scale(1);
      opacity: 1;
    }

    .modal-close-btn {
      /* Tombol close yang lebih fancy */
      position: absolute;
      top: var(--spacing-sm);
      right: var(--spacing-sm);
      background: transparent;
      border: none;
      font-size: 1.75rem;
      color: var(--text-light-color);
      cursor: pointer;
      transition: var(--transition-fast);
      padding: var(--spacing-xs);
      line-height: 1;
      /* Agar ikon tidak membuat spasi aneh */
      border-radius: var(--radius-full);
    }

    .modal-close-btn:hover,
    .modal-close-btn:focus {
      color: var(--danger-color);
      transform: rotate(90deg) scale(1.1);
      background-color: color-mix(in srgb, var(--danger-color) 10%, transparent);
    }

    .modal-header {
      padding: var(--spacing-md) var(--spacing-lg);
      border-bottom: 1px solid var(--border-color);
      flex-shrink: 0;
      /* Header tidak mengecil */
    }

    .modal-title {
      margin-bottom: 0;
    }

    .modal-body {
      padding: var(--spacing-lg);
      overflow-y: auto;
      /* Scroll jika konten panjang */
      flex-grow: 1;
      /* Body mengisi sisa ruang */
    }

    .modal-footer {
      padding: var(--spacing-md) var(--spacing-lg);
      border-top: 1px solid var(--border-color);
      display: flex;
      justify-content: flex-end;
      gap: var(--spacing-sm);
      flex-shrink: 0;
      /* Footer tidak mengecil */
    }

    .property-modal-image {
      /* Styling untuk gambar di modal */
      width: 100%;
      height: auto;
      max-height: 300px;
      object-fit: cover;
      border-radius: var(--radius-md);
      margin-bottom: var(--spacing-sm);
    }

    .property-modal-images {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: var(--spacing-sm);
    }


    /* Toast Notifications */
    .toast-container {
      /* Kontainer untuk toast, agar bisa banyak */
      position: fixed;
      bottom: var(--spacing-md);
      right: var(--spacing-md);
      z-index: 3000;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
    }

    .toast {
      background-color: var(--text-color);
      /* Default warna gelap */
      color: var(--background-color);
      /* Teks terang */
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      transform: translateX(120%);
      /* Mulai dari luar layar kanan */
      opacity: 0;
      transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.3s ease-out;
      min-width: 250px;
    }

    .toast.show {
      transform: translateX(0);
      opacity: 1;
    }

    .toast-success {
      background-color: var(--success-color);
      color: white;
    }

    .toast-error {
      background-color: var(--danger-color);
      color: white;
    }

    .toast-warning {
      background-color: var(--warning-color);
      color: #333;
    }

    /* Teks gelap untuk warning */
    .toast-info {
      background-color: var(--info-color);
      color: white;
    }

    .toast-icon {
      font-size: 1.5rem;
    }

    /* Custom Cursor (Fancy Effect) */
    .cursor-dot,
    .cursor-outline {
      position: fixed;
      border-radius: var(--radius-full);
      pointer-events: none;
      /* Sangat penting! */
      transform: translate(-50%, -50%);
      z-index: 9999;
      transition-property: transform, width, height, opacity, background-color;
      transition-timing-function: ease-out;
      will-change: transform, width, height, opacity;
      /* Optimasi performa */
    }

    .cursor-dot {
      /* Titik kecil di tengah */
      width: 8px;
      height: 8px;
      background-color: var(--primary-color);
      transition-duration: 0.1s;
    }

    .cursor-outline {
      /* Lingkaran luar */
      width: 30px;
      height: 30px;
      border: 2px solid color-mix(in srgb, var(--primary-color) 50%, transparent);
      transition-duration: 0.2s;
    }

    body.cursor-hover .cursor-dot {
      opacity: 0.7;
      transform: translate(-50%, -50%) scale(1.5);
    }

    body.cursor-hover .cursor-outline {
      width: 40px;
      height: 40px;
      border-color: var(--primary-color);
      background-color: color-mix(in srgb, var(--primary-color) 20%, transparent);
    }

    /* Theme Toggle Button */
    .theme-toggle {
      position: fixed;
      bottom: var(--spacing-md);
      right: var(--spacing-md);
      /* Default, akan disesuaikan jika toast ada */
      width: 50px;
      height: 50px;
      border-radius: var(--radius-full);
      background-color: var(--primary-color);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      z-index: 1500;
      /* Di atas sebagian besar elemen, di bawah modal */
      transition: var(--transition-bouncy);
      overflow: hidden;
      /* Untuk animasi ikon */
    }

    .theme-toggle:hover,
    .theme-toggle:focus {
      transform: scale(1.1) rotate(15deg);
      background-color: var(--primary-dark-color);
    }

    .theme-icon {
      font-size: 1.75rem;
      position: absolute;
      transition: transform 0.4s ease-in-out, opacity 0.3s ease-in-out;
    }

    .theme-icon.sun {
      transform: translateY(0);
      opacity: 1;
    }

    .theme-icon.moon {
      transform: translateY(100%);
      opacity: 0;
    }

    [data-theme="dark"] .theme-icon.sun {
      transform: translateY(-100%);
      opacity: 0;
    }

    [data-theme="dark"] .theme-icon.moon {
      transform: translateY(0);
      opacity: 1;
    }

    /* 
    * ==========================================================================
    * ANIMASI UMUM (GENERAL ANIMATIONS)
    * ==========================================================================
    */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes scaleUp {
      from {
        opacity: 0;
        transform: scale(0.9);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .animated-on-scroll {
      /* Kelas untuk elemen yang dianimasikan saat scroll */
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .animated-on-scroll.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* 
    * ==========================================================================
    * DESAIN RESPONSIVE (RESPONSIVE DESIGN)
    * ==========================================================================
    * Penyesuaian untuk berbagai ukuran layar.
    */
    @media (max-width: 1024px) {

      /* Tablet dan layar lebih kecil */
      h1 {
        font-size: 2.5rem;
      }

      .hero-title {
        font-size: 3rem;
      }
    }

    @media (max-width: 768px) {

      /* Mobile */
      :root {
        --header-height: 60px;
      }

      /* Header lebih kecil di mobile */

      .mobile-menu-toggle {
        display: flex;
      }

      /* Tampilkan tombol menu mobile */
      .nav-menu {
        /* Menu mobile tersembunyi */
        position: fixed;
        top: var(--header-height);
        right: -100%;
        /* Mulai dari luar layar */
        width: min(80vw, 300px);
        /* Lebar menu mobile */
        height: calc(100vh - var(--header-height));
        background-color: var(--card-background-color);
        flex-direction: column;
        padding: var(--spacing-lg);
        gap: var(--spacing-md);
        box-shadow: var(--shadow-lg);
        transition: right 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        overflow-y: auto;
      }

      .nav-menu.active {
        right: 0;
      }

      /* Tampilkan menu */
      .nav-link {
        width: 100%;
        text-align: left;
      }

      .nav-menu .btn {
        width: 100%;
      }

      /* Tombol login/register full width */

      .hero {
        padding-top: calc(var(--header-height) + var(--spacing-md));
        text-align: center;
      }

      .hero-title {
        font-size: 2.5rem;
      }

      .hero-subtitle {
        font-size: 1.125rem;
      }

      .hero-cta {
        flex-direction: column;
        align-items: center;
      }

      .hero-cta .btn {
        width: 80%;
        max-width: 300px;
      }

      .section {
        padding: var(--spacing-lg) 0;
      }

      .section-title {
        margin-bottom: var(--spacing-md);
        font-size: 1.8rem;
      }

      .card-grid {
        grid-template-columns: 1fr;
      }

      /* 1 kolom di mobile */

      .testimonial-text {
        font-size: 1.125rem;
      }

      .testimonial-text::before {
        font-size: 3rem;
        top: -1rem;
        left: 0.5rem;
      }

      .contact-grid {
        grid-template-columns: 1fr;
      }

      /* Paksa 1 kolom */

      .footer-grid {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .footer-grid>div {
        margin-bottom: var(--spacing-md);
      }

      .social-links {
        justify-content: center;
      }
    }

    /* 
    * ==========================================================================
    * AKSESIBILITAS (ACCESSIBILITY - A11Y)
    * ==========================================================================
    */
    .sr-only {
      /* Hanya untuk pembaca layar */
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    :focus-visible {
      /* Gaya fokus yang jelas untuk navigasi keyboard */
      outline: 3px solid var(--primary-light-color);
      outline-offset: 2px;
      box-shadow: 0 0 0 5px color-mix(in srgb, var(--primary-color) 30%, transparent);
    }

    /* Khusus untuk elemen yang tidak ingin outline default */
    .btn:focus-visible,
    .nav-link:focus-visible,
    .dot:focus-visible,
    .social-link:focus-visible,
    .theme-toggle:focus-visible {
      outline: 3px solid var(--primary-light-color);
      outline-offset: 2px;
    }

    .modal:focus-visible {
      /* Modal harus punya outline juga */
      outline: 3px solid var(--primary-light-color);
      outline-offset: 4px;
      /* Sedikit lebih jauh */
    }

    /* 
    * ==========================================================================
    * PERBAIKAN SPESIFIK BROWSER (BROWSER SPECIFIC FIXES)
    * ==========================================================================
    */
    @supports not (backdrop-filter: blur(10px)) {

      /* Fallback jika backdrop-filter tidak didukung */
      .modal-backdrop {
        background-color: rgba(0, 0, 0, 0.85);
      }

      .header {
        background-color: var(--background-color);
      }
    }
  </style>
</head>

<body>
  <!-- Custom Cursor Elements -->
  <div class="cursor-dot" id="cursorDot"></div>
  <div class="cursor-outline" id="cursorOutline"></div>

  <!-- Header Navigation -->
  <header class="header" id="header">
    <div class="container header-container">
      <a href="#home" class="logo" aria-label="Green Valley - Kembali ke Beranda">
        <span class="material-icons-round logo-icon" aria-hidden="true">villa</span>
        <span>Green Valley</span>
      </a>

      <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Buka menu navigasi" aria-expanded="false"
        aria-controls="navMenu">
        <span class="material-icons-round icon-menu">menu</span>
        <span class="material-icons-round icon-close" style="display:none;">close</span>
      </button>

      <nav class="nav-menu" id="navMenu" aria-label="Navigasi Utama">
        <a href="#home" class="nav-link active">Beranda</a>
        <a href="#properties" class="nav-link">Properti</a>
        <a href="#services" class="nav-link">Layanan</a>
        <a href="#testimonials" class="nav-link">Testimoni</a>
        <a href="#contact" class="nav-link">Kontak</a>
        <button class="btn btn-outline" onclick="showModal('loginModal')">
          <span class="material-icons-round" aria-hidden="true">login</span>
          Masuk
        </button>
      </nav>
    </div>
  </header>

  <!-- Main Content Wrapper -->
  <main id="mainContent">
    <!-- Hero Section -->
    <section id="home" class="hero section" aria-labelledby="hero-title-text">
      <div class="container">
        <div class="hero-content">
          <h1 class="hero-title" id="hero-title-text">Temukan Properti Impian Anda Bersama Kami</h1>
          <p class="hero-subtitle">Solusi properti modern yang dirancang untuk kenyamanan, gaya, dan investasi masa
            depan Anda.</p>
          <div class="hero-cta">
            <button class="btn btn-primary btn-lg" onclick="showModal('searchModal')">
              <span class="material-icons-round" aria-hidden="true">search</span>
              Cari Properti
            </button>
            <button class="btn btn-outline btn-lg" onclick="scrollToSection('properties')">
              <span class="material-icons-round" aria-hidden="true">list_alt</span>
              Lihat Daftar
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Properties Section -->
    <section id="properties" class="section" aria-labelledby="properties-title">
      <div class="container">
        <h2 class="section-title" id="properties-title">Properti Unggulan</h2>
        <div class="card-grid">
          <!-- Kartu Properti 1 -->
          <article class="property-card animated-on-scroll">
            <div class="property-card-image-wrapper">
              <img
                src="https://images.unsplash.com/photo-1512917774080-b3ce147e0d9f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8bW9kZXJuJTIwaG91c2V8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60"
                alt="Apartemen Mewah Pusat Kota" class="property-card-image" loading="lazy">
              <span class="property-card-badge">Baru</span>
            </div>
            <div class="property-card-content">
              <h3 class="property-card-title">Apartemen Mewah Pusat Kota</h3>
              <div class="property-card-location">
                <span class="material-icons-round" aria-hidden="true" style="font-size: 1rem;">location_on</span>
                <span>Jakarta Pusat, DKI Jakarta</span>
              </div>
              <div class="property-card-price">Rp 2.5 M / tahun</div>
              <div class="property-card-features">
                <span class="property-card-feature"><span class="material-icons-round" aria-hidden="true"
                    style="font-size: 1rem;">king_bed</span>2 KT</span>
                <span class="property-card-feature"><span class="material-icons-round" aria-hidden="true"
                    style="font-size: 1rem;">bathtub</span>2 KM</span>
                <span class="property-card-feature"><span class="material-icons-round" aria-hidden="true"
                    style="font-size: 1rem;">square_foot</span>120 m²</span>
              </div>
              <button class="btn btn-outline" onclick="showModal('propertyModal', 'property1')">
                <span class="material-icons-round" aria-hidden="true">visibility</span>
                Lihat Detail
              </button>
            </div>
          </article>
          <!-- Kartu Properti 2 -->
          <article class="property-card animated-on-scroll">
            <div class="property-card-image-wrapper">
              <img
                src="https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fG1vZGVybiUyMGhvdXNlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60"
                alt="Rumah Suburban Modern" class="property-card-image" loading="lazy">
            </div>
            <div class="property-card-content">
              <h3 class="property-card-title">Rumah Suburban Modern</h3>
              <div class="property-card-location">
                <span class="material-icons-round" aria-hidden="true" style="font-size: 1rem;">location_on</span>
                <span>BSD City, Tangerang</span>
              </div>
              <div class="property-card-price">Rp 3.2 M</div>
              <div class="property-card-features">
                <span class="property-card-feature"><span class="material-icons-round" aria-hidden="true"
                    style="font-size: 1rem;">king_bed</span>3+1 KT</span>
                <span class="property-card-feature"><span class="material-icons-round" aria-hidden="true"
                    style="font-size: 1rem;">bathtub</span>2+1 KM</span>
                <span class="property-card-feature"><span class="material-icons-round" aria-hidden="true"
                    style="font-size: 1rem;">square_foot</span>180 m²</span>
              </div>
              <button class="btn btn-outline" onclick="showModal('propertyModal', 'property2')">
                <span class="material-icons-round" aria-hidden="true">visibility</span>
                Lihat Detail
              </button>
            </div>
          </article>
          <!-- Kartu Properti 3 -->
          <article class="property-card animated-on-scroll">
            <div class="property-card-image-wrapper">
              <img
                src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8bW9kZXJuJTIwaG91c2V8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60"
                alt="Penthouse Pemandangan Kota" class="property-card-image" loading="lazy">
              <span class="property-card-badge">Populer</span>
            </div>
            <div class="property-card-content">
              <h3 class="property-card-title">Penthouse Pemandangan Kota</h3>
              <div class="property-card-location">
                <span class="material-icons-round" aria-hidden="true" style="font-size: 1rem;">location_on</span>
                <span>Surabaya Pusat, Jawa Timur</span>
              </div>
              <div class="property-card-price">Rp 4.5 M</div>
              <div class="property-card-features">
                <span class="property-card-feature"><span class="material-icons-round" aria-hidden="true"
                    style="font-size: 1rem;">king_bed</span>3 KT</span>
                <span class="property-card-feature"><span class="material-icons-round" aria-hidden="true"
                    style="font-size: 1rem;">bathtub</span>3 KM</span>
                <span class="property-card-feature"><span class="material-icons-round" aria-hidden="true"
                    style="font-size: 1rem;">square_foot</span>220 m²</span>
              </div>
              <button class="btn btn-outline" onclick="showModal('propertyModal', 'property3')">
                <span class="material-icons-round" aria-hidden="true">visibility</span>
                Lihat Detail
              </button>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="section"
      style="background-color: color-mix(in srgb, var(--background-color) 95%, var(--border-color));"
      aria-labelledby="services-title">
      <div class="container">
        <h2 class="section-title" id="services-title">Layanan Kami</h2>
        <div class="card-grid">
          <article class="property-card animated-on-scroll">
            <div class="property-card-content text-center">
              <span class="material-icons-round"
                style="font-size: 3rem; color: var(--primary-color); margin-bottom: var(--spacing-sm);">manage_accounts</span>
              <h3 class="property-card-title">Manajemen Properti</h3>
              <p>Solusi manajemen komprehensif untuk properti sewaan Anda, mulai dari seleksi penyewa hingga pelaporan
                keuangan.</p>
              <button class="btn btn-secondary"
                onclick="showToast('Detail layanan manajemen properti akan segera hadir!', 'info')">Pelajari Lebih
                Lanjut</button>
            </div>
          </article>
          <article class="property-card animated-on-scroll">
            <div class="property-card-content text-center">
              <span class="material-icons-round"
                style="font-size: 3rem; color: var(--primary-color); margin-bottom: var(--spacing-sm);">real_estate_agent</span>
              <h3 class="property-card-title">Penempatan Penyewa</h3>
              <p>Kami menangani seluruh proses penempatan penyewa, mulai dari pemasaran hingga penandatanganan kontrak
                sewa.</p>
              <button class="btn btn-secondary"
                onclick="showToast('Info penempatan penyewa segera tersedia.', 'info')">Pelajari Lebih Lanjut</button>
            </div>
          </article>
          <article class="property-card animated-on-scroll">
            <div class="property-card-content text-center">
              <span class="material-icons-round"
                style="font-size: 3rem; color: var(--primary-color); margin-bottom: var(--spacing-sm);">insights</span>
              <h3 class="property-card-title">Konsultasi Investasi</h3>
              <p>Saran ahli mengenai investasi properti, analisis pasar, dan optimasi portofolio untuk hasil maksimal.
              </p>
              <button class="btn btn-secondary"
                onclick="showToast('Konsultasi investasi akan kami update segera.', 'info')">Pelajari Lebih
                Lanjut</button>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="section testimonials" aria-labelledby="testimonials-title">
      <div class="container">
        <h2 class="section-title" id="testimonials-title">Apa Kata Klien Kami</h2>
        <div class="testimonial-slider" id="testimonialSlider" role="region" aria-label="Testimoni Klien">
          <!-- Slide akan di-generate oleh JavaScript -->
        </div>
        <div class="slider-controls" id="testimonialDots" role="tablist" aria-label="Navigasi Testimoni">
          <!-- Dots akan di-generate oleh JavaScript -->
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section contact" aria-labelledby="contact-title">
      <div class="container">
        <h2 class="section-title" id="contact-title">Hubungi Kami</h2>
        <div class="contact-grid">
          <div class="contact-info animated-on-scroll">
            <h3>Informasi Kontak</h3>
            <p>Ada pertanyaan tentang properti atau layanan kami? Tim kami siap membantu Anda.</p>
            <div class="contact-info-item">
              <span class="material-icons-round contact-icon" aria-hidden="true">location_city</span>
              <div>
                <h4>Kantor Kami</h4>
                <p>Jl. Properti Indah No. 123, Suite 100<br>Jakarta Selatan, DKI Jakarta 12345</p>
              </div>
            </div>
            <div class="contact-info-item">
              <span class="material-icons-round contact-icon" aria-hidden="true">alternate_email</span>
              <div>
                <h4>Email Kami</h4>
                <p><a href="mailto:info@greenvalley.com">info@greenvalley.com</a><br><a
                    href="mailto:dukungan@greenvalley.com">dukungan@greenvalley.com</a></p>
              </div>
            </div>
            <div class="contact-info-item">
              <span class="material-icons-round contact-icon" aria-hidden="true">phone_in_talk</span>
              <div>
                <h4>Telepon Kami</h4>
                <p><a href="tel:+62215551234">+62 (21) 555-1234</a><br>Senin-Jumat, 09:00 - 17:00 WIB</p>
              </div>
            </div>
          </div>
          <div class="contact-form-card animated-on-scroll">
            <h3>Kirim Pesan kepada Kami</h3>
            <form id="contactForm" novalidate>
              <div class="form-group">
                <label for="contactName" class="form-label">Nama Lengkap</label>
                <input type="text" id="contactName" name="name" class="form-control" required aria-required="true"
                  placeholder="Contoh: Budi Santoso">
              </div>
              <div class="form-group">
                <label for="contactEmail" class="form-label">Alamat Email</label>
                <input type="email" id="contactEmail" name="email" class="form-control" required aria-required="true"
                  placeholder="Contoh: budi@example.com">
              </div>
              <div class="form-group">
                <label for="contactSubject" class="form-label">Subjek</label>
                <input type="text" id="contactSubject" name="subject" class="form-control" required aria-required="true"
                  placeholder="Contoh: Pertanyaan Properti XYZ">
              </div>
              <div class="form-group">
                <label for="contactMessage" class="form-label">Pesan</label>
                <textarea id="contactMessage" name="message" class="form-control" rows="5" required aria-required="true"
                  placeholder="Tulis pesan Anda di sini..."></textarea>
              </div>
              <button type="submit" class="btn btn-primary btn-lg">
                <span class="material-icons-round" aria-hidden="true">send</span>
                Kirim Pesan
              </button>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer" aria-labelledby="footer-title-main">
    <div class="container">
      <div class="footer-grid">
        <div>
          <h3 class="footer-title" id="footer-title-main">Green Valley</h3>
          <p>Solusi properti modern untuk penyewa, pemilik, dan investor.</p>
          <div class="social-links">
            <a href="#" class="social-link" aria-label="Green Valley di Facebook" target="_blank"
              rel="noopener noreferrer"><span class="material-icons-round" aria-hidden="true">facebook</span></a>
            <a href="#" class="social-link" aria-label="Green Valley di Twitter" target="_blank"
              rel="noopener noreferrer"><span class="material-icons-round" aria-hidden="true">flutter_dash</span></a>
            <!-- Menggunakan ikon burung untuk Twitter/X -->
            <a href="#" class="social-link" aria-label="Green Valley di LinkedIn" target="_blank"
              rel="noopener noreferrer"><span class="material-icons-round" aria-hidden="true">linkedin</span></a>
            <a href="#" class="social-link" aria-label="Green Valley di Instagram" target="_blank"
              rel="noopener noreferrer"><span class="material-icons-round" aria-hidden="true">photo_camera</span></a>
            <!-- Menggunakan ikon kamera untuk Instagram -->
          </div>
        </div>
        <div>
          <h3 class="footer-title">Tautan Cepat</h3>
          <nav class="footer-links" aria-label="Navigasi Cepat Footer">
            <a href="#home" class="footer-link">Beranda</a>
            <a href="#properties" class="footer-link">Properti</a>
            <a href="#services" class="footer-link">Layanan</a>
            <a href="#testimonials" class="footer-link">Testimoni</a>
            <a href="#contact" class="footer-link">Kontak</a>
          </nav>
        </div>
        <div>
          <h3 class="footer-title">Sumber Daya</h3>
          <nav class="footer-links" aria-label="Navigasi Sumber Daya Footer">
            <a href="#" class="footer-link">Panduan Menyewa</a>
            <a href="#" class="footer-link">FAQ Manajemen Properti</a>
            <a href="#" class="footer-link">Tips Investasi</a>
            <a href="#" class="footer-link">Blog</a>
          </nav>
        </div>
        <div>
          <h3 class="footer-title">Legal</h3>
          <nav class="footer-links" aria-label="Navigasi Legal Footer">
            <a href="#" class="footer-link">Kebijakan Privasi</a>
            <a href="#" class="footer-link">Ketentuan Layanan</a>
            <a href="#" class="footer-link">Kebijakan Cookie</a>
            <a href="#" class="footer-link">Aksesibilitas</a>
          </nav>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; <span id="currentYear"></span> Green Valley Property Solutions. Semua hak dilindungi.</p>
      </div>
    </div>
  </footer>

  <!-- Modals Collection -->
  <!-- Property Details Modal -->
  <div class="modal-backdrop" id="propertyModal" aria-labelledby="propertyModalTitle" aria-hidden="true" role="dialog">
    <div class="modal" role="document" tabindex="-1">
      <button class="modal-close-btn" onclick="hideModal('propertyModal')" aria-label="Tutup detail properti">
        <span class="material-icons-round" aria-hidden="true">close</span>
      </button>
      <div class="modal-header">
        <h2 class="modal-title" id="propertyModalTitle">Detail Properti</h2>
      </div>
      <div class="modal-body">
        <div id="propertyModalContent">
          <!-- Konten detail properti akan dimuat di sini oleh JavaScript -->
          <p>Memuat detail properti...</p>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="hideModal('propertyModal')">Tutup</button>
        <button class="btn btn-primary" onclick="showModal('contactModal')">
          <span class="material-icons-round" aria-hidden="true">contact_phone</span>
          Hubungi Agen
        </button>
      </div>
    </div>
  </div>

  <!-- Search Modal -->
  <div class="modal-backdrop" id="searchModal" aria-labelledby="searchModalTitle" aria-hidden="true" role="dialog">
    <div class="modal" role="document" tabindex="-1">
      <button class="modal-close-btn" onclick="hideModal('searchModal')" aria-label="Tutup pencarian properti">
        <span class="material-icons-round" aria-hidden="true">close</span>
      </button>
      <div class="modal-header">
        <h2 class="modal-title" id="searchModalTitle">Cari Properti Ideal Anda</h2>
      </div>
      <div class="modal-body">
        <form id="searchForm" novalidate>
          <div class="form-group">
            <label for="searchLocation" class="form-label">Lokasi</label>
            <input type="text" id="searchLocation" class="form-control" placeholder="Kota, Area, atau Kode Pos">
          </div>
          <div class="form-group">
            <label for="searchType" class="form-label">Tipe Properti</label>
            <select id="searchType" class="form-control">
              <option value="">Semua Tipe</option>
              <option value="apartemen">Apartemen</option>
              <option value="rumah">Rumah</option>
              <option value="ruko">Ruko</option>
              <option value="villa">Villa</option>
            </select>
          </div>
          <div class="form-group">
            <label for="searchPrice" class="form-label">Harga Maksimal</label>
            <select id="searchPrice" class="form-control">
              <option value="">Tanpa Batas</option>
              <option value="500000000">Rp 500 Juta</option>
              <option value="1000000000">Rp 1 Miliar</option>
              <option value="2000000000">Rp 2 Miliar</option>
              <option value="5000000000">Rp 5 Miliar+</option>
            </select>
          </div>
          <div class="form-group">
            <label for="searchBedrooms" class="form-label">Jumlah Kamar Tidur</label>
            <select id="searchBedrooms" class="form-control">
              <option value="">Berapapun</option>
              <option value="1">1+</option>
              <option value="2">2+</option>
              <option value="3">3+</option>
              <option value="4">4+</option>
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="hideModal('searchModal')">Batal</button>
        <button class="btn btn-primary" onclick="submitSearchForm()">
          <span class="material-icons-round" aria-hidden="true">search</span>
          Cari
        </button>
      </div>
    </div>
  </div>

  <!-- Login Modal -->
  <div class="modal-backdrop" id="loginModal" aria-labelledby="loginModalTitle" aria-hidden="true" role="dialog">
    <div class="modal" role="document" tabindex="-1">
      <button class="modal-close-btn" onclick="hideModal('loginModal')" aria-label="Tutup form login">
        <span class="material-icons-round" aria-hidden="true">close</span>
      </button>
      <div class="modal-header">
        <h2 class="modal-title" id="loginModalTitle">Masuk ke Akun Anda</h2>
      </div>
      <div class="modal-body">
        <form id="loginForm" novalidate>
          <div class="form-group">
            <label for="loginEmail" class="form-label">Alamat Email</label>
            <input type="email" id="loginEmail" class="form-control" required aria-required="true"
              placeholder="email@anda.com">
          </div>
          <div class="form-group">
            <label for="loginPassword" class="form-label">Kata Sandi</label>
            <input type="password" id="loginPassword" class="form-control" required aria-required="true"
              placeholder="Masukkan kata sandi">
          </div>
          <div class="form-group" style="display: flex; align-items: center; gap: var(--spacing-xs);">
            <input type="checkbox" id="loginRemember" style="width: auto; margin-right: var(--spacing-xs);">
            <label for="loginRemember" class="form-label" style="margin-bottom: 0;">Ingat saya</label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="hideModal('loginModal')">Batal</button>
        <button class="btn btn-primary" onclick="submitLoginForm()">
          <span class="material-icons-round" aria-hidden="true">login</span>
          Masuk
        </button>
      </div>
    </div>
  </div>

  <!-- Contact Agent Modal (mirip contact form, tapi bisa pre-fill subjek) -->
  <div class="modal-backdrop" id="contactModal" aria-labelledby="contactModalTitle" aria-hidden="true" role="dialog">
    <div class="modal" role="document" tabindex="-1">
      <button class="modal-close-btn" onclick="hideModal('contactModal')" aria-label="Tutup form kontak agen">
        <span class="material-icons-round" aria-hidden="true">close</span>
      </button>
      <div class="modal-header">
        <h2 class="modal-title" id="contactModalTitle">Hubungi Agen Properti</h2>
      </div>
      <div class="modal-body">
        <form id="agentContactForm" novalidate>
          <div class="form-group">
            <label for="agentContactName" class="form-label">Nama Lengkap</label>
            <input type="text" id="agentContactName" class="form-control" required placeholder="Nama Anda">
          </div>
          <div class="form-group">
            <label for="agentContactEmail" class="form-label">Email</label>
            <input type="email" id="agentContactEmail" class="form-control" required placeholder="Email Anda">
          </div>
          <div class="form-group">
            <label for="agentContactPhone" class="form-label">Nomor Telepon (Opsional)</label>
            <input type="tel" id="agentContactPhone" class="form-control" placeholder="Nomor telepon Anda">
          </div>
          <div class="form-group">
            <label for="agentContactSubject" class="form-label">Subjek</label>
            <input type="text" id="agentContactSubject" class="form-control" required
              placeholder="Pertanyaan tentang...">
          </div>
          <div class="form-group">
            <label for="agentContactMessage" class="form-label">Pesan</label>
            <textarea id="agentContactMessage" class="form-control" rows="4" required
              placeholder="Detail pertanyaan Anda..."></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="hideModal('contactModal')">Batal</button>
        <button class="btn btn-primary" onclick="submitAgentContactForm()">
          <span class="material-icons-round" aria-hidden="true">send</span>
          Kirim
        </button>
      </div>
    </div>
  </div>


  <!-- Toast Notification Container -->
  <div id="toastContainer" class="toast-container" aria-live="assertive" aria-atomic="true"></div>

  <!-- Theme Toggle Button -->
  <button class="theme-toggle" id="themeToggle" aria-label="Ganti tema terang/gelap">
    <span class="material-icons-round theme-icon sun">light_mode</span>
    <span class="material-icons-round theme-icon moon">dark_mode</span>
  </button>

  <script>
    // "use strict"; // Aktifkan mode ketat untuk penulisan JavaScript yang lebih aman

    // ==========================================================================
    // STATE APLIKASI & KONFIGURASI AWAL
    // ==========================================================================
    const APP_STATE = {
      currentTheme: localStorage.getItem('theme') || 'light',
      isMobileMenuOpen: false,
      currentModal: null,
      currentTestimonialIndex: 0,
      toastTimeout: null,
      lastFocusedElement: null, // Untuk mengembalikan fokus setelah modal ditutup
    };

    // Data Properti (Contoh)
    const PROPERTIES_DATA = {
      property1: {
        title: "Apartemen Mewah Pusat Kota",
        location: "Jakarta Pusat, DKI Jakarta",
        price: "Rp 2.5 M / tahun",
        beds: 2, baths: 2, sqft: 120,
        description: "Apartemen menakjubkan di pusat kota ini menawarkan pemandangan kota yang memukau dan fasilitas modern. Denah terbuka dengan jendela dari lantai ke langit-langit, dapur gourmet dengan peralatan stainless steel, dan suite utama yang luas dengan walk-in closet.",
        features: ["Lantai kayu keras", "Laundry di unit", "Pusat kebugaran", "Dek atap", "Concierge 24/7", "Kolam renang", "Parkir basement"],
        images: [
          "https://images.unsplash.com/photo-1616594039964-ae9021a400a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bW9kZXJuJTIwYXBhcnRtZW50JTIwbGl2aW5ncm9vbXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=400&q=60",
          "https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8bW9kZXJuJTIwYXBhcnRtZW50JTIwa2l0Y2hlbnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=400&q=60",
          "https://images.unsplash.com/photo-1615875605825-5eb9bb5d52ac?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8bW9kZXJuJTIwYXBhcnRtZW50JTIwYmVkcm9vbXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=400&q=60"
        ]
      },
      property2: {
        title: "Rumah Suburban Modern",
        location: "BSD City, Tangerang",
        price: "Rp 3.2 M",
        beds: "3+1", baths: "2+1", sqft: 180,
        description: "Rumah suburban yang dirancang indah dengan konsep terbuka. Termasuk dapur koki, halaman belakang luas dengan teras, dan garasi dua mobil. Terletak di lingkungan yang tenang dengan sekolah-sekolah unggulan.",
        features: ["Lantai marmer", "Dapur modern dengan island", "Taman belakang luas", "Garasi 2 mobil", "Fitur smart home", "Keamanan 24 jam"],
        images: [
          "https://images.unsplash.com/photo-1558002038-105558915c99?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8bW9kZXJuJTIwaG91c2UlMjBsaXZpbmdyb29tfGVufDB8fDB8fHww&auto=format&fit=crop&w=400&q=60",
          "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8bW9kZXJuJTIwaG91c2UlMjBraXRjaGVufGVufDB8fDB8fHww&auto=format&fit=crop&w=400&q=60",
          "https://images.unsplash.com/photo-1585129007097-9a0734225aa9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8bW9kZXJuJTIwaG91c2UlMjBiYWNreWFyZHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=400&q=60"
        ]
      },
      property3: {
        title: "Penthouse Pemandangan Kota",
        location: "Surabaya Pusat, Jawa Timur",
        price: "Rp 4.5 M",
        beds: 3, baths: 3, sqft: 220,
        description: "Penthouse mewah dengan pemandangan kota panorama. Hunian istimewa ini memiliki sentuhan akhir kelas atas, termasuk kabinet kustom, peralatan premium, dan pencahayaan desainer. Suite utama menawarkan kamar mandi seperti spa dan ruang lemari yang luas.",
        features: ["Jendela dari lantai ke langit-langit", "Balkon pribadi luas", "Sistem smart home terintegrasi", "Walk-in closet di setiap kamar", "Layanan concierge pribadi", "Akses lift pribadi"],
        images: [
          "https://images.unsplash.com/photo-1560185127-6ed189bf02f4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGVudGhvdXNlJTIwbGl2aW5ncm9vbXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=400&q=60",
          "https://images.unsplash.com/photo-1628592102751-ba834f07584a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8cGVudGhvdXNlJTIwa2l0Y2hlbnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=400&q=60",
          "https://images.unsplash.com/photo-1598928506311-c55ded91a20c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fHBlbnRob3VzZSUyMHZpZXd8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=400&q=60"
        ]
      }
    };

    // Data Testimoni
    const TESTIMONIALS_DATA = [
      {
        text: "Green Valley membuat pencarian apartemen impian saya menjadi mudah. Tim mereka profesional, responsif, dan benar-benar memahami kebutuhan saya. Seluruh proses berjalan lancar dari awal hingga akhir.",
        author: "Sarah Wijaya, Penyewa",
        avatar: "https://i.pravatar.cc/80?img=1" // Placeholder avatar
      },
      {
        text: "Sebagai pemilik properti, saya sangat puas dengan layanan manajemen Green Valley. Mereka telah meningkatkan pendapatan sewa saya sambil mengurangi kekosongan dan masalah pemeliharaan.",
        author: "Michael Hartono, Pemilik Properti",
        avatar: "https://i.pravatar.cc/80?img=2"
      },
      {
        text: "Konsultasi investasi yang saya terima dari Green Valley membantu saya membangun portofolio real estat yang menguntungkan. Wawasan pasar mereka sangat berharga.",
        author: "David Situmorang, Investor",
        avatar: "https://i.pravatar.cc/80?img=3"
      },
      {
        text: "Saya sangat merekomendasikan Green Valley! Mereka menemukan rumah yang sempurna untuk keluarga saya dalam waktu singkat. Sangat efisien dan ramah!",
        author: "Linda Kusuma, Pencari Rumah",
        avatar: "https://i.pravatar.cc/80?img=4"
      }
    ];

    // ==========================================================================
    // REFERENSI ELEMEN DOM (DOM ELEMENT REFERENCES)
    // ==========================================================================
    // Menggunakan 'const' untuk elemen yang tidak akan di-reassign.
    // Lebih baik mengambil elemen sekali dan menyimpannya jika sering digunakan.
    const DOMElements = {
      html: document.documentElement,
      body: document.body,
      header: document.getElementById('header'),
      navMenu: document.getElementById('navMenu'),
      mobileMenuToggle: document.getElementById('mobileMenuToggle'),
      mobileMenuIcon: document.querySelector('#mobileMenuToggle .icon-menu'),
      mobileCloseIcon: document.querySelector('#mobileMenuToggle .icon-close'),
      themeToggle: document.getElementById('themeToggle'),
      toastContainer: document.getElementById('toastContainer'),
      cursorDot: document.getElementById('cursorDot'),
      cursorOutline: document.getElementById('cursorOutline'),
      contactForm: document.getElementById('contactForm'),
      searchFormElement: document.getElementById('searchForm'), // Diganti namanya agar tidak bentrok
      loginFormElement: document.getElementById('loginForm'), // Diganti namanya agar tidak bentrok
      agentContactFormElement: document.getElementById('agentContactForm'),
      testimonialSlider: document.getElementById('testimonialSlider'),
      testimonialDotsContainer: document.getElementById('testimonialDots'),
      currentYearSpan: document.getElementById('currentYear'),
      mainContent: document.getElementById('mainContent'),
    };

    // ==========================================================================
    // FUNGSI UTILITAS (UTILITY FUNCTIONS)
    // ==========================================================================

    /**
     * Menunda eksekusi fungsi (debounce).
     * @param {Function} func - Fungsi yang akan di-debounce.
     * @param {number} delay - Waktu tunda dalam milidetik.
     * @returns {Function} Fungsi yang sudah di-debounce.
     */
    function debounce(func, delay) {
      let timeout;
      return function (...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(this, args), delay);
      };
    }

    /**
     * Menggulir ke elemen dengan ID tertentu secara halus.
     * @param {string} sectionId - ID elemen target.
     */
    function scrollToSection(sectionId) {
      const section = document.getElementById(sectionId);
      if (section) {
        section.scrollIntoView({ behavior: 'smooth', block: 'start' });
        // Tutup menu mobile jika terbuka setelah klik link navigasi
        if (APP_STATE.isMobileMenuOpen) {
          toggleMobileMenu();
        }
      }
    }

    /**
     * Memvalidasi form sederhana.
     * @param {HTMLFormElement} form - Elemen form yang akan divalidasi.
     * @returns {boolean} True jika valid, false jika tidak.
     */
    function validateForm(form) {
      let isValid = true;
      const inputs = form.querySelectorAll('input[required], textarea[required], select[required]');
      inputs.forEach(input => {
        if ((input.type === 'checkbox' && !input.checked) || (input.type !== 'checkbox' && !input.value.trim())) {
          isValid = false;
          input.style.borderColor = 'var(--danger-color)'; // Contoh visual feedback
          // Anda bisa menambahkan pesan error di sini
        } else {
          input.style.borderColor = 'var(--border-color)'; // Reset border
        }

        if (input.type === 'email' && input.value.trim() && !/^\S+@\S+\.\S+$/.test(input.value)) {
          isValid = false;
          input.style.borderColor = 'var(--danger-color)';
        }
      });
      return isValid;
    }

    // ==========================================================================
    // MANAJEMEN TEMA (THEME MANAGEMENT)
    // ==========================================================================
    /**
     * Menerapkan tema (terang/gelap) ke aplikasi.
     * @param {string} theme - Nama tema ('light' atau 'dark').
     */
    function applyTheme(theme) {
      DOMElements.html.setAttribute('data-theme', theme);
      APP_STATE.currentTheme = theme;
      localStorage.setItem('theme', theme);
      // Update ARIA label untuk theme toggle
      if (DOMElements.themeToggle) {
        DOMElements.themeToggle.setAttribute('aria-label', theme === 'dark' ? 'Ganti ke tema terang' : 'Ganti ke tema gelap');
      }
    }

    /** Mengganti tema saat tombol diklik. */
    function toggleTheme() {
      const newTheme = APP_STATE.currentTheme === 'light' ? 'dark' : 'light';
      applyTheme(newTheme);
    }

    // ==========================================================================
    // NAVIGASI MOBILE (MOBILE NAVIGATION)
    // ==========================================================================
    /** Mengganti status buka/tutup menu mobile. */
    function toggleMobileMenu() {
      APP_STATE.isMobileMenuOpen = !APP_STATE.isMobileMenuOpen;
      DOMElements.navMenu.classList.toggle('active', APP_STATE.isMobileMenuOpen);
      DOMElements.mobileMenuToggle.setAttribute('aria-expanded', APP_STATE.isMobileMenuOpen);

      // Ganti ikon menu
      DOMElements.mobileMenuIcon.style.display = APP_STATE.isMobileMenuOpen ? 'none' : 'block';
      DOMElements.mobileCloseIcon.style.display = APP_STATE.isMobileMenuOpen ? 'block' : 'none';

      // Cegah scroll body saat menu mobile terbuka
      DOMElements.body.style.overflow = APP_STATE.isMobileMenuOpen ? 'hidden' : '';
    }

    // ==========================================================================
    // EFEK HEADER SAAT SCROLL (HEADER SCROLL EFFECT)
    // ==========================================================================
    function handleHeaderScroll() {
      if (window.scrollY > 50) {
        DOMElements.header.classList.add('scrolled');
      } else {
        DOMElements.header.classList.remove('scrolled');
      }
    }

    // ==========================================================================
    // CUSTOM CURSOR (FANCY CURSOR EFFECT)
    // ==========================================================================
    function updateCursorPosition(e) {
      if (DOMElements.cursorDot && DOMElements.cursorOutline) {
        DOMElements.cursorDot.style.left = `${e.clientX}px`;
        DOMElements.cursorDot.style.top = `${e.clientY}px`;
        DOMElements.cursorOutline.style.left = `${e.clientX}px`;
        DOMElements.cursorOutline.style.top = `${e.clientY}px`;
      }
    }
    function activateCursorHover() { DOMElements.body.classList.add('cursor-hover'); }
    function deactivateCursorHover() { DOMElements.body.classList.remove('cursor-hover'); }


    // ==========================================================================
    // MANAJEMEN MODAL (MODAL MANAGEMENT)
    // ==========================================================================
    /**
     * Menampilkan modal.
     * @param {string} modalId - ID elemen modal.
     * @param {string} [contentKey] - Kunci untuk konten dinamis (misal: ID properti).
     */
    function showModal(modalId, contentKey = null) {
      const modal = document.getElementById(modalId);
      if (!modal) {
        console.error(`Modal dengan ID "${modalId}" tidak ditemukan.`);
        return;
      }

      APP_STATE.lastFocusedElement = document.activeElement; // Simpan elemen yang sedang fokus

      // Konten dinamis untuk modal detail properti
      if (modalId === 'propertyModal' && contentKey && PROPERTIES_DATA[contentKey]) {
        const property = PROPERTIES_DATA[contentKey];
        const titleEl = modal.querySelector('#propertyModalTitle');
        const contentEl = modal.querySelector('#propertyModalContent');

        if (titleEl) titleEl.textContent = property.title;
        if (contentEl) {
          let featuresHtml = property.features.map(feature => `<li><span class="material-icons-round" style="font-size:1em; vertical-align:middle; color:var(--secondary-color); margin-right:4px;">check_circle_outline</span>${feature}</li>`).join('');
          let imagesHtml = property.images.map(img => `<img src="${img}" alt="Gambar ${property.title}" class="property-modal-image" loading="lazy">`).join('');

          contentEl.innerHTML = `
            <div class="property-modal-images">${imagesHtml}</div>
            <h4>Lokasi: ${property.location}</h4>
            <p><strong>Harga:</strong> ${property.price}</p>
            <p><strong>Detail:</strong> ${property.beds} KT, ${property.baths} KM, ${property.sqft} m²</p>
            <p>${property.description}</p>
            <h4>Fitur Unggulan:</h4>
            <ul style="list-style: none; padding-left: 0;">${featuresHtml}</ul>
          `;
        }
        // Set subject untuk modal kontak agen jika dibuka dari detail properti
        const agentContactSubjectEl = document.getElementById('agentContactSubject');
        if (agentContactSubjectEl) {
          agentContactSubjectEl.value = `Pertanyaan tentang properti: ${property.title}`;
        }

      } else if (modalId === 'contactModal' && contentKey && PROPERTIES_DATA[contentKey]) {
        // Jika ada ID properti spesifik untuk kontak agen
        const property = PROPERTIES_DATA[contentKey];
        const subjectEl = modal.querySelector('#agentContactSubject');
        if (subjectEl) subjectEl.value = `Pertanyaan mengenai ${property.title}`;
      } else if (modalId === 'contactModal') {
        // Jika modal kontak agen dibuka secara umum
        const subjectEl = modal.querySelector('#agentContactSubject');
        if (subjectEl) subjectEl.value = `Pertanyaan Umum`;
      }


      modal.setAttribute('aria-hidden', 'false');
      modal.classList.add('show');
      DOMElements.body.style.overflow = 'hidden'; // Cegah scroll body
      APP_STATE.currentModal = modal;

      // Fokus ke modal untuk aksesibilitas
      modal.querySelector('.modal').focus();
      // Trap focus di dalam modal
      trapFocus(modal);
    }

    /** Menyembunyikan modal yang sedang aktif. */
    function hideModal(modalId) {
      const modal = document.getElementById(modalId);
      if (!modal || !modal.classList.contains('show')) return;

      modal.setAttribute('aria-hidden', 'true');
      modal.classList.remove('show');
      DOMElements.body.style.overflow = ''; // Kembalikan scroll body
      APP_STATE.currentModal = null;

      // Kembalikan fokus ke elemen sebelumnya
      if (APP_STATE.lastFocusedElement) {
        APP_STATE.lastFocusedElement.focus();
        APP_STATE.lastFocusedElement = null;
      }
    }

    /**
     * Menjaga fokus di dalam modal (Trap Focus).
     * @param {HTMLElement} modalElement - Elemen modal.
     */
    function trapFocus(modalElement) {
      const focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]';
      const focusableElements = modalElement.querySelectorAll(focusableElementsString);
      const firstFocusableElement = focusableElements[0];
      const lastFocusableElement = focusableElements[focusableElements.length - 1];

      modalElement.addEventListener('keydown', function (e) {
        if (e.key === 'Tab' || e.keyCode === 9) {
          if (e.shiftKey) { // Shift + Tab
            if (document.activeElement === firstFocusableElement) {
              lastFocusableElement.focus();
              e.preventDefault();
            }
          } else { // Tab
            if (document.activeElement === lastFocusableElement) {
              firstFocusableElement.focus();
              e.preventDefault();
            }
          }
        }
      });
    }


    // ==========================================================================
    // NOTIFIKASI TOAST (TOAST NOTIFICATIONS)
    // ==========================================================================
    /**
     * Menampilkan notifikasi toast.
     * @param {string} message - Pesan toast.
     * @param {'success'|'error'|'warning'|'info'} type - Tipe toast.
     * @param {number} duration - Durasi tampil (ms).
     */
    function showToast(message, type = 'info', duration = 3000) {
      if (!DOMElements.toastContainer) return;

      const toast = document.createElement('div');
      toast.className = `toast toast-${type}`;
      toast.setAttribute('role', 'alert');
      toast.setAttribute('aria-live', 'assertive'); // Untuk A11Y

      const iconMap = {
        success: 'check_circle',
        error: 'error',
        warning: 'warning',
        info: 'info'
      };

      toast.innerHTML = `
        <span class="material-icons-round toast-icon" aria-hidden="true">${iconMap[type]}</span>
        <span>${message}</span>
      `;

      DOMElements.toastContainer.appendChild(toast);

      // Memicu animasi masuk
      // Menggunakan requestAnimationFrame untuk memastikan elemen sudah di DOM sebelum class 'show' ditambahkan
      requestAnimationFrame(() => {
        toast.classList.add('show');
      });

      // Menghilangkan toast setelah durasi tertentu
      setTimeout(() => {
        toast.classList.remove('show');
        // Hapus elemen dari DOM setelah animasi keluar selesai
        toast.addEventListener('transitionend', () => toast.remove(), { once: true });
      }, duration);
    }

    // ==========================================================================
    // SLIDER TESTIMONI (TESTIMONIAL SLIDER)
    // ==========================================================================
    function renderTestimonials() {
      if (!DOMElements.testimonialSlider || !DOMElements.testimonialDotsContainer) return;

      DOMElements.testimonialSlider.innerHTML = ''; // Kosongkan slider
      DOMElements.testimonialDotsContainer.innerHTML = ''; // Kosongkan dots

      TESTIMONIALS_DATA.forEach((testimonial, index) => {
        const slide = document.createElement('div');
        slide.className = 'testimonial-slide';
        slide.setAttribute('role', 'tabpanel');
        slide.id = `testimonial-slide-${index}`;
        slide.setAttribute('aria-labelledby', `testimonial-dot-${index}`);
        slide.innerHTML = `
                <img src="${testimonial.avatar}" alt="Foto ${testimonial.author}" style="width:80px; height:80px; border-radius:50%; margin-bottom:var(--spacing-sm); border: 3px solid white; box-shadow: var(--shadow-sm);">
                <p class="testimonial-text">${testimonial.text}</p>
                <p class="testimonial-author">— ${testimonial.author}</p>
            `;
        DOMElements.testimonialSlider.appendChild(slide);

        const dot = document.createElement('button');
        dot.className = 'dot';
        dot.setAttribute('role', 'tab');
        dot.id = `testimonial-dot-${index}`;
        dot.setAttribute('aria-controls', `testimonial-slide-${index}`);
        dot.setAttribute('aria-label', `Testimoni dari ${testimonial.author}`);
        dot.setAttribute('data-index', index);
        dot.addEventListener('click', () => showTestimonial(index));
        DOMElements.testimonialDotsContainer.appendChild(dot);
      });
      showTestimonial(0); // Tampilkan slide pertama
    }

    function showTestimonial(index) {
      const slides = DOMElements.testimonialSlider.querySelectorAll('.testimonial-slide');
      const dots = DOMElements.testimonialDotsContainer.querySelectorAll('.dot');

      slides.forEach((slide, i) => {
        const isActive = i === index;
        slide.classList.toggle('active', isActive);
        slide.setAttribute('aria-hidden', !isActive);
      });
      dots.forEach((dot, i) => {
        const isActive = i === index;
        dot.classList.toggle('active', isActive);
        dot.setAttribute('aria-selected', isActive);
      });
      APP_STATE.currentTestimonialIndex = index;
    }

    let testimonialInterval;
    function startTestimonialAutoplay(delay = 7000) {
      stopTestimonialAutoplay(); // Hentikan autoplay sebelumnya jika ada
      testimonialInterval = setInterval(() => {
        const nextIndex = (APP_STATE.currentTestimonialIndex + 1) % TESTIMONIALS_DATA.length;
        showTestimonial(nextIndex);
      }, delay);
    }

    function stopTestimonialAutoplay() {
      clearInterval(testimonialInterval);
    }


    // ==========================================================================
    // PENANGANAN FORMULIR (FORM HANDLING)
    // ==========================================================================
    function handleFormSubmit(formElement, successMessage) {
      if (validateForm(formElement)) {
        showToast(successMessage, 'success');
        formElement.reset(); // Reset form setelah berhasil
        // Jika form ada di dalam modal, tutup modalnya
        const parentModal = formElement.closest('.modal-backdrop');
        if (parentModal) {
          hideModal(parentModal.id);
        }
      } else {
        showToast('Harap isi semua field yang wajib diisi dengan benar.', 'error');
      }
    }

    function submitContactForm(event) {
      event.preventDefault();
      handleFormSubmit(DOMElements.contactForm, 'Pesan Anda telah berhasil dikirim!');
    }
    function submitSearchForm() { // Tidak pakai event karena dipanggil dari tombol modal
      // Untuk demo, kita hanya tampilkan toast. Implementasi pencarian sebenarnya kompleks.
      if (validateForm(DOMElements.searchFormElement)) { // Perlu pastikan elemen form ada
        showToast('Pencarian properti sedang diproses...', 'info');
        hideModal('searchModal');
        // DOMElements.searchFormElement.reset(); // Uncomment jika ingin reset setelah search
      } else {
        showToast('Harap lengkapi filter pencarian.', 'warning');
      }
    }
    function submitLoginForm() {
      if (validateForm(DOMElements.loginFormElement)) {
        showToast('Login berhasil! Selamat datang kembali.', 'success');
        hideModal('loginModal');
        DOMElements.loginFormElement.reset();
      } else {
        showToast('Email atau kata sandi salah, atau field wajib belum diisi.', 'error');
      }
    }
    function submitAgentContactForm() {
      if (validateForm(DOMElements.agentContactFormElement)) {
        showToast('Pesan Anda ke agen telah terkirim!', 'success');
        hideModal('contactModal');
        DOMElements.agentContactFormElement.reset();
      } else {
        showToast('Harap isi semua field yang wajib diisi.', 'error');
      }
    }

    // ==========================================================================
    // ANIMASI SAAT SCROLL (SCROLL ANIMATIONS - INTERSECTION OBSERVER)
    // ==========================================================================
    const scrollAnimatedElements = document.querySelectorAll('.animated-on-scroll');
    const scrollObserver = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          observer.unobserve(entry.target); // Hentikan observasi setelah animasi
        }
      });
    }, { threshold: 0.1 }); // Munculkan saat 10% elemen terlihat

    // ==========================================================================
    // PENGATURAN EVENT LISTENER (EVENT LISTENERS SETUP)
    // ==========================================================================
    function setupEventListeners() {
      // Toggle menu mobile
      if (DOMElements.mobileMenuToggle) {
        DOMElements.mobileMenuToggle.addEventListener('click', toggleMobileMenu);
      }

      // Tutup menu mobile saat klik di luar area menu (jika menu terbuka)
      DOMElements.mainContent.addEventListener('click', () => {
        if (APP_STATE.isMobileMenuOpen) {
          toggleMobileMenu();
        }
      });


      // Efek header saat scroll (didebounce untuk performa)
      window.addEventListener('scroll', debounce(handleHeaderScroll, 50));

      // Custom cursor
      if (DOMElements.cursorDot && DOMElements.cursorOutline) {
        window.addEventListener('mousemove', updateCursorPosition);
        document.querySelectorAll('a, button, .property-card, .dot, .social-link, .theme-toggle, input, textarea, select')
          .forEach(el => {
            el.addEventListener('mouseenter', activateCursorHover);
            el.addEventListener('mouseleave', deactivateCursorHover);
          });
      } else {
        // Sembunyikan cursor jika elemen tidak ada (misalnya, mobile)
        // atau jika pengguna prefer reduced motion.
        if (DOMElements.cursorDot) DOMElements.cursorDot.style.display = 'none';
        if (DOMElements.cursorOutline) DOMElements.cursorOutline.style.display = 'none';
      }

      // Toggle tema
      if (DOMElements.themeToggle) {
        DOMElements.themeToggle.addEventListener('click', toggleTheme);
      }

      // Navigasi smooth scroll & active link highlighting
      document.querySelectorAll('.nav-link[href^="#"]').forEach(link => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const sectionId = this.getAttribute('href').substring(1);
          scrollToSection(sectionId);
          // Update active link
          document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
          this.classList.add('active');
        });
      });

      // Tutup modal saat klik backdrop atau tombol Escape
      document.querySelectorAll('.modal-backdrop').forEach(backdrop => {
        backdrop.addEventListener('click', (e) => {
          if (e.target === backdrop) { // Hanya jika klik langsung pada backdrop
            hideModal(backdrop.id);
          }
        });
      });
      window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && APP_STATE.currentModal) {
          hideModal(APP_STATE.currentModal.id);
        }
      });

      // Form submissions
      if (DOMElements.contactForm) DOMElements.contactForm.addEventListener('submit', submitContactForm);
      // Tombol submit form modal dipanggil via onclick, jadi tidak perlu event listener di sini

      // Testimonial slider interaction (agar autoplay berhenti saat hover)
      if (DOMElements.testimonialSlider) {
        DOMElements.testimonialSlider.addEventListener('mouseenter', stopTestimonialAutoplay);
        DOMElements.testimonialSlider.addEventListener('mouseleave', () => startTestimonialAutoplay());
        // Juga hentikan autoplay saat fokus keyboard di slider atau dots
        DOMElements.testimonialSlider.addEventListener('focusin', stopTestimonialAutoplay);
        DOMElements.testimonialSlider.addEventListener('focusout', () => startTestimonialAutoplay());

        if (DOMElements.testimonialDotsContainer) {
          DOMElements.testimonialDotsContainer.addEventListener('focusin', stopTestimonialAutoplay);
          DOMElements.testimonialDotsContainer.addEventListener('focusout', () => startTestimonialAutoplay());
        }
      }

      // Intersection observer untuk animasi scroll
      scrollAnimatedElements.forEach(el => scrollObserver.observe(el));

      // Update active nav link on scroll
      const sections = document.querySelectorAll('main section[id]');
      window.addEventListener('scroll', debounce(() => {
        let currentSectionId = '';
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          if (pageYOffset >= sectionTop - (DOMElements.header.offsetHeight + 50)) { // Offset sedikit agar lebih akurat
            currentSectionId = section.getAttribute('id');
          }
        });

        document.querySelectorAll('.nav-link').forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${currentSectionId}`) {
            link.classList.add('active');
          }
        });
        // Jika di paling atas, link Beranda yang aktif
        if (pageYOffset < sections[0].offsetTop - (DOMElements.header.offsetHeight + 50)) {
          document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
          const homeLink = document.querySelector('.nav-link[href="#home"]');
          if (homeLink) homeLink.classList.add('active');
        }
      }, 100));

    }

    // ==========================================================================
    // INISIALISASI APLIKASI (APPLICATION INITIALIZATION)
    // ==========================================================================
    function initializeApp() {
      // Terapkan tema awal
      applyTheme(APP_STATE.currentTheme);

      // Set tahun copyright
      if (DOMElements.currentYearSpan) {
        DOMElements.currentYearSpan.textContent = new Date().getFullYear();
      }

      // Render testimoni
      renderTestimonials();
      startTestimonialAutoplay();

      // Pasang semua event listener
      setupEventListeners();

      // Panggil handleHeaderScroll sekali di awal untuk set state header
      handleHeaderScroll();

      // Tambahkan pesan bahwa aplikasi siap
      console.log("Aplikasi Green Valley berhasil dimuat dan siap digunakan.");
      showToast("Selamat datang di Green Valley!", "success", 4000);
    }

    // Jalankan inisialisasi setelah DOM sepenuhnya dimuat
    document.addEventListener('DOMContentLoaded', initializeApp);

  </script>
</body>

</html>