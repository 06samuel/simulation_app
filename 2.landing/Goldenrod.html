<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Green Valley | Sewa Apartemen Premium</title>
  <meta name="description"
    content="Temukan persewaan apartemen mewah di lokasi utama di seluruh dunia dengan Green Valley.">
  <meta name="keywords" content="apartemen mewah, sewa apartemen, properti premium, green valley">
  <meta name="author" content="Green Valley">

  <!-- Favicon (Emoji sebagai alternatif non-SVG) -->
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè†</text></svg>">

  <!-- Preload font kritis -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style"
    onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
  </noscript>

  <style>
    /* ===== VARIABEL CSS GAYA FANCY ===== */
    :root {
      /* Sistem Warna Primer & Sekunder yang Harmonis */
      --primary-color: #0077b6;
      /* Biru laut yang menenangkan */
      --primary-light: #00b4d8;
      /* Biru langit muda */
      --primary-dark: #023e8a;
      /* Biru tua elegan */
      --secondary-color: #fca311;
      /* Oranye keemasan sebagai aksen */
      --accent-color: #48cae4;
      /* Biru cyan cerah */

      /* Warna Netral & Dasar */
      --light-bg: #f8f9fa;
      /* Latar belakang terang bersih */
      --dark-bg: #212529;
      /* Latar belakang gelap kontras */
      --text-light: #e9ecef;
      /* Teks terang di latar gelap */
      --text-dark: #343a40;
      /* Teks gelap di latar terang */
      --text-muted: #6c757d;
      /* Teks abu-abu lembut */
      --white: #ffffff;
      --black: #000000;
      --border-color: #dee2e6;
      /* Warna border halus */

      /* Spasi & Ukuran (Konsisten & Modular) */
      --spacing-unit: 8px;
      --spacing-xs: calc(var(--spacing-unit) * 0.5);
      /* 4px */
      --spacing-sm: var(--spacing-unit);
      /* 8px */
      --spacing-md: calc(var(--spacing-unit) * 2);
      /* 16px */
      --spacing-lg: calc(var(--spacing-unit) * 3);
      /* 24px */
      --spacing-xl: calc(var(--spacing-unit) * 4);
      /* 32px */
      --spacing-xxl: calc(var(--spacing-unit) * 6);
      /* 48px */

      /* Tipografi (Font Inter untuk Kesan Modern) */
      --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      --font-weight-normal: 400;
      --font-weight-medium: 500;
      --font-weight-semibold: 600;
      --font-weight-bold: 700;

      --text-xs: 0.75rem;
      /* 12px */
      --text-sm: 0.875rem;
      /* 14px */
      --text-base: 1rem;
      /* 16px */
      --text-lg: 1.125rem;
      /* 18px */
      --text-xl: 1.25rem;
      /* 20px */
      --text-2xl: 1.5rem;
      /* 24px */
      --text-3xl: 1.875rem;
      /* 30px */
      --text-4xl: 2.25rem;
      /* 36px */
      --text-5xl: 3rem;
      /* 48px */

      /* Efek Visual (Bayangan Halus, Transisi Cair) */
      --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
      --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.07);
      --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.12);
      --transition-base: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-fast: all 0.15s ease-in-out;
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
      --radius-xl: 16px;
      --radius-full: 9999px;

      /* Efek Kaca (Glassmorphism) */
      --glass-effect: saturate(180%) blur(10px);
      --backdrop-blur-sm: blur(4px);
      --backdrop-blur-md: blur(8px);

      /* Z-index (Mengelola Lapisan Tampilan) */
      --z-index-dropdown: 1000;
      --z-index-sticky: 1020;
      --z-index-fixed: 1030;
      --z-index-modal-backdrop: 1040;
      --z-index-modal: 1050;
      --z-index-popover: 1060;
      --z-index-tooltip: 1070;
      --z-index-toast: 1080;
      --z-index-loading: 9999;
    }

    /* ===== GAYA DASAR & RESET ===== */
    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      font-size: 16px;
      /* Basis untuk unit rem */
      -webkit-tap-highlight-color: transparent;
      /* Hilangkan highlight biru di mobile */
    }

    body {
      font-family: var(--font-primary);
      line-height: 1.6;
      color: var(--text-dark);
      background-color: var(--light-bg);
      overflow-x: hidden;
      /* Cegah scroll horizontal */
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      display: flex;
      /* Untuk footer menempel di bawah jika konten pendek */
      flex-direction: column;
      /* Untuk footer menempel di bawah */
      min-height: 100vh;
      /* Untuk footer menempel di bawah */
    }

    main {
      flex-grow: 1;
      /* Agar main content mengisi ruang, mendorong footer ke bawah */
    }

    /* ===== TIPOGRAFI ===== */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-weight: var(--font-weight-bold);
      line-height: 1.3;
      margin-bottom: var(--spacing-md);
      color: var(--primary-dark);
    }

    h1 {
      font-size: var(--text-4xl);
    }

    h2 {
      font-size: var(--text-3xl);
    }

    h3 {
      font-size: var(--text-2xl);
    }

    h4 {
      font-size: var(--text-xl);
    }

    h5 {
      font-size: var(--text-lg);
    }

    h6 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-semibold);
    }

    p {
      margin-bottom: var(--spacing-md);
      color: var(--text-muted);
      max-width: 70ch;
      /* Batasi lebar paragraf untuk keterbacaan */
    }

    a {
      color: var(--primary-color);
      text-decoration: none;
      transition: var(--transition-fast);
    }

    a:hover {
      color: var(--primary-dark);
      text-decoration: underline;
    }

    ul,
    ol {
      margin-bottom: var(--spacing-md);
      padding-left: var(--spacing-lg);
    }

    li {
      margin-bottom: var(--spacing-sm);
    }

    /* ===== KOMPONEN TATA LETAK ===== */
    .container {
      width: 100%;
      max-width: 1280px;
      /* Sedikit lebih lebar untuk desain modern */
      margin-left: auto;
      margin-right: auto;
      padding-left: var(--spacing-lg);
      padding-right: var(--spacing-lg);
    }

    .section {
      padding-top: var(--spacing-xxl);
      padding-bottom: var(--spacing-xxl);
      position: relative;
    }

    .section-title {
      text-align: center;
      margin-bottom: var(--spacing-xl);
      position: relative;
    }

    .section-title::after {
      content: '';
      display: block;
      width: 100px;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      margin: var(--spacing-md) auto 0;
      border-radius: var(--radius-full);
    }

    /* ===== HEADER & NAVIGASI ===== */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: var(--spacing-md) 0;
      background-color: rgba(255, 255, 255, 0.85);
      /* Efek kaca tipis */
      backdrop-filter: var(--glass-effect);
      -webkit-backdrop-filter: var(--glass-effect);
      z-index: var(--z-index-fixed);
      box-shadow: var(--shadow-sm);
      transition: padding var(--transition-base), box-shadow var(--transition-base);
    }

    .header.scrolled {
      padding: var(--spacing-sm) 0;
      box-shadow: var(--shadow-md);
      background-color: rgba(255, 255, 255, 0.95);
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: var(--text-xl);
      font-weight: var(--font-weight-bold);
      color: var(--primary-dark);
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
    }

    .logo-icon {
      /* Menggantikan ::before untuk kontrol yang lebih baik */
      font-size: var(--text-2xl);
      line-height: 1;
    }

    .nav-menu {
      display: flex;
      gap: var(--spacing-md);
      list-style: none;
      align-items: center;
    }

    .nav-link {
      font-weight: var(--font-weight-medium);
      color: var(--text-dark);
      padding: var(--spacing-sm) var(--spacing-md);
      border-radius: var(--radius-md);
      position: relative;
      /* Untuk pseudo-element hover */
    }

    .nav-link::after {
      /* Efek underline fancy saat hover */
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background-color: var(--secondary-color);
      transition: width var(--transition-fast);
      border-radius: var(--radius-full);
    }

    .nav-link:hover,
    .nav-link.active {
      color: var(--primary-color);
      text-decoration: none;
    }

    .nav-link:hover::after,
    .nav-link.active::after {
      width: 60%;
    }

    .mobile-menu-toggle {
      display: none;
      /* Muncul hanya di mobile */
      background: none;
      border: none;
      color: var(--text-dark);
      font-size: var(--text-2xl);
      /* Ukuran ikon burger */
      cursor: pointer;
      padding: var(--spacing-sm);
      border-radius: var(--radius-sm);
      line-height: 1;
      transition: background-color var(--transition-fast), transform var(--transition-fast);
    }

    .mobile-menu-toggle:hover {
      background-color: rgba(0, 0, 0, 0.05);
    }

    .mobile-menu-toggle.active {
      /* Untuk ikon X */
      transform: rotate(90deg);
    }

    /* ===== BAGIAN HERO ===== */
    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      /* Memusatkan konten secara horizontal juga */
      padding-top: 100px;
      /* Ruang untuk header fixed */
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);
      color: var(--white);
    }

    .hero::before {
      /* Efek gelembung animasi halus */
      content: '';
      position: absolute;
      top: -10%;
      right: -10%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      border-radius: 50%;
      animation: heroBubble1 25s linear infinite;
      z-index: 0;
    }

    .hero::after {
      /* Efek gelembung animasi halus lainnya */
      content: '';
      position: absolute;
      bottom: -15%;
      left: -15%;
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.08) 0%, transparent 60%);
      border-radius: 50%;
      animation: heroBubble2 30s linear infinite alternate;
      z-index: 0;
    }

    .hero-content {
      max-width: 800px;
      text-align: center;
      position: relative;
      z-index: 1;
    }

    .hero-title {
      font-size: var(--text-5xl);
      margin-bottom: var(--spacing-lg);
      color: var(--white);
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      animation: fadeInUp 0.8s ease-out;
    }

    .hero-subtitle {
      font-size: var(--text-xl);
      margin-bottom: var(--spacing-xl);
      color: var(--text-light);
      opacity: 0.9;
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }

    .hero-cta {
      display: flex;
      gap: var(--spacing-lg);
      justify-content: center;
      animation: fadeInUp 0.8s ease-out 0.4s both;
    }

    /* ===== TOMBOL (BUTTONS) ===== */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: var(--spacing-md) var(--spacing-lg);
      border-radius: var(--radius-md);
      font-weight: var(--font-weight-semibold);
      font-size: var(--text-base);
      cursor: pointer;
      transition: var(--transition-base);
      border: none;
      outline: none;
      white-space: nowrap;
      position: relative;
      overflow: hidden;
      /* Untuk efek ripple atau shine */
      text-decoration: none;
      /* Untuk tag <a> yang menjadi tombol */
    }

    .btn:focus-visible {
      /* Style fokus yang lebih baik */
      outline: 2px solid var(--primary-dark);
      outline-offset: 2px;
    }

    .btn::before {
      /* Efek kilau saat hover */
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left var(--transition-base);
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn-primary {
      background-color: var(--secondary-color);
      color: var(--dark-bg);
      box-shadow: var(--shadow-sm);
    }

    .btn-primary:hover {
      background-color: #e0900a;
      /* Sedikit lebih gelap dari secondary */
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }

    .btn-outline {
      background-color: transparent;
      color: var(--primary-color);
      /* Defaultnya warna text hero jika di hero */
      border: 2px solid var(--primary-color);
      /* Defaultnya warna border hero */
    }

    .hero .btn-outline {
      /* Khusus tombol outline di hero */
      color: var(--white);
      border-color: var(--white);
    }

    .hero .btn-outline:hover {
      background-color: var(--white);
      color: var(--primary-color);
    }

    .btn-outline:not(.hero .btn-outline):hover {
      /* Tombol outline di luar hero */
      background-color: var(--primary-color);
      color: var(--white);
      box-shadow: var(--shadow-sm);
    }

    .btn-lg {
      padding: var(--spacing-lg) var(--spacing-xl);
      font-size: var(--text-lg);
      border-radius: var(--radius-lg);
    }

    .btn-icon {
      /* Tombol dengan ikon */
      gap: var(--spacing-sm);
    }

    .btn-icon .icon {
      /* Emoji atau karakter ikon */
      font-size: 1.2em;
      line-height: 1;
    }

    /* ===== KARTU PROPERTI ===== */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(100%, 350px), 1fr));
      /* Lebih fleksibel */
      gap: var(--spacing-xl);
      margin-top: var(--spacing-xl);
    }

    .property-card {
      background-color: var(--white);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: transform var(--transition-base), box-shadow var(--transition-base);
      display: flex;
      flex-direction: column;
      border: 1px solid var(--border-color);
    }

    .property-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: var(--shadow-lg);
    }

    .property-card-image-container {
      overflow: hidden;
      height: 250px;
      /* Tinggi gambar lebih besar */
      position: relative;
    }

    .property-card-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
      /* Transisi scale lebih halus */
    }

    .property-card:hover .property-card-image {
      transform: scale(1.1);
    }

    .property-card-content {
      padding: var(--spacing-lg);
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      /* Agar konten mengisi ruang kartu */
    }

    .property-card-title {
      font-size: var(--text-xl);
      margin-bottom: var(--spacing-sm);
      color: var(--primary-dark);
    }

    .property-card-location {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
      color: var(--text-muted);
      margin-bottom: var(--spacing-md);
      font-size: var(--text-sm);
    }

    .property-card-location .icon {
      font-size: 1.1em;
    }

    .property-card-price {
      font-size: var(--text-lg);
      font-weight: var(--font-weight-bold);
      color: var(--secondary-color);
      margin-bottom: var(--spacing-md);
    }

    .property-card-features {
      display: flex;
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
      flex-wrap: wrap;
      font-size: var(--text-sm);
      color: var(--text-muted);
    }

    .property-card-feature {
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
    }

    .property-card-feature .icon {
      font-size: 1.2em;
    }

    .property-card-actions {
      margin-top: auto;
      /* Dorong tombol ke bawah kartu */
    }

    .property-card-badge {
      position: absolute;
      top: var(--spacing-md);
      left: var(--spacing-md);
      /* Ubah ke kiri untuk variasi */
      background-color: var(--accent-color);
      color: var(--white);
      padding: var(--spacing-xs) var(--spacing-md);
      border-radius: var(--radius-sm);
      font-size: var(--text-xs);
      font-weight: var(--font-weight-semibold);
      z-index: 1;
      box-shadow: var(--shadow-xs);
      text-transform: uppercase;
    }

    /* ===== BAGIAN LAYANAN ===== */
    /* Menggunakan gaya kartu properti yang sama untuk konsistensi, dengan sedikit modifikasi jika perlu */
    .service-card {
      /* Jika perlu variasi dari property-card */
      text-align: center;
    }

    .service-card .icon-large {
      /* Ikon besar untuk layanan */
      font-size: var(--text-4xl);
      color: var(--primary-color);
      margin-bottom: var(--spacing-md);
      display: block;
      /* Agar margin bottom bekerja */
    }

    .service-card ul {
      text-align: left;
      list-style-type: '‚úì ';
      /* Emoji sebagai bullet */
      padding-left: var(--spacing-sm);
      /* Sesuaikan padding untuk emoji bullet */
    }

    .service-card ul li {
      padding-left: var(--spacing-xs);
    }


    /* ===== SLIDER TESTIMONIAL ===== */
    .testimonials {
      background-color: var(--primary-dark);
      color: var(--white);
      position: relative;
      overflow: hidden;
    }

    .testimonials .section-title {
      color: var(--white);
    }

    /* Judul section khusus */
    .testimonials .section-title::after {
      background: linear-gradient(90deg, var(--white), var(--accent-color));
    }

    .testimonial-slider {
      position: relative;
      max-width: 700px;
      /* Sedikit lebih ramping */
      margin: 0 auto;
      min-height: 350px;
      /* Ruang yang cukup untuk konten */
      display: flex;
      /* Untuk transisi slide */
      overflow: hidden;
      /* Menyembunyikan slide yang tidak aktif */
    }

    .testimonial-slide {
      min-width: 100%;
      /* Setiap slide mengambil lebar penuh */
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.6s ease-in-out, visibility 0.6s ease-in-out;
      position: absolute;
      /* Overlay slides, only one visible at a time */
      top: 0;
      left: 0;
      width: 100%;
      text-align: center;
      padding: var(--spacing-lg) 0;
      transform: translateX(100%);
      /* Awalnya di luar layar kanan */
    }

    .testimonial-slide.active {
      opacity: 1;
      visibility: visible;
      position: relative;
      /* Agar mengambil ruang */
      transform: translateX(0);
      /* Masuk ke layar */
    }

    .testimonial-slide.exiting {
      /* Untuk animasi keluar yang lebih halus */
      transform: translateX(-100%);
    }

    .testimonial-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto var(--spacing-md);
      border: 3px solid var(--accent-color);
      box-shadow: var(--shadow-sm);
    }

    .testimonial-text {
      font-size: var(--text-lg);
      font-style: italic;
      margin-bottom: var(--spacing-md);
      position: relative;
      line-height: 1.7;
      color: var(--text-light);
    }

    .testimonial-text::before,
    .testimonial-text::after {
      /* Kutipan yang lebih halus */
      content: "‚Äú";
      font-size: 4rem;
      /* Lebih besar */
      color: rgba(255, 255, 255, 0.2);
      position: absolute;
      line-height: 1;
      font-family: Georgia, serif;
    }

    .testimonial-text::before {
      top: -1rem;
      left: -1.5rem;
    }

    .testimonial-text::after {
      content: "‚Äù";
      bottom: -2.5rem;
      right: -1.5rem;
    }

    .testimonial-author {
      font-weight: var(--font-weight-semibold);
      margin-top: var(--spacing-lg);
      color: var(--white);
    }

    .testimonial-author-role {
      font-weight: var(--font-weight-normal);
      font-size: var(--text-sm);
      opacity: 0.8;
      margin-top: var(--spacing-xs);
      color: var(--text-light);
    }

    .slider-controls {
      display: flex;
      justify-content: center;
      gap: var(--spacing-md);
      /* Jarak antar dot lebih besar */
      margin-top: var(--spacing-xl);
    }

    .dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.4);
      border: none;
      cursor: pointer;
      transition: var(--transition-fast), transform var(--transition-fast);
    }

    .dot:hover {
      background-color: rgba(255, 255, 255, 0.7);
      transform: scale(1.2);
    }

    .dot.active {
      background-color: var(--white);
      transform: scale(1.3);
      box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
    }

    /* ===== FORMULIR KONTAK ===== */
    .contact-form-container {
      /* Wadah untuk form dan info kontak tambahan */
      display: grid;
      grid-template-columns: 1fr;
      /* Default 1 kolom */
      gap: var(--spacing-xl);
      align-items: start;
    }

    @media (min-width: 992px) {

      /* 2 kolom di layar besar */
      .contact-form-container {
        grid-template-columns: 2fr 1fr;
      }
    }

    .contact-info {
      padding: var(--spacing-lg);
      background-color: var(--primary-light);
      border-radius: var(--radius-lg);
      color: var(--dark-bg);
    }

    .contact-info h3 {
      color: var(--primary-dark);
    }

    .contact-info p,
    .contact-info a {
      color: var(--dark-bg);
      opacity: 0.9;
    }

    .contact-info .icon {
      margin-right: var(--spacing-sm);
    }

    .contact-form {
      padding: var(--spacing-xl);
      background-color: var(--white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      /* Bayangan lebih menonjol */
    }

    .form-group {
      margin-bottom: var(--spacing-lg);
      position: relative;
    }

    .form-label {
      display: block;
      margin-bottom: var(--spacing-sm);
      font-weight: var(--font-weight-medium);
      color: var(--text-dark);
    }

    .form-control {
      width: 100%;
      padding: var(--spacing-md);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      font-family: inherit;
      font-size: var(--text-base);
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
      background-color: var(--white);
      /* Pastikan background terlihat */
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(var(--primary-color-rgb, 0, 119, 182), 0.25);
      /* Gunakan RGB untuk opacity */
    }

    .form-control::placeholder {
      color: var(--text-muted);
      opacity: 0.7;
    }

    textarea.form-control {
      min-height: 150px;
      resize: vertical;
    }

    .required-asterisk {
      color: var(--secondary-color);
      font-weight: var(--font-weight-bold);
      margin-left: var(--spacing-xs);
    }

    /* ===== FOOTER ===== */
    .footer {
      background-color: var(--dark-bg);
      color: var(--text-light);
      padding: var(--spacing-xxl) 0 var(--spacing-lg);
      margin-top: auto;
      /* Untuk menempel di bawah jika konten pendek */
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: var(--spacing-xl);
      margin-bottom: var(--spacing-xl);
    }

    .footer-column h3 {
      /* Menggunakan h3 untuk judul kolom footer */
      color: var(--white);
      margin-bottom: var(--spacing-lg);
      font-size: var(--text-lg);
      font-weight: var(--font-weight-semibold);
    }

    .footer-links {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
      /* Jarak antar link lebih besar */
    }

    .footer-link {
      color: rgba(255, 255, 255, 0.7);
      transition: color var(--transition-fast), transform var(--transition-fast);
      display: inline-block;
      /* Agar transform bekerja */
    }

    .footer-link:hover {
      color: var(--white);
      text-decoration: none;
      transform: translateX(5px);
    }

    .footer-bottom {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: var(--spacing-xl);
      text-align: center;
      color: rgba(255, 255, 255, 0.6);
      font-size: var(--text-sm);
    }

    .footer-bottom a {
      color: var(--accent-color);
    }

    .footer-bottom a:hover {
      color: var(--white);
    }

    .social-links {
      display: flex;
      gap: var(--spacing-lg);
      /* Jarak antar ikon sosial lebih besar */
      margin-top: var(--spacing-md);
    }

    .social-link {
      color: rgba(255, 255, 255, 0.7);
      font-size: var(--text-xl);
      /* Ukuran ikon sosial lebih besar */
    }

    .social-link:hover {
      color: var(--accent-color);
      transform: translateY(-3px) scale(1.1);
    }

    /* ===== ANIMASI UTILITAS ===== */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes heroBubble1 {
      0% {
        transform: translateY(0) translateX(0) scale(1);
        opacity: 0.1;
      }

      25% {
        transform: translateY(-20px) translateX(15px) scale(1.05);
        opacity: 0.15;
      }

      50% {
        transform: translateY(0) translateX(0) scale(1);
        opacity: 0.1;
      }

      75% {
        transform: translateY(20px) translateX(-15px) scale(0.95);
        opacity: 0.05;
      }

      100% {
        transform: translateY(0) translateX(0) scale(1);
        opacity: 0.1;
      }
    }

    @keyframes heroBubble2 {
      0% {
        transform: scale(0.95);
        opacity: 0.05;
      }

      100% {
        transform: scale(1.05);
        opacity: 0.1;
      }
    }

    @keyframes pulse {

      0%,
      100% {
        transform: scale(1);
        box-shadow: var(--shadow-sm);
      }

      50% {
        transform: scale(1.05);
        box-shadow: var(--shadow-md);
      }
    }

    .pulse {
      animation: pulse 2s ease-in-out infinite;
    }

    /* ===== KELAS UTILITAS ===== */
    .text-center {
      text-align: center;
    }

    .mt-1 {
      margin-top: var(--spacing-xs);
    }

    .mt-2 {
      margin-top: var(--spacing-sm);
    }

    .mt-3 {
      margin-top: var(--spacing-md);
    }

    .mt-4 {
      margin-top: var(--spacing-lg);
    }

    .mt-5 {
      margin-top: var(--spacing-xl);
    }

    .mb-1 {
      margin-bottom: var(--spacing-xs);
    }

    .mb-2 {
      margin-bottom: var(--spacing-sm);
    }

    .mb-3 {
      margin-bottom: var(--spacing-md);
    }

    .mb-4 {
      margin-bottom: var(--spacing-lg);
    }

    .mb-5 {
      margin-bottom: var(--spacing-xl);
    }

    .d-none {
      display: none !important;
    }

    /* Utility untuk menyembunyikan elemen */

    /* ===== LOADING SPINNER (INDIKATOR PEMUATAN) ===== */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.9);
      backdrop-filter: var(--backdrop-blur-md);
      -webkit-backdrop-filter: var(--backdrop-blur-md);
      display: flex;
      /* Defaultnya flex untuk memusatkan spinner */
      justify-content: center;
      align-items: center;
      z-index: var(--z-index-loading);
      opacity: 1;
      visibility: visible;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .loading-overlay.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .loading-spinner {
      display: inline-block;
      width: 60px;
      /* Spinner lebih besar */
      height: 60px;
      border: 5px solid rgba(var(--primary-color-rgb, 0, 119, 182), 0.2);
      border-radius: 50%;
      border-top-color: var(--primary-color);
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* ===== TOAST NOTIFICATION (NOTIFIKASI KILAT) ===== */
    .toast-container {
      position: fixed;
      bottom: var(--spacing-lg);
      right: var(--spacing-lg);
      z-index: var(--z-index-toast);
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
    }

    .toast {
      background-color: var(--dark-bg);
      color: var(--white);
      padding: var(--spacing-md) var(--spacing-lg);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      min-width: 280px;
      max-width: 400px;
      opacity: 0;
      transform: translateX(100%);
      /* Mulai dari luar kanan */
      transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.215, 0.610, 0.355, 1);
      /* Transisi lebih fancy */
    }

    .toast.show {
      opacity: 1;
      transform: translateX(0);
    }

    .toast-success {
      background-color: #28a745;
      /* Hijau sukses */
    }

    .toast-error {
      background-color: #dc3545;
      /* Merah error */
    }

    .toast-info {
      background-color: var(--primary-light);
      color: var(--dark-bg);
    }

    .toast-icon {
      font-size: var(--text-xl);
      line-height: 1;
      flex-shrink: 0;
    }

    /* ===== MODAL ===== */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      /* Latar lebih gelap */
      backdrop-filter: var(--backdrop-blur-sm);
      -webkit-backdrop-filter: var(--backdrop-blur-sm);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: var(--z-index-modal-backdrop);
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition-base), visibility var(--transition-base);
      padding: var(--spacing-lg);
      /* Padding agar modal tidak menempel tepi */
    }

    .modal-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    .modal {
      background-color: var(--white);
      border-radius: var(--radius-xl);
      /* Radius lebih besar */
      width: 100%;
      max-width: 650px;
      /* Modal lebih lebar */
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: var(--shadow-xl);
      transform: translateY(50px) scale(0.95);
      /* Animasi masuk lebih halus */
      opacity: 0;
      transition: transform var(--transition-base), opacity var(--transition-base);
      display: flex;
      flex-direction: column;
    }

    .modal-overlay.show .modal {
      transform: translateY(0) scale(1);
      opacity: 1;
    }

    .modal-header {
      padding: var(--spacing-lg) var(--spacing-xl);
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-size: var(--text-xl);
      color: var(--primary-dark);
      margin-bottom: 0;
      /* Hapus margin default h3 */
    }

    .modal-close {
      background: none;
      border: none;
      font-size: var(--text-2xl);
      /* Tombol close lebih besar */
      cursor: pointer;
      color: var(--text-muted);
      padding: var(--spacing-sm);
      line-height: 1;
      border-radius: var(--radius-full);
      transition: color var(--transition-fast), transform var(--transition-fast), background-color var(--transition-fast);
    }

    .modal-close:hover {
      color: var(--secondary-color);
      transform: rotate(90deg) scale(1.1);
      background-color: rgba(0, 0, 0, 0.05);
    }

    .modal-body {
      padding: var(--spacing-xl);
      flex-grow: 1;
      /* Agar body mengisi ruang jika modal tinggi */
    }

    .modal-footer {
      padding: var(--spacing-lg) var(--spacing-xl);
      border-top: 1px solid var(--border-color);
      display: flex;
      justify-content: flex-end;
      gap: var(--spacing-md);
    }

    /* ===== SCROLL INDICATOR (INDIKATOR GULIR) ===== */
    .scroll-indicator {
      position: fixed;
      bottom: var(--spacing-xl);
      /* Lebih tinggi sedikit */
      left: 50%;
      transform: translateX(-50%);
      z-index: var(--z-index-sticky);
      display: flex;
      flex-direction: column;
      align-items: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .scroll-indicator.visible {
      opacity: 1;
      visibility: visible;
    }

    .scroll-text {
      color: var(--primary-color);
      font-size: var(--text-sm);
      margin-bottom: var(--spacing-sm);
      animation: bounceText 2s infinite ease-in-out;
    }

    .scroll-icon-mouse {
      /* Mengganti nama agar lebih deskriptif */
      width: 28px;
      /* Sedikit lebih besar */
      height: 48px;
      border: 2px solid var(--primary-color);
      border-radius: var(--radius-full);
      position: relative;
    }

    .scroll-icon-mouse::after {
      /* Roda mouse animasi */
      content: '';
      position: absolute;
      top: 8px;
      left: 50%;
      width: 4px;
      height: 8px;
      background: var(--primary-color);
      border-radius: var(--radius-full);
      transform: translateX(-50%);
      animation: scrollWheel 2s infinite cubic-bezier(0.68, -0.55, 0.27, 1.55);
    }

    @keyframes scrollWheel {
      0% {
        transform: translate(-50%, 0);
        opacity: 1;
      }

      50% {
        transform: translate(-50%, 12px);
        opacity: 0.5;
      }

      100% {
        transform: translate(-50%, 24px);
        opacity: 0;
      }
    }

    @keyframes bounceText {

      0%,
      20%,
      50%,
      80%,
      100% {
        transform: translateY(0);
      }

      40% {
        transform: translateY(-8px);
      }

      60% {
        transform: translateY(-4px);
      }
    }

    /* ===== DESAIN RESPONSIVE ===== */
    @media (max-width: 1024px) {
      :root {
        /* Ukuran font sedikit lebih kecil di tablet */
        --text-5xl: 2.5rem;
        --text-4xl: 2rem;
      }

      .hero-title {
        font-size: var(--text-4xl);
      }

      .hero-subtitle {
        font-size: var(--text-lg);
      }
    }

    @media (max-width: 768px) {
      .header {
        padding: var(--spacing-md) 0;
      }

      /* Padding header di mobile */
      .mobile-menu-toggle {
        display: block;
      }

      .nav-menu {
        position: fixed;
        top: 0;
        /* Mulai dari atas */
        right: -100%;
        /* Mulai tersembunyi di kanan */
        width: min(80vw, 300px);
        /* Lebar adaptif */
        height: 100vh;
        background-color: var(--white);
        flex-direction: column;
        padding: var(--spacing-xxl) var(--spacing-lg) var(--spacing-lg);
        box-shadow: var(--shadow-xl);
        transition: right 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        /* Transisi lebih fancy */
        z-index: calc(var(--z-index-fixed) - 1);
        /* Di bawah header, di atas konten */
        align-items: flex-start;
        /* Teks rata kiri */
        gap: var(--spacing-sm);
        /* Jarak antar link menu */
      }

      .nav-menu.active {
        right: 0;
      }

      .nav-link {
        width: 100%;
        padding: var(--spacing-md);
      }

      .nav-link::after {
        display: none;
      }

      /* Sembunyikan efek underline di mobile menu */
      .nav-menu .btn {
        width: 100%;
        margin-top: var(--spacing-md);
      }


      :root {
        --text-4xl: 1.875rem;
        /* 30px */
        --text-3xl: 1.5rem;
        /* 24px */
      }

      .hero {
        padding-top: var(--spacing-xl) + 80px;
        text-align: center;
      }

      .hero-title {
        font-size: var(--text-3xl);
      }

      .hero-subtitle {
        font-size: var(--text-base);
      }

      .hero-cta {
        flex-direction: column;
        align-items: center;
        gap: var(--spacing-md);
      }

      .hero-cta .btn {
        width: 80%;
        max-width: 300px;
      }

      /* Tombol CTA di hero mobile */

      .section {
        padding: var(--spacing-xl) 0;
      }

      .section-title {
        margin-bottom: var(--spacing-lg);
      }

      .card-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-lg);
      }

      /* Kartu selalu 1 kolom di mobile */

      .footer-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--spacing-lg);
      }

      .footer-column {
        margin-bottom: var(--spacing-lg);
      }

      .footer-column:last-child {
        margin-bottom: 0;
      }

      .contact-form-container {
        grid-template-columns: 1fr;
      }

      .contact-info {
        margin-bottom: var(--spacing-xl);
      }

      .modal {
        width: 95%;
        max-height: 85vh;
      }

      /* Modal di mobile */
    }

    @media (max-width: 480px) {
      .container {
        padding-left: var(--spacing-md);
        padding-right: var(--spacing-md);
      }

      .hero-title {
        font-size: var(--text-2xl);
      }

      .hero-subtitle {
        font-size: var(--text-sm);
      }

      .testimonial-text::before {
        left: 0.5rem;
        font-size: 3rem;
      }

      .testimonial-text::after {
        right: 0.5rem;
        font-size: 3rem;
        bottom: -2rem;
      }

      .toast-container {
        left: var(--spacing-md);
        right: var(--spacing-md);
        bottom: var(--spacing-md);
        width: auto;
        /* Agar toast bisa full width jika perlu */
      }

      .toast {
        min-width: unset;
        width: 100%;
      }
    }

    /* CSS untuk gambar yang sudah dimuat (lazy loaded) */
    .lazy.loaded {
      animation: fadeInImage 0.5s ease-in-out;
    }

    @keyframes fadeInImage {
      from {
        opacity: 0.3;
        filter: blur(5px);
      }

      to {
        opacity: 1;
        filter: blur(0);
      }
    }
  </style>
</head>

<body>
  <!-- Overlay Pemuatan Halaman -->
  <div class="loading-overlay" id="loadingOverlay" aria-live="assertive" aria-atomic="true">
    <div class="loading-spinner" role="status" aria-label="Memuat konten..."></div>
  </div>

  <!-- Indikator Gulir (Scroll) -->
  <div class="scroll-indicator" id="scrollIndicator" aria-hidden="true">
    <span class="scroll-text">Gulir ke Bawah</span>
    <div class="scroll-icon-mouse"></div>
  </div>

  <!-- Navigasi Header -->
  <header class="header" id="header" role="banner">
    <div class="container header-container">
      <a href="#home" class="logo" aria-label="Green Valley Beranda">
        <span class="logo-icon" aria-hidden="true">üè†</span> Green Valley
      </a>

      <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Buka menu navigasi" aria-controls="navMenu"
        aria-expanded="false">
        <span aria-hidden="true">‚ò∞</span>
      </button>

      <nav class="nav-menu" id="navMenu" role="navigation" aria-label="Navigasi Utama">
        <a href="#home" class="nav-link active">Beranda</a>
        <a href="#properties" class="nav-link">Properti</a>
        <a href="#services" class="nav-link">Layanan</a>
        <a href="#testimonials" class="nav-link">Testimoni</a>
        <a href="#contact" class="nav-link">Kontak</a>
        <button class="btn btn-outline" type="button" id="loginButton">
          <span class="icon" aria-hidden="true">üîë</span> Login
        </button>
      </nav>
    </div>
  </header>

  <!-- Konten Utama -->
  <main id="mainContent">
    <!-- Bagian Hero -->
    <section id="home" class="hero section" aria-labelledby="hero-title-main">
      <div class="container">
        <div class="hero-content">
          <h1 class="hero-title" id="hero-title-main">Temukan Apartemen Mewah Impian Anda</h1>
          <p class="hero-subtitle">Ruang hidup premium di lokasi paling diminati di seluruh dunia, dengan layanan tak
            tertandingi.</p>
          <div class="hero-cta">
            <button class="btn btn-primary btn-lg pulse" id="searchPropertiesButton">
              <span class="icon" aria-hidden="true">üîç</span> Cari Properti
            </button>
            <a href="#properties" class="btn btn-outline btn-lg">
              <span class="icon" aria-hidden="true">üèòÔ∏è</span> Lihat Daftar
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Bagian Properti Unggulan -->
    <section id="properties" class="section" aria-labelledby="properties-title">
      <div class="container">
        <h2 class="section-title" id="properties-title">Properti Unggulan Kami</h2>
        <div class="card-grid">
          <!-- Kartu Properti 1 -->
          <article class="property-card" aria-labelledby="property-title-1">
            <span class="property-card-badge">Baru</span>
            <div class="property-card-image-container">
              <img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /* 1x1
                transparent gif */ data-src="https://picsum.photos/seed/gvprop1/800/600"
                alt="Apartemen Penthouse dengan Pemandangan Kota" loading="lazy" class="property-card-image lazy">
            </div>
            <div class="property-card-content">
              <h3 class="property-card-title" id="property-title-1">Skyline Penthouse</h3>
              <div class="property-card-location">
                <span class="icon" aria-hidden="true">üìç</span>
                <span>New York, NY</span>
              </div>
              <div class="property-card-price">$5.200/bulan</div>
              <div class="property-card-features">
                <span class="property-card-feature" aria-label="3 Kamar Tidur">
                  <span class="icon" aria-hidden="true">üõèÔ∏è</span> 3 KT
                </span>
                <span class="property-card-feature" aria-label="2.5 Kamar Mandi">
                  <span class="icon" aria-hidden="true">üöø</span> 2.5 KM
                </span>
                <span class="property-card-feature" aria-label="Luas 1800 kaki persegi">
                  <span class="icon" aria-hidden="true">üìè</span> 1800 sqft
                </span>
              </div>
              <div class="property-card-actions">
                <button class="btn btn-outline" data-property-id="1">
                  <span class="icon" aria-hidden="true">‚ÑπÔ∏è</span> Lihat Detail
                </button>
              </div>
            </div>
          </article>

          <!-- Kartu Properti 2 -->
          <article class="property-card" aria-labelledby="property-title-2">
            <div class="property-card-image-container">
              <img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="
                data-src="https://picsum.photos/seed/gvprop2/800/600" alt="Loft Modern di Pusat Kota" loading="lazy"
                class="property-card-image lazy">
            </div>
            <div class="property-card-content">
              <h3 class="property-card-title" id="property-title-2">Urban Loft Modern</h3>
              <div class="property-card-location">
                <span class="icon" aria-hidden="true">üìç</span>
                <span>San Francisco, CA</span>
              </div>
              <div class="property-card-price">$4.500/bulan</div>
              <div class="property-card-features">
                <span class="property-card-feature" aria-label="2 Kamar Tidur"><span class="icon"
                    aria-hidden="true">üõèÔ∏è</span> 2 KT</span>
                <span class="property-card-feature" aria-label="2 Kamar Mandi"><span class="icon"
                    aria-hidden="true">üöø</span> 2 KM</span>
                <span class="property-card-feature" aria-label="Luas 1200 kaki persegi"><span class="icon"
                    aria-hidden="true">üìè</span> 1200 sqft</span>
              </div>
              <div class="property-card-actions">
                <button class="btn btn-outline" data-property-id="2">
                  <span class="icon" aria-hidden="true">‚ÑπÔ∏è</span> Lihat Detail
                </button>
              </div>
            </div>
          </article>

          <!-- Kartu Properti 3 -->
          <article class="property-card" aria-labelledby="property-title-3">
            <span class="property-card-badge">Populer</span>
            <div class="property-card-image-container">
              <img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="
                data-src="https://picsum.photos/seed/gvprop3/800/600" alt="Residensi Mewah Tepi Pantai" loading="lazy"
                class="property-card-image lazy">
            </div>
            <div class="property-card-content">
              <h3 class="property-card-title" id="property-title-3">Waterfront Residence</h3>
              <div class="property-card-location">
                <span class="icon" aria-hidden="true">üìç</span>
                <span>Miami, FL</span>
              </div>
              <div class="property-card-price">$6.800/bulan</div>
              <div class="property-card-features">
                <span class="property-card-feature" aria-label="4 Kamar Tidur"><span class="icon"
                    aria-hidden="true">üõèÔ∏è</span> 4 KT</span>
                <span class="property-card-feature" aria-label="3.5 Kamar Mandi"><span class="icon"
                    aria-hidden="true">üöø</span> 3.5 KM</span>
                <span class="property-card-feature" aria-label="Luas 2200 kaki persegi"><span class="icon"
                    aria-hidden="true">üìè</span> 2200 sqft</span>
              </div>
              <div class="property-card-actions">
                <button class="btn btn-outline" data-property-id="3">
                  <span class="icon" aria-hidden="true">‚ÑπÔ∏è</span> Lihat Detail
                </button>
              </div>
            </div>
          </article>
        </div>
        <div class="text-center mt-5">
          <a href="#contact" class="btn btn-primary btn-lg">
            <span class="icon" aria-hidden="true">üìû</span> Hubungi Kami Untuk Daftar Lainnya
          </a>
        </div>
      </div>
    </section>

    <!-- Bagian Layanan Premium -->
    <section id="services" class="section" aria-labelledby="services-title">
      <div class="container">
        <h2 class="section-title" id="services-title">Layanan Premium Kami</h2>
        <div class="card-grid">
          <!-- Kartu Layanan 1 -->
          <article class="property-card service-card" aria-labelledby="service-title-1">
            <div class="property-card-content">
              <span class="icon-large" aria-hidden="true">üõéÔ∏è</span>
              <h3 class="property-card-title" id="service-title-1">Layanan Concierge</h3>
              <p>Tim concierge kami siap 24/7 untuk menangani reservasi restoran, perencanaan acara, dan kebutuhan
                pribadi Anda.</p>
              <ul>
                <li>Asisten pribadi</li>
                <li>Pengaturan perjalanan</li>
                <li>Akses eksklusif ke acara</li>
              </ul>
            </div>
          </article>
          <!-- Kartu Layanan 2 -->
          <article class="property-card service-card" aria-labelledby="service-title-2">
            <div class="property-card-content">
              <span class="icon-large" aria-hidden="true">üé®</span>
              <h3 class="property-card-title" id="service-title-2">Desain Interior Kustom</h3>
              <p>Personalisasi ruang Anda dengan layanan desain interior profesional kami, disesuaikan dengan gaya unik
                Anda.</p>
              <ul>
                <li>Pemilihan furnitur premium</li>
                <li>Kurasi karya seni</li>
                <li>Integrasi rumah pintar</li>
              </ul>
            </div>
          </article>
          <!-- Kartu Layanan 3 -->
          <article class="property-card service-card" aria-labelledby="service-title-3">
            <div class="property-card-content">
              <span class="icon-large" aria-hidden="true">üõ†Ô∏è</span>
              <h3 class="property-card-title" id="service-title-3">Perawatan Premium</h3>
              <p>Nikmati hidup tanpa repot dengan layanan perawatan kami yang menjaga properti Anda dalam kondisi
                sempurna.</p>
              <ul>
                <li>Perbaikan darurat 24/7</li>
                <li>Pembersihan mendalam reguler</li>
                <li>Layanan tata graha & lansekap</li>
              </ul>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Bagian Testimoni -->
    <section id="testimonials" class="section testimonials" aria-labelledby="testimonials-title">
      <div class="container">
        <h2 class="section-title" id="testimonials-title">Apa Kata Klien Kami</h2>
        <div class="testimonial-slider" id="testimonialSlider" aria-live="polite">
          <!-- Slide akan di-generate oleh JavaScript -->
        </div>
        <div class="slider-controls" id="testimonialDots" role="tablist" aria-label="Kontrol testimoni">
          <!-- Dots akan di-generate oleh JavaScript -->
        </div>
      </div>
    </section>

    <!-- Bagian Kontak -->
    <section id="contact" class="section" aria-labelledby="contact-title">
      <div class="container">
        <h2 class="section-title" id="contact-title">Hubungi Kami</h2>
        <div class="contact-form-container">
          <form class="contact-form" id="contactForm" autocomplete="on" novalidate>
            <p class="mb-4">Punya pertanyaan atau ingin menjadwalkan kunjungan? Isi formulir di bawah ini.</p>
            <div class="form-group">
              <label for="name" class="form-label">Nama Lengkap <span class="required-asterisk"
                  aria-hidden="true">*</span></label>
              <input type="text" id="name" name="name" class="form-control" required aria-required="true"
                autocomplete="name" placeholder="Contoh: Budi Santoso">
            </div>
            <div class="form-group">
              <label for="email" class="form-label">Alamat Email <span class="required-asterisk"
                  aria-hidden="true">*</span></label>
              <input type="email" id="email" name="email" class="form-control" required aria-required="true"
                autocomplete="email" placeholder="Contoh: email@anda.com">
            </div>
            <div class="form-group">
              <label for="phone" class="form-label">Nomor Telepon (Opsional)</label>
              <input type="tel" id="phone" name="phone" class="form-control" autocomplete="tel"
                placeholder="Contoh: 08123456789">
            </div>
            <div class="form-group">
              <label for="message" class="form-label">Pesan Anda <span class="required-asterisk"
                  aria-hidden="true">*</span></label>
              <textarea id="message" name="message" class="form-control" rows="5" required aria-required="true"
                placeholder="Tuliskan pertanyaan atau permintaan Anda di sini..."></textarea>
            </div>
            <button type="submit" class="btn btn-primary btn-lg">
              <span class="icon" aria-hidden="true">‚úâÔ∏è</span> Kirim Pesan
            </button>
          </form>
          <aside class="contact-info">
            <h3>Informasi Kontak Langsung</h3>
            <p><span class="icon" aria-hidden="true">üìû</span> <a href="tel:+18005551234">+1 (800) 555-1234</a></p>
            <p><span class="icon" aria-hidden="true">üìß</span> <a
                href="mailto:info@greenvalley.com">info@greenvalley.com</a></p>
            <p><span class="icon" aria-hidden="true">üìç</span> 123 Luxury Lane, Suite 100<br>New York, NY 10001, USA</p>
            <h4 class="mt-4">Jam Operasional</h4>
            <p>Senin - Jumat: 09:00 - 18:00</p>
            <p>Sabtu: 10:00 - 15:00</p>
            <p>Minggu: Tutup</p>
          </aside>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-column">
          <h3><span class="logo-icon" aria-hidden="true">üè†</span> Green Valley</h3>
          <p>Menyediakan persewaan apartemen premium untuk klien yang menghargai kualitas, layanan, dan perhatian
            terhadap detail.</p>
          <div class="social-links">
            <a href="#" class="social-link" aria-label="Facebook Green Valley" target="_blank"
              rel="noopener noreferrer"><span aria-hidden="true">üì±</span></a>
            <a href="#" class="social-link" aria-label="Instagram Green Valley" target="_blank"
              rel="noopener noreferrer"><span aria-hidden="true">üì∏</span></a>
            <a href="#" class="social-link" aria-label="Twitter Green Valley" target="_blank"
              rel="noopener noreferrer"><span aria-hidden="true">üê¶</span></a>
            <a href="#" class="social-link" aria-label="LinkedIn Green Valley" target="_blank"
              rel="noopener noreferrer"><span aria-hidden="true">üíº</span></a>
          </div>
        </div>
        <div class="footer-column">
          <h3>Tautan Cepat</h3>
          <nav class="footer-links" aria-label="Navigasi Footer Cepat">
            <a href="#home" class="footer-link">Beranda</a>
            <a href="#properties" class="footer-link">Properti</a>
            <a href="#services" class="footer-link">Layanan</a>
            <a href="#testimonials" class="footer-link">Testimoni</a>
            <a href="#contact" class="footer-link">Kontak</a>
          </nav>
        </div>
        <div class="footer-column">
          <h3>Lokasi Populer</h3>
          <nav class="footer-links" aria-label="Navigasi Lokasi Populer">
            <a href="#" class="footer-link"
              onclick="event.preventDefault(); showToast('Menampilkan properti di New York...', 'info');">New York</a>
            <a href="#" class="footer-link"
              onclick="event.preventDefault(); showToast('Menampilkan properti di Los Angeles...', 'info');">Los
              Angeles</a>
            <a href="#" class="footer-link"
              onclick="event.preventDefault(); showToast('Menampilkan properti di Miami...', 'info');">Miami</a>
            <a href="#" class="footer-link"
              onclick="event.preventDefault(); showToast('Menampilkan properti di Chicago...', 'info');">Chicago</a>
            <a href="#" class="footer-link"
              onclick="event.preventDefault(); showToast('Menampilkan properti Internasional...', 'info');">Internasional</a>
          </nav>
        </div>
        <div class="footer-column">
          <h3>Hubungi Kami</h3>
          <address class="footer-links">
            <a href="tel:+18005551234" class="footer-link"><span class="icon" aria-hidden="true">üìû</span> +1 (800)
              555-1234</a>
            <a href="mailto:info@greenvalley.com" class="footer-link"><span class="icon" aria-hidden="true">üìß</span>
              info@greenvalley.com</a>
            <span class="footer-link" style="display:block; pointer-events: none;"><span class="icon"
                aria-hidden="true">üìç</span> 123 Luxury Lane, Suite 100<br>New York, NY 10001</span>
          </address>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; <span id="currentYear"></span> Green Valley. Hak Cipta Dilindungi.
          | <a href="#" class="footer-link"
            onclick="event.preventDefault(); showToast('Halaman Kebijakan Privasi akan segera hadir!', 'info');">Kebijakan
            Privasi</a>
          | <a href="#" class="footer-link"
            onclick="event.preventDefault(); showToast('Halaman Ketentuan Layanan akan segera hadir!', 'info');">Ketentuan
            Layanan</a>
        </p>
      </div>
    </div>
  </footer>

  <!-- Kontainer untuk Notifikasi Toast -->
  <div class="toast-container" id="toastContainer" aria-live="assertive" aria-atomic="true"></div>

  <!-- Modal Pencarian Properti -->
  <div class="modal-overlay" id="searchModal" role="dialog" aria-modal="true" aria-labelledby="searchModalTitle"
    tabindex="-1">
    <div class="modal">
      <header class="modal-header">
        <h3 class="modal-title" id="searchModalTitle">Temukan Rumah Sempurna Anda</h3>
        <button class="modal-close" aria-label="Tutup modal pencarian">&times;</button>
      </header>
      <div class="modal-body">
        <form id="searchForm" autocomplete="on" novalidate>
          <div class="form-group">
            <label for="searchLocation" class="form-label">Lokasi</label>
            <input type="text" id="searchLocation" name="searchLocation" class="form-control"
              placeholder="Kota, Negara Bagian, atau Area">
          </div>
          <div class="form-group">
            <label for="searchBudget" class="form-label">Rentang Anggaran</label>
            <select id="searchBudget" name="searchBudget" class="form-control">
              <option value="">Anggaran Berapapun</option>
              <option value="1">$2.000 - $3.500</option>
              <option value="2">$3.500 - $5.000</option>
              <option value="3">$5.000 - $7.500</option>
              <option value="4">$7.500+</option>
            </select>
          </div>
          <div class="form-group">
            <label for="searchBedrooms" class="form-label">Jumlah Kamar Tidur</label>
            <select id="searchBedrooms" name="searchBedrooms" class="form-control">
              <option value="">Berapapun</option>
              <option value="1">1 Kamar Tidur</option>
              <option value="2">2 Kamar Tidur</option>
              <option value="3">3 Kamar Tidur</option>
              <option value="4">4+ Kamar Tidur</option>
            </select>
          </div>
          <fieldset class="form-group">
            <legend class="form-label">Fasilitas Wajib Ada</legend>
            <div
              style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: var(--spacing-md);">
              <label style="display: flex; align-items: center; gap: var(--spacing-sm);"><input type="checkbox"
                  name="amenities" value="pool"> Kolam Renang</label>
              <label style="display: flex; align-items: center; gap: var(--spacing-sm);"><input type="checkbox"
                  name="amenities" value="gym"> Gym</label>
              <label style="display: flex; align-items: center; gap: var(--spacing-sm);"><input type="checkbox"
                  name="amenities" value="parking"> Parkir</label>
              <label style="display: flex; align-items: center; gap: var(--spacing-sm);"><input type="checkbox"
                  name="amenities" value="doorman"> Doorman</label>
              <label style="display: flex; align-items: center; gap: var(--spacing-sm);"><input type="checkbox"
                  name="amenities" value="washer"> Mesin Cuci Internal</label>
              <label style="display: flex; align-items: center; gap: var(--spacing-sm);"><input type="checkbox"
                  name="amenities" value="view"> Pemandangan Kota</label>
            </div>
          </fieldset>
        </form>
      </div>
      <footer class="modal-footer">
        <button type="button" class="btn btn-outline modal-close-secondary">Batal</button>
        <button type="submit" form="searchForm" class="btn btn-primary">
          <span class="icon" aria-hidden="true">üîç</span> Cari Properti
        </button>
      </footer>
    </div>
  </div>

  <!-- Modal Detail Properti -->
  <div class="modal-overlay" id="propertyModal" role="dialog" aria-modal="true" aria-labelledby="propertyModalTitle"
    tabindex="-1">
    <div class="modal">
      <header class="modal-header">
        <h3 class="modal-title" id="propertyModalTitle">Detail Properti</h3>
        <button class="modal-close" aria-label="Tutup modal detail properti">&times;</button>
      </header>
      <div class="modal-body" id="propertyModalContent">
        <!-- Konten akan dimuat secara dinamis oleh JavaScript -->
        <div class="loading-spinner" style="margin: var(--spacing-xl) auto;" role="status"
          aria-label="Memuat detail properti..."></div>
      </div>
      <footer class="modal-footer">
        <button type="button" class="btn btn-outline modal-close-secondary">Tutup</button>
        <button type="button" class="btn btn-primary" id="scheduleViewingButton">
          <span class="icon" aria-hidden="true">üóìÔ∏è</span> Jadwalkan Kunjungan
        </button>
      </footer>
    </div>
  </div>

  <!-- JavaScript Native -->
  <script>
    // "Strict mode" untuk penulisan kode JavaScript yang lebih aman dan bersih
    "use strict";

    // Fungsi pembantu untuk memilih elemen DOM
    const $ = (selector, parent = document) => parent.querySelector(selector);
    const $$ = (selector, parent = document) => parent.querySelectorAll(selector);

    // State aplikasi (sederhana)
    const AppState = {
      currentTestimonialIndex: 0,
      testimonialIntervalId: null,
      activeModal: null,
      isMenuOpen: false,
      primaryColorRGB: '0, 119, 182' // Digunakan untuk box-shadow dengan opacity
    };

    // Data dummy untuk testimoni dan properti
    const TestimonialData = [
      {
        text: "Green Valley mengubah pengalaman pencarian apartemen saya. Tim mereka menemukan loteng mewah yang sempurna untuk saya hanya dalam dua hari, dengan fasilitas yang bahkan tidak saya ketahui saya inginkan!",
        author: "Sarah Wijaya",
        role: "Eksekutif Teknologi",
        avatar: "https://picsum.photos/seed/avatar1/100/100"
      },
      {
        text: "Perhatian terhadap detail dan layanan pribadi dari Green Valley tidak tertandingi. Saya telah menyewa melalui mereka tiga kali di kota yang berbeda dan setiap pengalaman selalu sempurna.",
        author: "Michael Chen",
        role: "Bankir Investasi",
        avatar: "https://picsum.photos/seed/avatar2/100/100"
      },
      {
        text: "Sebagai ekspatriat yang pindah ke New York, Green Valley membuat transisi menjadi mulus. Mereka menangani semuanya mulai dari dokumen hingga menyiapkan utilitas di apartemen mewah baru saya.",
        author: "Emma Siregar",
        role: "Pengacara Internasional",
        avatar: "https://picsum.photos/seed/avatar3/100/100"
      },
      {
        text: "Layanan pelanggan yang luar biasa! Mereka benar-benar mendengarkan kebutuhan saya dan menemukan tempat yang melebihi ekspektasi saya. Sangat direkomendasikan!",
        author: "David Kim",
        role: "Pengusaha Startup",
        avatar: "https://picsum.photos/seed/avatar4/100/100"
      }
    ];

    const PropertyData = {
      1: {
        title: "Skyline Penthouse", location: "New York, NY", price: "$5.200/bulan",
        description: "Penthouse menakjubkan ini menawarkan pemandangan cakrawala Manhattan yang menakjubkan. Denah lantai terbuka dilengkapi jendela dari lantai ke langit-langit, dapur koki dengan peralatan canggih, dan teras luas yang sempurna untuk menjamu tamu.",
        details: { bedrooms: 3, bathrooms: "2.5", squareFeet: 1800, yearBuilt: 2021 },
        amenities: ["Doorman 24 Jam", "Gym Modern", "Kolam Renang Indoor", "Parkir Valet", "Dek Atap Pribadi", "Layanan Concierge"],
        images: Array(3).fill(null).map((_, i) => `https://picsum.photos/seed/prop1img${i + 1}/800/600`)
      },
      2: {
        title: "Urban Loft Modern", location: "San Francisco, CA", price: "$4.500/bulan",
        description: "Loteng industrial-chic di jantung SoMa ini memiliki dinding bata ekspos, lantai beton poles, dan tata letak terbuka yang sempurna untuk kehidupan perkotaan. Bangunan ini menawarkan fasilitas berteknologi tinggi dan dapat dijangkau dengan berjalan kaki ke restoran ternama dan kantor teknologi.",
        details: { bedrooms: 2, bathrooms: "2", squareFeet: 1200, yearBuilt: 2019 },
        amenities: ["Pusat Kebugaran", "Penyimpanan Sepeda", "Ruang Paket Aman", "Pengisian EV", "Sistem Rumah Pintar", "Lounge Komunal"],
        images: Array(3).fill(null).map((_, i) => `https://picsum.photos/seed/prop2img${i + 1}/800/600`)
      },
      3: {
        title: "Waterfront Residence", location: "Miami, FL", price: "$6.800/bulan",
        description: "Rasakan gaya hidup ala resor di kediaman tepi laut ini dengan pemandangan laut langsung. Unit ini memiliki dapur gourmet, kamar mandi seperti spa, dan balkon pribadi yang menghadap ke Teluk Biscayne. Fasilitas gedung termasuk klub pantai pribadi dan marina.",
        details: { bedrooms: 4, bathrooms: "3.5", squareFeet: 2200, yearBuilt: 2022 },
        amenities: ["Akses Pantai Pribadi", "Marina & Dermaga", "Spa & Wellness Center", "Keamanan 24/7", "Layanan Tata Graha", "Parkir Valet"],
        images: Array(3).fill(null).map((_, i) => `https://picsum.photos/seed/prop3img${i + 1}/800/600`)
      }
    };

    // Fungsi utilitas umum
    const Utils = {
      // Fungsi debounce untuk mengurangi frekuensi pemanggilan fungsi pada event yang sering terjadi
      debounce: (func, delay = 250) => {
        let timeoutId;
        return (...args) => {
          clearTimeout(timeoutId);
          timeoutId = setTimeout(() => func.apply(this, args), delay);
        };
      },
      // Fungsi throttle untuk membatasi pemanggilan fungsi dalam interval waktu tertentu
      throttle: (func, limit = 250) => {
        let inThrottle;
        let lastResult;
        return (...args) => {
          if (!inThrottle) {
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
            lastResult = func.apply(this, args);
          }
          return lastResult;
        };
      },
      // Memastikan elemen terlihat di viewport (untuk navigasi internal)
      scrollToElement: (element, offset = 80) => {
        if (!element) return;
        const elementPosition = element.getBoundingClientRect().top + window.pageYOffset;
        const offsetPosition = elementPosition - offset;
        window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
      },
      // Mengatur atribut ARIA
      setAriaAttribute: (element, attribute, value) => {
        if (element) element.setAttribute(attribute, value);
      },
      // Menambahkan event listener dengan opsi (sekali, pasif)
      listen: (element, event, handler, options = {}) => {
        if (element) element.addEventListener(event, handler, options);
      },
      // Fungsi untuk escape HTML (mencegah XSS sederhana jika menampilkan input pengguna)
      escapeHTML: (str) => {
        const div = document.createElement('div');
        div.appendChild(document.createTextNode(str));
        return div.innerHTML;
      }
    };

    // Manajemen Overlay Pemuatan
    const LoadingManager = {
      overlay: $('#loadingOverlay'),
      show: () => {
        if (LoadingManager.overlay) {
          LoadingManager.overlay.classList.remove('hidden');
          Utils.setAriaAttribute(LoadingManager.overlay, 'aria-hidden', 'false');
        }
      },
      hide: () => {
        if (LoadingManager.overlay) {
          LoadingManager.overlay.classList.add('hidden');
          Utils.setAriaAttribute(LoadingManager.overlay, 'aria-hidden', 'true');
        }
      },
      init: () => {
        // Tampilkan saat DOM siap, sembunyikan setelah penundaan atau event window.load
        LoadingManager.show();
        Utils.listen(window, 'load', () => {
          // Tambahkan sedikit penundaan agar animasi CSS sempat berjalan
          setTimeout(LoadingManager.hide, 500);
        });
        // Fallback jika 'load' event lama, sembunyikan setelah beberapa detik
        setTimeout(LoadingManager.hide, 3000);
      }
    };

    // Manajemen Header & Navigasi
    const NavigationManager = {
      header: $('#header'),
      navMenu: $('#navMenu'),
      mobileMenuToggle: $('#mobileMenuToggle'),
      navLinks: $$('.nav-link', $('#navMenu')), // Ambil navLinks di dalam navMenu

      handleScroll: () => {
        if (window.scrollY > 50) {
          NavigationManager.header.classList.add('scrolled');
        } else {
          NavigationManager.header.classList.remove('scrolled');
        }
        NavigationManager.updateActiveNavLink();
      },

      toggleMobileMenu: () => {
        AppState.isMenuOpen = !AppState.isMenuOpen;
        NavigationManager.navMenu.classList.toggle('active', AppState.isMenuOpen);
        NavigationManager.mobileMenuToggle.classList.toggle('active', AppState.isMenuOpen);
        Utils.setAriaAttribute(NavigationManager.mobileMenuToggle, 'aria-expanded', AppState.isMenuOpen);
        NavigationManager.mobileMenuToggle.querySelector('span').textContent = AppState.isMenuOpen ? '‚úï' : '‚ò∞';
        document.body.style.overflow = AppState.isMenuOpen ? 'hidden' : ''; // Cegah scroll body saat menu mobile terbuka
      },

      closeMobileMenu: () => {
        if (AppState.isMenuOpen) {
          NavigationManager.toggleMobileMenu();
        }
      },

      handleNavLinkClick: (event) => {
        const link = event.target.closest('.nav-link');
        if (link && link.hash) {
          event.preventDefault();
          const targetElement = $(link.hash);
          if (targetElement) {
            Utils.scrollToElement(targetElement, NavigationManager.header.offsetHeight);
            NavigationManager.closeMobileMenu();
            // Update URL hash tanpa memicu scroll default browser
            if (history.pushState) {
              history.pushState(null, null, link.hash);
            } else {
              location.hash = link.hash;
            }
          }
        } else if (event.target.closest('.btn')) { // Jika tombol di dalam nav (seperti login)
          NavigationManager.closeMobileMenu();
        }
      },

      updateActiveNavLink: () => {
        let currentSectionId = '';
        const sections = $$('section[id]');

        sections.forEach(section => {
          const sectionTop = section.offsetTop - NavigationManager.header.offsetHeight - 50; // offset 50px
          if (window.scrollY >= sectionTop) {
            currentSectionId = section.id;
          }
        });

        NavigationManager.navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.hash === `#${currentSectionId}`) {
            link.classList.add('active');
          }
        });
      },

      init: () => {
        Utils.listen(window, 'scroll', Utils.throttle(NavigationManager.handleScroll, 100));
        Utils.listen(NavigationManager.mobileMenuToggle, 'click', NavigationManager.toggleMobileMenu);
        Utils.listen(NavigationManager.navMenu, 'click', NavigationManager.handleNavLinkClick);

        // Tutup menu mobile jika klik di luar area menu
        Utils.listen(document, 'click', (event) => {
          if (AppState.isMenuOpen &&
            !NavigationManager.navMenu.contains(event.target) &&
            !NavigationManager.mobileMenuToggle.contains(event.target)) {
            NavigationManager.closeMobileMenu();
          }
        });
        NavigationManager.updateActiveNavLink(); // Set link aktif saat load
      }
    };

    // Manajemen Lazy Loading Gambar
    const LazyLoadManager = {
      lazyImages: $$('img.lazy'),
      observer: null,

      handleIntersection: (entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const lazyImage = entry.target;
            if (lazyImage.dataset.src) {
              lazyImage.src = lazyImage.dataset.src;
            }
            if (lazyImage.dataset.srcset) { // Jika menggunakan srcset
              lazyImage.srcset = lazyImage.dataset.srcset;
            }
            lazyImage.classList.remove('lazy');
            lazyImage.classList.add('loaded');
            observer.unobserve(lazyImage);
          }
        });
      },

      init: () => {
        if ('IntersectionObserver' in window) {
          LazyLoadManager.observer = new IntersectionObserver(LazyLoadManager.handleIntersection, {
            rootMargin: '0px 0px 200px 0px' // Mulai load 200px sebelum masuk viewport
          });
          LazyLoadManager.lazyImages.forEach(img => LazyLoadManager.observer.observe(img));
        } else {
          // Fallback untuk browser lama: langsung load semua gambar
          LazyLoadManager.lazyImages.forEach(img => {
            if (img.dataset.src) img.src = img.dataset.src;
            if (img.dataset.srcset) img.srcset = img.dataset.srcset;
            img.classList.remove('lazy');
            img.classList.add('loaded');
          });
        }
      }
    };

    // Manajemen Slider Testimonial
    const TestimonialSlider = {
      slider: $('#testimonialSlider'),
      dotsContainer: $('#testimonialDots'),
      slides: [], // Akan diisi dari TestimonialData

      renderSlides: () => {
        TestimonialSlider.slider.innerHTML = TestimonialData.map((testimonial, index) => `
          <article class="testimonial-slide" id="testimonial-slide-${index}" role="tabpanel" aria-labelledby="testimonial-dot-${index}" ${index !== 0 ? 'aria-hidden="true"' : ''}>
            <img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" data-src="${Utils.escapeHTML(testimonial.avatar)}" alt="Foto ${Utils.escapeHTML(testimonial.author)}" class="testimonial-avatar lazy">
            <p class="testimonial-text">${Utils.escapeHTML(testimonial.text)}</p>
            <footer class="testimonial-author">
              ${Utils.escapeHTML(testimonial.author)}
              <div class="testimonial-author-role">${Utils.escapeHTML(testimonial.role)}</div>
            </footer>
          </article>
        `).join('');
        TestimonialSlider.slides = $$('.testimonial-slide', TestimonialSlider.slider);
      },

      renderDots: () => {
        TestimonialSlider.dotsContainer.innerHTML = TestimonialData.map((_, index) => `
          <button class="dot" id="testimonial-dot-${index}" role="tab" aria-controls="testimonial-slide-${index}" aria-label="Testimoni ${index + 1}" ${index === 0 ? 'aria-selected="true"' : ''}></button>
        `).join('');
        $$('.dot', TestimonialSlider.dotsContainer).forEach((dot, index) => {
          Utils.listen(dot, 'click', () => TestimonialSlider.showSlide(index, true));
        });
      },

      showSlide: (index, userInitiated = false) => {
        if (index < 0 || index >= TestimonialSlider.slides.length) return;

        const oldIndex = AppState.currentTestimonialIndex;
        AppState.currentTestimonialIndex = index;

        TestimonialSlider.slides.forEach((slide, i) => {
          const isActive = i === index;
          slide.classList.toggle('active', isActive);
          slide.classList.remove('exiting'); // Hapus kelas exiting jika ada
          Utils.setAriaAttribute(slide, 'aria-hidden', !isActive);

          if (i === oldIndex && oldIndex !== index) {
            slide.classList.add('exiting'); // Tambah kelas exiting ke slide lama
          }
        });

        // Hapus kelas exiting setelah transisi selesai
        if (TestimonialSlider.slides[oldIndex] && oldIndex !== index) {
          setTimeout(() => {
            if (TestimonialSlider.slides[oldIndex]) TestimonialSlider.slides[oldIndex].classList.remove('exiting');
          }, 600); // Sesuaikan dengan durasi transisi CSS
        }


        $$('.dot', TestimonialSlider.dotsContainer).forEach((dot, i) => {
          const isActive = i === index;
          dot.classList.toggle('active', isActive);
          Utils.setAriaAttribute(dot, 'aria-selected', isActive);
        });

        if (userInitiated) {
          TestimonialSlider.stopAutoPlay();
          TestimonialSlider.startAutoPlay(); // Restart autoplay setelah interaksi pengguna
        }
      },

      nextSlide: () => {
        let newIndex = (AppState.currentTestimonialIndex + 1) % TestimonialSlider.slides.length;
        TestimonialSlider.showSlide(newIndex);
      },

      startAutoPlay: (interval = 7000) => { // Interval lebih lama
        TestimonialSlider.stopAutoPlay(); // Hentikan interval sebelumnya jika ada
        AppState.testimonialIntervalId = setInterval(TestimonialSlider.nextSlide, interval);
      },

      stopAutoPlay: () => {
        clearInterval(AppState.testimonialIntervalId);
        AppState.testimonialIntervalId = null;
      },

      init: () => {
        if (!TestimonialSlider.slider || !TestimonialSlider.dotsContainer) return;
        TestimonialSlider.renderSlides();
        TestimonialSlider.renderDots();
        TestimonialSlider.showSlide(0);
        TestimonialSlider.startAutoPlay();
        // Re-init lazy loading untuk avatar testimoni
        LazyLoadManager.lazyImages = $$('img.lazy'); // Update list lazyImages
        LazyLoadManager.init(); // Re-initialize IntersectionObserver
      }
    };

    // Manajemen Modal
    const ModalManager = {
      modals: {}, // { modalId: { overlay: element, modal: element, closeButtons: [] } }
      focusableElementsString: 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',

      initModal: (modalId) => {
        const overlay = $(`#${modalId}`);
        if (!overlay) return;

        const modalElement = $('.modal', overlay);
        const closeButtons = $$('.modal-close, .modal-close-secondary', overlay);

        ModalManager.modals[modalId] = {
          overlay,
          modal: modalElement,
          closeButtons,
          previouslyFocusedElement: null
        };

        Utils.listen(overlay, 'click', (event) => {
          if (event.target === overlay) ModalManager.hide(modalId); // Klik di luar modal
        });
        closeButtons.forEach(btn => Utils.listen(btn, 'click', () => ModalManager.hide(modalId)));
      },

      show: (modalId, onShowCallback) => {
        const modalData = ModalManager.modals[modalId];
        if (!modalData || AppState.activeModal) return;

        AppState.activeModal = modalId;
        modalData.previouslyFocusedElement = document.activeElement;

        modalData.overlay.classList.add('show');
        Utils.setAriaAttribute(modalData.overlay, 'aria-hidden', 'false');
        document.body.style.overflow = 'hidden';

        // Fokus ke elemen pertama yang bisa difokuskan di dalam modal
        const firstFocusable = $$(ModalManager.focusableElementsString, modalData.modal)[0];
        if (firstFocusable) firstFocusable.focus();

        Utils.listen(document, 'keydown', ModalManager.handleKeydown);

        if (typeof onShowCallback === 'function') {
          onShowCallback();
        }
      },

      hide: (modalId) => {
        const modalData = ModalManager.modals[modalId];
        if (!modalData || AppState.activeModal !== modalId) return;

        modalData.overlay.classList.remove('show');
        Utils.setAriaAttribute(modalData.overlay, 'aria-hidden', 'true');
        document.body.style.overflow = '';

        if (modalData.previouslyFocusedElement) {
          modalData.previouslyFocusedElement.focus();
        }

        document.removeEventListener('keydown', ModalManager.handleKeydown);
        AppState.activeModal = null;
      },

      handleKeydown: (event) => {
        if (event.key === 'Escape' && AppState.activeModal) {
          ModalManager.hide(AppState.activeModal);
        }
        if (event.key === 'Tab' && AppState.activeModal) {
          const modalData = ModalManager.modals[AppState.activeModal];
          const focusableElements = Array.from($$(ModalManager.focusableElementsString, modalData.modal));
          if (focusableElements.length === 0) return;

          const firstFocusable = focusableElements[0];
          const lastFocusable = focusableElements[focusableElements.length - 1];

          if (event.shiftKey) { // Shift + Tab
            if (document.activeElement === firstFocusable) {
              lastFocusable.focus();
              event.preventDefault();
            }
          } else { // Tab
            if (document.activeElement === lastFocusable) {
              firstFocusable.focus();
              event.preventDefault();
            }
          }
        }
      },

      // Inisialisasi semua modal yang ada di halaman
      initAll: () => {
        $$('.modal-overlay[id]').forEach(overlay => ModalManager.initModal(overlay.id));

        // Pemicu Modal Pencarian
        const searchButton = $('#searchPropertiesButton');
        if (searchButton) Utils.listen(searchButton, 'click', () => ModalManager.show('searchModal'));

        // Pemicu Modal Detail Properti (menggunakan event delegation)
        const propertiesSection = $('#properties');
        if (propertiesSection) {
          Utils.listen(propertiesSection, 'click', (event) => {
            const button = event.target.closest('button[data-property-id]');
            if (button && button.dataset.propertyId) {
              ModalManager.showPropertyModal(button.dataset.propertyId);
            }
          });
        }
        // Pemicu untuk tombol login
        const loginButton = $('#loginButton');
        if (loginButton) {
          Utils.listen(loginButton, 'click', () => {
            // Karena tidak ada modal login, kita tampilkan toast
            ToastManager.show('Fitur login akan segera hadir!', 'info', { icon: 'üîê' });
          });
        }
      },

      // Fungsi spesifik untuk menampilkan modal detail properti
      showPropertyModal: (propertyId) => {
        const property = PropertyData[propertyId];
        if (!property) {
          ToastManager.show('Properti tidak ditemukan.', 'error', { icon: '‚ö†Ô∏è' });
          return;
        }

        const contentContainer = $('#propertyModalContent');
        const modalTitle = $('#propertyModalTitle', ModalManager.modals.propertyModal.overlay); // Ambil title dari overlay

        if (modalTitle) modalTitle.textContent = Utils.escapeHTML(property.title);
        contentContainer.innerHTML = `<div class="loading-spinner" style="margin: var(--spacing-xl) auto;" role="status" aria-label="Memuat detail properti..."></div>`; // Tampilkan spinner dulu

        ModalManager.show('propertyModal', () => {
          // Simulasi pengambilan data (bisa diganti dengan fetch jika dari API)
          setTimeout(() => {
            let amenitiesHTML = property.amenities.map(amenity =>
              `<span style="background: rgba(${AppState.primaryColorRGB}, 0.1); color: var(--primary-color); padding: var(--spacing-xs) var(--spacing-md); border-radius: var(--radius-sm); font-size: var(--text-sm); display: inline-block; margin: var(--spacing-xs);">${Utils.escapeHTML(amenity)}</span>`
            ).join('');

            let imagesHTML = property.images.map((imgSrc, index) => `
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" 
                         data-src="${Utils.escapeHTML(imgSrc)}" 
                         alt="Gambar ${Utils.escapeHTML(property.title)} ${index + 1}" 
                         class="lazy" 
                         style="width: 100%; height: auto; max-height: 150px; object-fit: cover; border-radius: var(--radius-md); margin-bottom: var(--spacing-sm); display: block;" 
                         loading="lazy">
                `).join('');

            contentContainer.innerHTML = `
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: var(--spacing-md); margin-bottom: var(--spacing-lg);">
                        ${imagesHTML}
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-md);">
                        <div style="font-size: var(--text-2xl); font-weight: var(--font-weight-bold); color: var(--secondary-color);">${Utils.escapeHTML(property.price)}</div>
                        <div style="display: flex; align-items: center; gap: var(--spacing-sm); color: var(--text-muted); font-size: var(--text-sm);">
                            <span class="icon" aria-hidden="true">üìç</span> ${Utils.escapeHTML(property.location)}
                        </div>
                    </div>
                    <p style="margin-bottom: var(--spacing-lg); font-size: var(--text-base);">${Utils.escapeHTML(property.description)}</p>
                    <h4 style="margin-bottom: var(--spacing-sm); font-size: var(--text-lg); color: var(--primary-dark);">Detail Properti</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); margin-bottom: var(--spacing-lg); font-size: var(--text-sm);">
                        <p><strong>Kamar Tidur:</strong> ${Utils.escapeHTML(String(property.details.bedrooms))}</p>
                        <p><strong>Kamar Mandi:</strong> ${Utils.escapeHTML(String(property.details.bathrooms))}</p>
                        <p><strong>Luas:</strong> ${Utils.escapeHTML(String(property.details.squareFeet))} sqft</p>
                        <p><strong>Tahun Dibangun:</strong> ${Utils.escapeHTML(String(property.details.yearBuilt))}</p>
                    </div>
                    <h4 style="margin-bottom: var(--spacing-sm); font-size: var(--text-lg); color: var(--primary-dark);">Fasilitas</h4>
                    <div style="margin-bottom: var(--spacing-xl);">${amenitiesHTML}</div>
                `;
            // Re-init lazy loading untuk gambar di modal
            LazyLoadManager.lazyImages = $$('img.lazy');
            LazyLoadManager.init();

            const scheduleButton = $('#scheduleViewingButton', ModalManager.modals.propertyModal.overlay);
            if (scheduleButton) {
              Utils.listen(scheduleButton, 'click', () => {
                ToastManager.show(`Permintaan kunjungan untuk "${Utils.escapeHTML(property.title)}" telah dikirim!`, 'success', { icon: '‚úÖ' });
                ModalManager.hide('propertyModal');
              }, { once: true }); // Hanya sekali listener agar tidak duplikat
            }

          }, 500); // Penundaan untuk simulasi loading
        });
      }
    };

    // Manajemen Notifikasi Toast
    const ToastManager = {
      container: $('#toastContainer'),
      defaultDuration: 4000, // Durasi default toast

      show: (message, type = 'info', options = {}) => {
        if (!ToastManager.container) return;

        const { duration = ToastManager.defaultDuration, icon } = options;

        const toastId = `toast-${Date.now()}`;
        const toastElement = document.createElement('div');
        toastElement.className = `toast toast-${type}`;
        toastElement.id = toastId;
        toastElement.setAttribute('role', 'alert');
        toastElement.setAttribute('aria-live', 'assertive');
        toastElement.setAttribute('aria-atomic', 'true');

        let toastIconHTML = '';
        if (icon) {
          toastIconHTML = `<span class="toast-icon" aria-hidden="true">${Utils.escapeHTML(icon)}</span>`;
        } else {
          const defaultIcons = { success: '‚úÖ', error: '‚ùå', warning: '‚ö†Ô∏è', info: '‚ÑπÔ∏è' };
          if (defaultIcons[type]) {
            toastIconHTML = `<span class="toast-icon" aria-hidden="true">${defaultIcons[type]}</span>`;
          }
        }

        toastElement.innerHTML = `
          ${toastIconHTML}
          <span>${Utils.escapeHTML(message)}</span>
        `;

        ToastManager.container.appendChild(toastElement);

        // Memicu animasi masuk
        requestAnimationFrame(() => {
          toastElement.classList.add('show');
        });

        // Hapus toast setelah durasi tertentu
        const hideTimeout = setTimeout(() => {
          toastElement.classList.remove('show');
          // Hapus elemen dari DOM setelah animasi keluar selesai
          Utils.listen(toastElement, 'transitionend', () => toastElement.remove(), { once: true });
        }, duration);

        // Hapus toast jika diklik
        Utils.listen(toastElement, 'click', () => {
          clearTimeout(hideTimeout);
          toastElement.classList.remove('show');
          Utils.listen(toastElement, 'transitionend', () => toastElement.remove(), { once: true });
        });
      }
    };

    // Manajemen Formulir
    const FormManager = {
      contactForm: $('#contactForm'),
      searchForm: $('#searchForm', $('#searchModal')), // Ambil searchForm di dalam searchModal

      handleContactSubmit: (event) => {
        event.preventDefault();
        if (!FormManager.contactForm.checkValidity()) {
          FormManager.contactForm.reportValidity(); // Tampilkan pesan error bawaan browser
          ToastManager.show('Harap isi semua field yang wajib diisi.', 'error', { icon: '‚ö†Ô∏è' });
          return;
        }
        // Simulasi pengiriman data
        const formData = new FormData(FormManager.contactForm);
        // const name = formData.get('name'); // Contoh mengambil data
        ToastManager.show('Terima kasih! Pesan Anda telah terkirim.', 'success', { icon: 'üéâ' });
        FormManager.contactForm.reset();
      },

      handleSearchSubmit: (event) => {
        event.preventDefault();
        if (!FormManager.searchForm.checkValidity()) {
          FormManager.searchForm.reportValidity();
          ToastManager.show('Harap perbaiki input pencarian Anda.', 'error', { icon: '‚ö†Ô∏è' });
          return;
        }
        // const location = $('#searchLocation', FormManager.searchForm).value; // Contoh
        ModalManager.hide('searchModal');
        ToastManager.show('Mencari properti yang sesuai...', 'info', { icon: '‚è≥' });
        setTimeout(() => {
          const propertiesSection = $('#properties');
          if (propertiesSection) Utils.scrollToElement(propertiesSection);
          ToastManager.show('Pencarian selesai! Lihat hasil di bawah.', 'success', { icon: 'üëç' });
        }, 1500); // Simulasi waktu pencarian
      },

      init: () => {
        if (FormManager.contactForm) Utils.listen(FormManager.contactForm, 'submit', FormManager.handleContactSubmit);
        if (FormManager.searchForm) Utils.listen(FormManager.searchForm, 'submit', FormManager.handleSearchSubmit);

        // Set properti CSS untuk warna utama dalam format RGB
        const primaryColorStyle = getComputedStyle(document.documentElement).getPropertyValue('--primary-color').trim();
        if (primaryColorStyle.startsWith('#')) { // Konversi hex ke RGB
          const hex = primaryColorStyle.substring(1);
          const r = parseInt(hex.substring(0, 2), 16);
          const g = parseInt(hex.substring(2, 4), 16);
          const b = parseInt(hex.substring(4, 6), 16);
          AppState.primaryColorRGB = `${r}, ${g}, ${b}`;
        }
        document.documentElement.style.setProperty('--primary-color-rgb', AppState.primaryColorRGB);
      }
    };

    // Manajemen Indikator Scroll
    const ScrollIndicatorManager = {
      indicator: $('#scrollIndicator'),
      threshold: 100, // Jarak dari atas untuk menampilkan indikator

      handleScroll: () => {
        const scrollPosition = window.scrollY;
        const windowHeight = window.innerHeight;
        const documentHeight = document.documentElement.scrollHeight;

        if (scrollPosition > ScrollIndicatorManager.threshold &&
          scrollPosition < documentHeight - windowHeight - ScrollIndicatorManager.threshold) {
          ScrollIndicatorManager.indicator.classList.add('visible');
        } else {
          ScrollIndicatorManager.indicator.classList.remove('visible');
        }
      },

      init: () => {
        if (!ScrollIndicatorManager.indicator) return;
        Utils.listen(window, 'scroll', Utils.throttle(ScrollIndicatorManager.handleScroll, 150));
        ScrollIndicatorManager.handleScroll(); // Panggil sekali saat init
      }
    };

    // Inisialisasi Tahun Copyright di Footer
    const FooterManager = {
      currentYearElement: $('#currentYear'),
      init: () => {
        if (FooterManager.currentYearElement) {
          FooterManager.currentYearElement.textContent = new Date().getFullYear();
        }
      }
    };

    // Inisialisasi semua modul ketika DOM sudah siap
    document.addEventListener('DOMContentLoaded', () => {
      LoadingManager.init(); // Harus pertama untuk menampilkan overlay
      NavigationManager.init();
      LazyLoadManager.init();
      TestimonialSlider.init();
      ModalManager.initAll(); // Harus setelah TestimonialSlider.init jika ada gambar lazy di modal
      FormManager.init(); // Init form dan set variabel CSS
      ScrollIndicatorManager.init();
      FooterManager.init();

      // Contoh penggunaan ToastManager (bisa dihapus)
      // setTimeout(() => {
      //   ToastManager.show('Selamat datang di Green Valley!', 'info', { icon: 'üëã', duration: 5000 });
      // }, 2000);
    });

  </script>
</body>

</html>