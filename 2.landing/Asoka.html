<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Green Valley - Temukan apartemen impian Anda dengan mudah dan cepat. Pilihan terbaik untuk sewa apartemen.">
    <meta name="keywords" content="sewa apartemen, apartemen, green valley, properti, real estate">
    <meta name="author" content="Green Valley Development">

    <title>Green Valley - Sewa Apartemen Impian</title>

    <!-- Google Fonts: Inter & Poppins (atau Roboto jika Poppins dirasa terlalu mirip Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Font Awesome Icons (Gratis) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Favicon (contoh, ganti dengan milik Anda) -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè°</text></svg>">
    <style>
        /* style.css */

        /* Reset Dasar & Variabel Global */
        :root {
            --primary-color: #0070f3;
            /* Biru yang vibrant */
            --primary-color-dark: #005bb5;
            --primary-color-light: #e6f2ff;
            --secondary-color: #1abc9c;
            /* Hijau mint/tosca */
            --secondary-color-dark: #16a085;
            --accent-color: #f39c12;
            /* Oranye/Kuning sebagai aksen */
            --accent-color-dark: #e67e22;

            --text-color-dark: #2c3e50;
            /* Abu-abu tua untuk teks utama */
            --text-color-light: #7f8c8d;
            /* Abu-abu lebih muda untuk subteks */
            --text-color-inverted: #ffffff;
            --text-on-primary: #ffffff;

            --bg-color-light: #f8f9fa;
            /* Latar belakang utama yang sangat terang */
            --bg-color-medium: #e9ecef;
            /* Latar belakang sekunder */
            --bg-color-dark: #222831;
            /* Latar footer atau section gelap */

            --border-color: #dee2e6;
            --border-radius-small: 4px;
            --border-radius-medium: 8px;
            --border-radius-large: 16px;
            --border-radius-circle: 50%;

            --font-primary: 'Inter', sans-serif;
            --font-secondary: 'Poppins', sans-serif;
            /* Untuk judul atau aksen */

            --shadow-soft: 0 2px 10px rgba(0, 0, 0, 0.05);
            --shadow-medium: 0 5px 15px rgba(0, 0, 0, 0.1);
            --shadow-strong: 0 8px 25px rgba(0, 0, 0, 0.15);

            --spacing-unit: 8px;
            /* 1rem = 16px, jadi ini 0.5rem jika font-size dasar 16px */
            --container-max-width: 1200px;
            --header-height: 70px;

            --transition-fast: 0.2s ease-in-out;
            --transition-smooth: 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 100%;
            /* Biasanya 16px */
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: var(--font-primary);
            line-height: 1.6;
            color: var(--text-color-dark);
            background-color: var(--bg-color-light);
            overflow-x: hidden;
            /* Mencegah scroll horizontal yang tidak diinginkan */
        }

        /* Utilitas Dasar */
        .container {
            width: 90%;
            max-width: var(--container-max-width);
            margin-left: auto;
            margin-right: auto;
            padding-left: calc(var(--spacing-unit) * 2);
            padding-right: calc(var(--spacing-unit) * 2);
        }

        img,
        video,
        iframe {
            max-width: 100%;
            height: auto;
            display: block;
        }

        ul {
            list-style: none;
        }

        a {
            text-decoration: none;
            color: var(--primary-color);
            transition: color var(--transition-fast);
        }

        a:hover,
        a:focus {
            color: var(--primary-color-dark);
            outline: 2px solid var(--primary-color-light);
            /* Aksesibilitas fokus */
            outline-offset: 2px;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: var(--font-secondary);
            font-weight: 600;
            line-height: 1.3;
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--text-color-dark);
        }

        h1 {
            font-size: clamp(2rem, 5vw, 3rem);
        }

        /* Ukuran font responsif */
        h2 {
            font-size: clamp(1.75rem, 4vw, 2.5rem);
        }

        h3 {
            font-size: clamp(1.25rem, 3vw, 1.75rem);
        }

        p {
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--text-color-light);
        }

        p:last-child {
            margin-bottom: 0;
        }

        .highlight {
            color: var(--primary-color);
        }

        .text-center {
            text-align: center;
        }

        .text-small {
            font-size: 0.875rem;
        }

        .mt-10 {
            margin-top: calc(var(--spacing-unit) * 1.25);
        }

        .mt-20 {
            margin-top: calc(var(--spacing-unit) * 2.5);
        }

        .mt-40 {
            margin-top: calc(var(--spacing-unit) * 5);
        }

        .section-padding {
            padding-top: calc(var(--spacing-unit) * 8);
            padding-bottom: calc(var(--spacing-unit) * 8);
        }

        .section-padding-bg {
            padding-top: calc(var(--spacing-unit) * 8);
            padding-bottom: calc(var(--spacing-unit) * 8);
            background-color: var(--bg-color-medium);
        }

        .section-title {
            text-align: center;
            margin-bottom: calc(var(--spacing-unit) * 1.5);
        }

        .section-subtitle {
            text-align: center;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: calc(var(--spacing-unit) * 5);
            font-size: 1.1rem;
            color: var(--text-color-light);
        }

        /* Tombol Skip Link (Aksesibilitas) */
        .skip-link {
            position: absolute;
            top: -100px;
            /* Sembunyikan di luar layar */
            left: 0;
            background: var(--primary-color);
            color: var(--text-on-primary);
            padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2);
            z-index: 9999;
            transition: top var(--transition-fast);
        }

        .skip-link:focus {
            top: 0;
            /* Munculkan saat fokus */
        }

        /* Header & Navigasi */
        .site-header {
            background-color: var(--text-on-primary);
            box-shadow: var(--shadow-soft);
            position: sticky;
            top: 0;
            z-index: 1000;
            height: var(--header-height);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }

        .logo {
            font-family: var(--font-secondary);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }

        .logo-icon {
            margin-right: var(--spacing-unit);
            color: var(--secondary-color);
            font-size: 1.5rem;
        }

        .logo:hover,
        .logo:focus {
            color: var(--primary-color-dark);
        }

        .main-navigation .nav-list {
            display: flex;
            align-items: center;
            gap: calc(var(--spacing-unit) * 0.5);
            /* Spasi antar item nav */
        }

        .main-navigation .nav-link {
            padding: calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2);
            font-weight: 500;
            color: var(--text-color-dark);
            border-radius: var(--border-radius-small);
            position: relative;
        }

        .main-navigation .nav-link:hover,
        .main-navigation .nav-link:focus,
        .main-navigation .nav-link.active {
            background-color: var(--primary-color-light);
            color: var(--primary-color);
        }

        .main-navigation .nav-link.active::after {
            /* Indikator aktif yang halus */
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 50%;
            height: 3px;
            background-color: var(--primary-color);
            border-radius: 2px;
        }

        .main-navigation .nav-button {
            background-color: var(--primary-color);
            color: var(--text-on-primary);
            padding: calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2.5);
            border-radius: var(--border-radius-medium);
            transition: background-color var(--transition-fast), transform var(--transition-fast);
        }

        .main-navigation .nav-button:hover,
        .main-navigation .nav-button:focus {
            background-color: var(--primary-color-dark);
            color: var(--text-on-primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .main-navigation .nav-button.active::after {
            /* Tombol tidak perlu garis bawah */
            display: none;
        }


        .nav-toggle {
            display: none;
            /* Sembunyikan di desktop */
            background: none;
            border: none;
            color: var(--text-color-dark);
            font-size: 1.5rem;
            cursor: pointer;
            padding: var(--spacing-unit);
            z-index: 1001;
            /* Di atas nav list mobile */
        }

        .nav-toggle .close-icon {
            display: none;
        }

        .nav-toggle[aria-expanded="true"] .open-icon {
            display: none;
        }

        .nav-toggle[aria-expanded="true"] .close-icon {
            display: block;
        }

        /* Konten Utama */
        .main-content-area {
            padding-top: var(--header-height);
            /* Agar konten tidak tertutup header sticky */
            min-height: calc(100vh - var(--header-height) - 150px);
            /* Perkiraan tinggi footer */
        }

        .page-enter-active {
            animation: fadeIn 0.5s var(--transition-smooth);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Tombol Umum */
        .button-primary,
        .button-secondary {
            display: inline-block;
            padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 3.5);
            font-family: var(--font-secondary);
            font-weight: 600;
            font-size: 1rem;
            border-radius: var(--border-radius-medium);
            cursor: pointer;
            text-align: center;
            transition: all var(--transition-smooth);
            border: 2px solid transparent;
            line-height: 1.2;
            /* Untuk ikon di dalam tombol */
        }

        .button-primary i,
        .button-secondary i {
            margin-left: var(--spacing-unit);
            font-size: 0.9em;
        }

        .button-primary {
            background-color: var(--primary-color);
            color: var(--text-on-primary);
        }

        .button-primary:hover,
        .button-primary:focus {
            background-color: var(--primary-color-dark);
            color: var(--text-on-primary);
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-medium);
        }

        .button-secondary {
            background-color: transparent;
            color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .button-secondary:hover,
        .button-secondary:focus {
            background-color: var(--primary-color-light);
            color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: var(--shadow-soft);
        }

        /* Hero Section */
        .hero-section {
            position: relative;
            min-height: calc(100vh - var(--header-height));
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--text-color-inverted);
            padding: calc(var(--spacing-unit) * 4) 0;
            /* Padding jika konten lebih tinggi dari viewport */
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://source.unsplash.com/1920x1080/?modern,apartment,cityscape');
            background-size: cover;
            background-position: center;
            z-index: -2;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 20, 50, 0.6);
            /* Overlay gelap kebiruan */
            z-index: -1;
        }

        .hero-content {
            position: relative;
            /* Agar di atas overlay */
            z-index: 1;
            max-width: 800px;
        }

        .hero-title {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 700;
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--text-color-inverted);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero-title .highlight {
            color: var(--secondary-color);
            /* Highlight di hero pakai secondary */
        }

        .hero-subtitle {
            font-size: clamp(1.1rem, 2.5vw, 1.5rem);
            margin-bottom: calc(var(--spacing-unit) * 4);
            color: rgba(255, 255, 255, 0.85);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .search-form {
            background-color: rgba(255, 255, 255, 0.95);
            /* Background form agak transparan */
            padding: calc(var(--spacing-unit) * 3);
            border-radius: var(--border-radius-large);
            box-shadow: var(--shadow-strong);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: calc(var(--spacing-unit) * 2);
            align-items: center;
            margin-top: calc(var(--spacing-unit) * 5);
        }

        .search-input-group {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-icon {
            position: absolute;
            left: calc(var(--spacing-unit) * 1.5);
            color: var(--text-color-light);
            font-size: 0.9rem;
        }

        .search-form input[type="text"],
        .search-form input[type="number"],
        .search-form select {
            width: 100%;
            padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 4.5);
            /* Padding kiri untuk ikon */
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-medium);
            font-size: 1rem;
            color: var(--text-color-dark);
            background-color: var(--text-on-primary);
        }

        .search-form input::placeholder {
            color: var(--text-color-light);
        }

        .search-form select {
            appearance: none;
            /* Hapus tampilan default select */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%237f8c8d' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3E%3C/svg%3E");
            /* Custom arrow */
            background-repeat: no-repeat;
            background-position: right calc(var(--spacing-unit) * 1.5) center;
            background-size: 1em;
            padding-right: calc(var(--spacing-unit) * 4);
            /* Ruang untuk arrow custom */
        }

        .search-button {
            grid-column: 1 / -1;
            /* Tombol span penuh jika ada ruang */
            padding: calc(var(--spacing-unit) * 1.75) calc(var(--spacing-unit) * 3);
            /* Tombol search lebih besar */
        }

        .search-button i {
            margin-right: var(--spacing-unit);
            margin-left: 0;
        }

        /* Halaman Umum (Header dan Konten) */
        .page-header-section {
            background-color: var(--primary-color-light);
            padding: calc(var(--spacing-unit) * 5) 0;
            text-align: center;
        }

        .page-title {
            color: var(--primary-color);
            margin-bottom: var(--spacing-unit);
        }

        .page-title .highlight {
            color: var(--text-color-dark);
        }

        .page-subtitle {
            font-size: 1.1rem;
            color: var(--text-color-light);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Property Grid & Card */
        .property-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: calc(var(--spacing-unit) * 3);
        }

        .property-card {
            background-color: var(--text-on-primary);
            border-radius: var(--border-radius-large);
            box-shadow: var(--shadow-soft);
            overflow: hidden;
            transition: transform var(--transition-smooth), box-shadow var(--transition-smooth);
            display: flex;
            flex-direction: column;
        }

        .property-card:hover,
        .property-card:focus-within {
            transform: translateY(-8px);
            box-shadow: var(--shadow-strong);
        }

        .property-card-image-link {
            display: block;
        }

        /* Agar gambar bisa di-klik */
        .property-card-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            transition: transform 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
            /* Efek zoom halus */
        }

        .property-card:hover .property-card-image,
        .property-card:focus-within .property-card-image {
            transform: scale(1.05);
        }

        .property-card-content {
            padding: calc(var(--spacing-unit) * 2.5);
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            /* Konten mengisi sisa ruang */
        }

        .property-card-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: var(--spacing-unit);
            color: var(--text-color-dark);
        }

        .property-card-title a {
            color: inherit;
        }

        .property-card-title a:hover,
        .property-card-title a:focus {
            color: var(--primary-color);
        }

        .property-card-location {
            font-size: 0.9rem;
            color: var(--text-color-light);
            margin-bottom: calc(var(--spacing-unit) * 1.5);
            display: flex;
            align-items: center;
        }

        .property-card-location i {
            margin-right: calc(var(--spacing-unit) * 0.75);
            color: var(--secondary-color);
        }

        .property-card-features {
            display: flex;
            gap: calc(var(--spacing-unit) * 2);
            font-size: 0.85rem;
            color: var(--text-color-light);
            margin-bottom: calc(var(--spacing-unit) * 2);
            flex-wrap: wrap;
            /* Jika fitur terlalu banyak */
        }

        .property-card-features span {
            display: flex;
            align-items: center;
        }

        .property-card-features i {
            margin-right: calc(var(--spacing-unit) * 0.5);
            color: var(--primary-color);
        }

        .property-card-price {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-top: auto;
            /* Mendorong harga ke bawah kartu */
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .property-card-price .period {
            font-size: 0.8rem;
            font-weight: 400;
            color: var(--text-color-light);
        }

        .property-card .button-primary {
            width: 100%;
            padding: calc(var(--spacing-unit) * 1.25) calc(var(--spacing-unit) * 2);
        }


        /* Why Choose Us Section (contoh) */
        .why-choose-us-section {
            /* background-color: var(--bg-color-medium); */
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: calc(var(--spacing-unit) * 3);
        }

        .feature-item {
            background-color: var(--text-on-primary);
            padding: calc(var(--spacing-unit) * 3);
            border-radius: var(--border-radius-large);
            text-align: center;
            box-shadow: var(--shadow-soft);
            transition: transform var(--transition-smooth), box-shadow var(--transition-smooth);
        }

        .feature-item:hover {
            transform: translateY(-6px);
            box-shadow: var(--shadow-medium);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: calc(var(--spacing-unit) * 2);
            display: inline-block;
            /* Agar bisa di-center */
            padding: var(--spacing-unit);
            background-color: var(--primary-color-light);
            border-radius: var(--border-radius-circle);
            width: 70px;
            height: 70px;
            line-height: 54px;
            /* Sesuaikan agar ikon pas di tengah */
        }

        .feature-title {
            font-size: 1.25rem;
            margin-bottom: var(--spacing-unit);
        }

        .feature-description {
            font-size: 0.95rem;
            color: var(--text-color-light);
        }


        /* Filter Bar (Halaman Properti) */
        .filter-bar {
            display: flex;
            flex-wrap: wrap;
            /* Agar responsif */
            gap: calc(var(--spacing-unit) * 2);
            margin-bottom: calc(var(--spacing-unit) * 4);
            padding: calc(var(--spacing-unit) * 2);
            background-color: var(--text-on-primary);
            border-radius: var(--border-radius-medium);
            box-shadow: var(--shadow-soft);
        }

        .filter-input,
        .filter-select {
            padding: calc(var(--spacing-unit) * 1.25);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-small);
            font-size: 0.95rem;
            flex-grow: 1;
            /* Agar mengisi ruang */
        }

        .filter-input {
            min-width: 250px;
        }

        .filter-select {
            min-width: 200px;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%237f8c8d' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right calc(var(--spacing-unit) * 1.5) center;
            background-size: 1em;
            padding-right: calc(var(--spacing-unit) * 4);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--spacing-unit);
            margin-top: calc(var(--spacing-unit) * 5);
        }

        .pagination button,
        .pagination span {
            padding: calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 1.75);
            border: 1px solid var(--border-color);
            background-color: var(--text-on-primary);
            color: var(--primary-color);
            border-radius: var(--border-radius-small);
            cursor: pointer;
            transition: background-color var(--transition-fast), color var(--transition-fast);
            font-size: 0.9rem;
        }

        .pagination button:hover,
        .pagination button:focus {
            background-color: var(--primary-color-light);
        }

        .pagination button:disabled {
            color: var(--text-color-light);
            cursor: not-allowed;
            opacity: 0.7;
        }

        .pagination button.active {
            background-color: var(--primary-color);
            color: var(--text-on-primary);
            border-color: var(--primary-color);
            cursor: default;
        }

        .pagination span {
            border: none;
            background: none;
            cursor: default;
        }


        /* Halaman Detail Properti */
        .property-detail-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            /* Galeri lebih besar */
            gap: calc(var(--spacing-unit) * 4);
        }

        .property-detail-gallery .main-image {
            width: 100%;
            max-height: 500px;
            object-fit: cover;
            border-radius: var(--border-radius-large);
            margin-bottom: calc(var(--spacing-unit) * 2);
            box-shadow: var(--shadow-medium);
        }

        .thumbnail-images {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: var(--spacing-unit);
        }

        .thumbnail-images img {
            width: 100%;
            height: 80px;
            object-fit: cover;
            border-radius: var(--border-radius-medium);
            cursor: pointer;
            border: 2px solid transparent;
            transition: border-color var(--transition-fast), opacity var(--transition-fast);
            opacity: 0.7;
        }

        .thumbnail-images img:hover,
        .thumbnail-images img.active {
            border-color: var(--primary-color);
            opacity: 1;
        }

        .property-detail-info {
            background-color: var(--text-on-primary);
            padding: calc(var(--spacing-unit) * 3);
            border-radius: var(--border-radius-large);
            box-shadow: var(--shadow-soft);
        }

        .property-detail-info .property-title {
            font-size: 2rem;
            margin-bottom: var(--spacing-unit);
        }

        .property-detail-info .property-location {
            font-size: 1rem;
            color: var(--text-color-light);
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .property-detail-info .property-location i {
            color: var(--secondary-color);
            margin-right: var(--spacing-unit);
        }

        .property-specs {
            display: flex;
            gap: calc(var(--spacing-unit) * 2.5);
            margin-bottom: calc(var(--spacing-unit) * 2);
            padding-bottom: calc(var(--spacing-unit) * 2);
            border-bottom: 1px solid var(--border-color);
            font-size: 0.95rem;
        }

        .property-specs span {
            display: flex;
            align-items: center;
        }

        .property-specs i {
            margin-right: var(--spacing-unit);
            color: var(--primary-color);
        }

        .property-detail-info .property-price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: calc(var(--spacing-unit) * 3);
        }

        .info-subtitle {
            font-size: 1.2rem;
            font-weight: 600;
            margin-top: calc(var(--spacing-unit) * 3);
            margin-bottom: var(--spacing-unit);
            color: var(--text-color-dark);
        }

        .property-description-text {
            font-size: 1rem;
            line-height: 1.7;
        }

        .facilities-list {
            list-style: none;
            padding: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--spacing-unit);
            margin-bottom: calc(var(--spacing-unit) * 3);
        }

        .facilities-list li {
            font-size: 0.95rem;
            color: var(--text-color-dark);
            display: flex;
            align-items: center;
        }

        .facilities-list i {
            color: var(--secondary-color);
            margin-right: var(--spacing-unit);
        }

        .contact-agent-button {
            width: 100%;
            margin-top: calc(var(--spacing-unit) * 2);
        }

        .contact-agent-button i {
            margin-right: var(--spacing-unit);
        }


        /* Halaman Tentang Kami */
        .about-layout {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            /* Gambar lebih kecil dari teks */
            gap: calc(var(--spacing-unit) * 5);
            align-items: center;
        }

        .about-image-container .about-image {
            border-radius: var(--border-radius-large);
            box-shadow: var(--shadow-medium);
            width: 100%;
            height: auto;
            max-height: 450px;
            object-fit: cover;
        }

        .about-text-content h2 {
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .about-text-content h3 {
            margin-top: calc(var(--spacing-unit) * 3);
            margin-bottom: var(--spacing-unit);
            font-size: 1.3rem;
        }

        .about-text-content ul {
            list-style: none;
            padding-left: 0;
        }

        .about-text-content ul li {
            margin-bottom: var(--spacing-unit);
            display: flex;
            align-items: flex-start;
            /* Untuk ikon yang lebih besar */
        }

        .about-text-content ul li i {
            color: var(--primary-color);
            margin-right: calc(var(--spacing-unit) * 1.5);
            font-size: 1.2rem;
            margin-top: 0.2em;
            /* Sejajarkan dengan teks */
        }

        /* Halaman Kontak */
        .contact-layout {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            /* Form lebih besar */
            gap: calc(var(--spacing-unit) * 5);
        }

        .contact-form-container h2,
        .contact-info-container h2 {
            margin-bottom: calc(var(--spacing-unit) * 2.5);
        }

        .form-group {
            margin-bottom: calc(var(--spacing-unit) * 2.5);
        }

        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: var(--spacing-unit);
            color: var(--text-color-dark);
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group textarea {
            width: 100%;
            padding: calc(var(--spacing-unit) * 1.5);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-medium);
            font-size: 1rem;
            font-family: var(--font-primary);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px var(--primary-color-light);
        }

        .contact-form .button-primary i {
            margin-left: var(--spacing-unit);
        }

        .contact-info-container p {
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .contact-details-list {
            list-style: none;
            padding: 0;
        }

        .contact-details-list li {
            margin-bottom: calc(var(--spacing-unit) * 2);
            display: flex;
            align-items: flex-start;
        }

        .contact-details-list i {
            color: var(--primary-color);
            font-size: 1.2rem;
            margin-right: calc(var(--spacing-unit) * 1.5);
            width: 20px;
            /* Agar teks sejajar */
            text-align: center;
            margin-top: 0.1em;
        }

        .map-placeholder {
            margin-top: calc(var(--spacing-unit) * 3);
        }


        /* Halaman Masuk/Autentikasi */
        .auth-section .container {
            display: flex;
            justify-content: center;
        }

        .auth-form-container {
            background-color: var(--text-on-primary);
            padding: calc(var(--spacing-unit) * 4);
            border-radius: var(--border-radius-large);
            box-shadow: var(--shadow-medium);
            width: 100%;
            max-width: 450px;
            text-align: center;
        }

        .auth-form-container h2 {
            margin-bottom: var(--spacing-unit);
        }

        .auth-form-container p {
            margin-bottom: calc(var(--spacing-unit) * 3);
            color: var(--text-color-light);
        }

        .auth-form .form-group {
            text-align: left;
            /* Label dan input rata kiri */
        }

        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: calc(var(--spacing-unit) * 2.5);
            font-size: 0.9rem;
        }

        .checkbox-container {
            display: flex;
            /* Ganti dari block ke flex */
            align-items: center;
            /* Sejajarkan checkbox dan teks */
            position: relative;
            cursor: pointer;
            user-select: none;
            color: var(--text-color-light);
        }

        .checkbox-container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .checkmark {
            height: 20px;
            width: 20px;
            background-color: var(--bg-color-medium);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-small);
            margin-right: var(--spacing-unit);
            transition: background-color var(--transition-fast);
            display: inline-block;
            /* Agar margin kanan berfungsi */
        }

        .checkbox-container:hover input~.checkmark {
            background-color: #ccc;
        }

        .checkbox-container input:checked~.checkmark {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
            left: 7px;
            /* Sesuaikan posisi centang */
            top: 3px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        .checkbox-container input:checked~.checkmark:after {
            display: block;
        }

        .forgot-password-link {
            color: var(--primary-color);
            font-size: 0.9rem;
        }

        .forgot-password-link:hover {
            text-decoration: underline;
        }

        .auth-button {
            width: 100%;
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .auth-switch {
            font-size: 0.95rem;
            color: var(--text-color-light);
        }

        .auth-switch a {
            color: var(--primary-color);
            font-weight: 500;
        }

        .auth-switch a:hover {
            text-decoration: underline;
        }


        /* Footer */
        .site-footer-main {
            background-color: var(--bg-color-dark);
            color: #a9b3bb;
            /* Warna teks lebih terang dari default */
            padding: calc(var(--spacing-unit) * 6) 0 calc(var(--spacing-unit) * 2) 0;
            font-size: 0.95rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: calc(var(--spacing-unit) * 4);
            margin-bottom: calc(var(--spacing-unit) * 4);
        }

        .footer-section .footer-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-on-primary);
            margin-bottom: calc(var(--spacing-unit) * 2);
            display: flex;
            align-items: center;
        }

        .footer-section .footer-title .logo-icon {
            font-size: 1.3rem;
        }

        .footer-section.about p {
            line-height: 1.7;
            color: #a9b3bb;
        }

        .footer-section.links ul li {
            margin-bottom: var(--spacing-unit);
        }

        .footer-section.links ul li a {
            color: #a9b3bb;
            transition: color var(--transition-fast), padding-left var(--transition-fast);
        }

        .footer-section.links ul li a:hover,
        .footer-section.links ul li a:focus {
            color: var(--text-on-primary);
            padding-left: var(--spacing-unit);
        }

        .footer-section.contact-social p {
            margin-bottom: var(--spacing-unit);
            color: #a9b3bb;
            display: flex;
            align-items: flex-start;
        }

        .footer-section.contact-social p i {
            margin-right: var(--spacing-unit);
            margin-top: 0.2em;
            color: var(--secondary-color);
            /* Ikon kontak di footer */
            width: 18px;
            /* Lebar tetap untuk ikon */
            text-align: center;
        }

        .social-icons {
            margin-top: calc(var(--spacing-unit) * 2);
        }

        .social-icons a {
            color: #a9b3bb;
            font-size: 1.3rem;
            margin-right: calc(var(--spacing-unit) * 2);
            transition: color var(--transition-fast), transform var(--transition-fast);
            display: inline-block;
            /* Untuk transform */
        }

        .social-icons a:hover,
        .social-icons a:focus {
            color: var(--primary-color);
            transform: scale(1.2);
        }

        .social-icons a:last-child {
            margin-right: 0;
        }

        .footer-bottom {
            text-align: center;
            padding-top: calc(var(--spacing-unit) * 3);
            border-top: 1px solid #444;
            /* Garis pemisah halus */
            font-size: 0.9rem;
            color: #888;
        }

        /* Tombol Scroll to Top */
        .scroll-to-top {
            position: fixed;
            bottom: calc(var(--spacing-unit) * 3);
            right: calc(var(--spacing-unit) * 3);
            background-color: var(--primary-color);
            color: var(--text-on-primary);
            border: none;
            border-radius: var(--border-radius-circle);
            width: 50px;
            height: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: var(--shadow-medium);
            display: flex;
            /* Untuk centering ikon */
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: opacity var(--transition-smooth), visibility var(--transition-smooth), transform var(--transition-smooth);
            z-index: 999;
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .scroll-to-top:hover,
        .scroll-to-top:focus {
            background-color: var(--primary-color-dark);
            transform: translateY(-3px) scale(1.05);
            /* Efek hover sedikit naik dan membesar */
        }

        /* Responsivitas */
        @media (max-width: 992px) {

            /* Tablet dan di bawahnya */
            .search-form {
                grid-template-columns: 1fr;
                /* Input pencarian jadi satu kolom */
            }

            .search-button {
                grid-column: auto;
                /* Reset grid-column */
            }

            .property-detail-layout {
                grid-template-columns: 1fr;
                /* Layout detail jadi satu kolom */
            }

            .property-detail-info {
                margin-top: calc(var(--spacing-unit) * 3);
            }

            .about-layout,
            .contact-layout {
                grid-template-columns: 1fr;
            }

            .about-image-container {
                margin-bottom: calc(var(--spacing-unit) * 3);
                order: -1;
                /* Gambar di atas pada mode mobile/tablet jika diinginkan */
            }

            .contact-info-container {
                margin-top: calc(var(--spacing-unit) * 4);
            }
        }

        @media (max-width: 768px) {

            /* Mobile */
            .header-container {
                position: relative;
                /* Untuk positioning menu mobile */
            }

            .main-navigation .nav-list {
                position: absolute;
                top: var(--header-height);
                left: 0;
                width: 100%;
                background-color: var(--text-on-primary);
                flex-direction: column;
                align-items: stretch;
                /* Item nav jadi full width */
                padding: var(--spacing-unit) 0;
                box-shadow: var(--shadow-medium);
                transform: translateY(-120%);
                /* Sembunyikan di atas */
                transition: transform var(--transition-smooth);
                max-height: calc(100vh - var(--header-height));
                /* Batasi tinggi menu */
                overflow-y: auto;
                /* Scroll jika item banyak */
            }

            .main-navigation .nav-list.active {
                transform: translateY(0);
            }

            .main-navigation .nav-link {
                display: block;
                /* Agar link full width */
                padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2);
                text-align: center;
                border-bottom: 1px solid var(--border-color);
            }

            .main-navigation .nav-link:last-child {
                border-bottom: none;
            }

            .main-navigation .nav-link.active::after {
                /* Hapus garis bawah di mobile, sudah ada background */
                display: none;
            }

            .main-navigation .nav-button {
                margin: var(--spacing-unit) calc(var(--spacing-unit) * 2);
                width: auto;
                /* Tidak full width agar sesuai padding */
            }

            .nav-toggle {
                display: block;
                /* Tampilkan tombol hamburger */
            }

            .hero-section {
                min-height: auto;
                /* Tinggi hero menyesuaikan konten di mobile */
                padding: calc(var(--spacing-unit) * 10) 0 calc(var(--spacing-unit) * 6) 0;
            }

            .hero-title {
                font-size: 2.2rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            .property-grid {
                grid-template-columns: 1fr;
                /* Kartu properti satu kolom */
            }

            .footer-content {
                grid-template-columns: 1fr;
                /* Footer section satu kolom */
                text-align: center;
            }

            .footer-section.contact-social p {
                justify-content: center;
            }

            .social-icons {
                text-align: center;
            }
        }
    </style>
</head>

<body>

    <!-- Tombol untuk Skip ke Konten Utama (Aksesibilitas) -->
    <a href="#main-content" class="skip-link">Lewati ke Konten Utama</a>

    <!-- Header Aplikasi -->
    <header class="site-header">
        <div class="container header-container">
            <a href="#beranda" class="logo" aria-label="Green Valley - Kembali ke Beranda">
                <i class="fas fa-leaf logo-icon"></i> GreenValley
            </a>
            <nav class="main-navigation" aria-label="Navigasi Utama">
                <button class="nav-toggle" aria-expanded="false" aria-controls="navList"
                    aria-label="Buka Menu Navigasi">
                    <i class="fas fa-bars open-icon"></i>
                    <i class="fas fa-times close-icon"></i>
                </button>
                <ul class="nav-list" id="navList">
                    <li><a href="#beranda" class="nav-link active" data-page="beranda">Beranda</a></li>
                    <li><a href="#properti" class="nav-link" data-page="properti">Properti</a></li>
                    <li><a href="#tentang" class="nav-link" data-page="tentang">Tentang Kami</a></li>
                    <li><a href="#kontak" class="nav-link" data-page="kontak">Kontak</a></li>
                    <li><a href="#masuk" class="nav-link nav-button" data-page="masuk">Masuk</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Konten Utama Aplikasi (dimuat dinamis oleh JavaScript) -->
    <main id="main-content" class="main-content-area" aria-live="polite">
        <!-- Konten halaman akan dimuat di sini -->
    </main>

    <!-- Footer Aplikasi -->
    <footer class="site-footer-main">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section about">
                    <h3 class="footer-title">
                        <i class="fas fa-leaf logo-icon"></i> GreenValley
                    </h3>
                    <p>Menyediakan solusi properti terbaik untuk kenyamanan hidup Anda. Temukan apartemen impian dengan
                        mudah bersama kami.</p>
                </div>
                <div class="footer-section links">
                    <h3 class="footer-title">Tautan Cepat</h3>
                    <ul>
                        <li><a href="#beranda" data-page="beranda">Beranda</a></li>
                        <li><a href="#properti" data-page="properti">Properti</a></li>
                        <li><a href="#tentang" data-page="tentang">Tentang Kami</a></li>
                        <li><a href="#kontak" data-page="kontak">Kebijakan Privasi</a></li>
                        <li><a href="#kontak" data-page="kontak">Syarat & Ketentuan</a></li>
                    </ul>
                </div>
                <div class="footer-section contact-social">
                    <h3 class="footer-title">Hubungi Kami</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Jl. Apartemen Indah No. 123, Jakarta</p>
                    <p><i class="fas fa-phone"></i> (021) 123-4567</p>
                    <p><i class="fas fa-envelope"></i> info@greenvalley.example.com</p>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook Green Valley" target="_blank" rel="noopener noreferrer"><i
                                class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter Green Valley" target="_blank" rel="noopener noreferrer"><i
                                class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram Green Valley" target="_blank" rel="noopener noreferrer"><i
                                class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="LinkedIn Green Valley" target="_blank" rel="noopener noreferrer"><i
                                class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© <span id="currentYear"></span> Green Valley. Semua hak dilindungi undang-undang.</p>
            </div>
        </div>
    </footer>

    <!-- Tombol Kembali ke Atas -->
    <button id="scrollToTopBtn" class="scroll-to-top" title="Kembali ke Atas" aria-label="Kembali ke atas halaman">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Template untuk Halaman (dapat juga disimpan sebagai string di JS) -->
    <template id="template-beranda">
        <section class="hero-section">
            <div class="hero-background"></div>
            <div class="hero-overlay"></div>
            <div class="container hero-content">
                <h1 class="hero-title">Temukan Apartemen <span class="highlight">Impian</span> Anda</h1>
                <p class="hero-subtitle">Pencarian cepat, pilihan terbaik, dan pengalaman menyewa yang mudah di Green
                    Valley.</p>
                <form class="search-form" id="searchForm">
                    <div class="search-input-group">
                        <i class="fas fa-map-marker-alt search-icon"></i>
                        <input type="text" id="lokasi" name="lokasi"
                            placeholder="Masukkan Lokasi (cth: Jakarta Selatan)" aria-label="Lokasi Apartemen">
                    </div>
                    <div class="search-input-group">
                        <i class="fas fa-bed search-icon"></i>
                        <select id="tipe" name="tipe" aria-label="Tipe Apartemen">
                            <option value="">Semua Tipe</option>
                            <option value="studio">Studio</option>
                            <option value="1br">1 Kamar Tidur</option>
                            <option value="2br">2 Kamar Tidur</option>
                            <option value="3br">3+ Kamar Tidur</option>
                        </select>
                    </div>
                    <div class="search-input-group">
                        <i class="fas fa-dollar-sign search-icon"></i>
                        <input type="number" id="hargaMax" name="hargaMax" placeholder="Harga Maks (IDR)"
                            aria-label="Harga Maksimal Apartemen">
                    </div>
                    <button type="submit" class="button-primary search-button">
                        <i class="fas fa-search"></i> Cari Properti
                    </button>
                </form>
            </div>
        </section>

        <section class="featured-properties-section section-padding">
            <div class="container">
                <h2 class="section-title">Properti <span class="highlight">Unggulan</span> Kami</h2>
                <p class="section-subtitle">Pilihan apartemen terbaik yang telah kami kurasi khusus untuk Anda.</p>
                <div class="property-grid" id="featuredPropertiesGrid">
                    <!-- Kartu properti akan dimuat di sini oleh JavaScript -->
                </div>
                <div class="text-center mt-40">
                    <a href="#properti" class="button-secondary" data-page="properti">Lihat Semua Properti <i
                            class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </section>

        <section class="why-choose-us-section section-padding-bg">
            <div class="container">
                <h2 class="section-title">Mengapa Memilih <span class="highlight">Green Valley?</span></h2>
                <div class="features-grid">
                    <div class="feature-item">
                        <div class="feature-icon"><i class="fas fa-check-circle"></i></div>
                        <h3 class="feature-title">Terverifikasi & Aman</h3>
                        <p class="feature-description">Semua listing properti telah melalui proses verifikasi ketat
                            untuk keamanan transaksi Anda.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"><i class="fas fa-search-location"></i></div>
                        <h3 class="feature-title">Pilihan Lokasi Strategis</h3>
                        <p class="feature-description">Apartemen di lokasi-lokasi premium dengan akses mudah ke
                            fasilitas publik dan pusat bisnis.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"><i class="fas fa-headset"></i></div>
                        <h3 class="feature-title">Dukungan Pelanggan 24/7</h3>
                        <p class="feature-description">Tim kami siap membantu Anda kapan saja melalui berbagai saluran
                            komunikasi.</p>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <template id="template-properti">
        <section class="page-header-section">
            <div class="container">
                <h1 class="page-title">Daftar <span class="highlight">Properti</span></h1>
                <p class="page-subtitle">Jelajahi semua pilihan apartemen yang tersedia di Green Valley.</p>
            </div>
        </section>
        <section class="all-properties-section section-padding">
            <div class="container">
                <div class="filter-bar">
                    <input type="text" id="filterKeyword" placeholder="Cari berdasarkan nama atau kata kunci..."
                        class="filter-input">
                    <select id="filterSort" class="filter-select">
                        <option value="populer">Urutkan: Populer</option>
                        <option value="harga-asc">Harga: Termurah</option>
                        <option value="harga-desc">Harga: Termahal</option>
                        <option value="baru">Terbaru</option>
                    </select>
                </div>
                <div class="property-grid" id="allPropertiesGrid">
                    <!-- Semua kartu properti akan dimuat di sini -->
                </div>
                <div class="pagination" id="paginationControls">
                    <!-- Kontrol paginasi akan dimuat di sini -->
                </div>
            </div>
        </section>
    </template>

    <template id="template-detail-properti">
        <section class="page-header-section">
            <div class="container">
                <h1 class="page-title" id="detailPropertyName">Nama Properti <span class="highlight">Detail</span></h1>
            </div>
        </section>
        <section class="property-detail-section section-padding">
            <div class="container">
                <div class="property-detail-layout">
                    <div class="property-detail-gallery">
                        <img id="detailPropertyImage"
                            src="https://source.unsplash.com/random/800x500?apartment-interior" alt="Interior Apartemen"
                            class="main-image">
                        <div class="thumbnail-images">
                            <!-- Thumbnail akan ditambahkan oleh JS -->
                        </div>
                    </div>
                    <div class="property-detail-info">
                        <h2 id="detailPropertyTitleInfo" class="property-title">Judul Properti Elegan</h2>
                        <p class="property-location"><i class="fas fa-map-marker-alt"></i> <span
                                id="detailPropertyLocation">Lokasi Detail</span></p>
                        <div class="property-specs">
                            <span><i class="fas fa-bed"></i> <span id="detailPropertyBeds">3</span> Kamar</span>
                            <span><i class="fas fa-bath"></i> <span id="detailPropertyBaths">2</span> Kamar Mandi</span>
                            <span><i class="fas fa-ruler-combined"></i> <span id="detailPropertyArea">120</span>
                                m¬≤</span>
                        </div>
                        <p class="property-price"><span id="detailPropertyPrice">IDR 25.000.000</span> / tahun</p>
                        <h3 class="info-subtitle">Deskripsi</h3>
                        <p id="detailPropertyDescription" class="property-description-text">
                            Apartemen mewah ini menawarkan kenyamanan tak tertandingi dengan desain interior modern dan
                            fasilitas lengkap. Terletak di jantung kota, memberikan akses mudah ke berbagai pusat
                            perbelanjaan, hiburan, dan bisnis. Nikmati pemandangan kota yang menakjubkan dari balkon
                            pribadi Anda.
                        </p>
                        <h3 class="info-subtitle">Fasilitas</h3>
                        <ul id="detailPropertyFacilities" class="facilities-list">
                            <li><i class="fas fa-check-circle"></i> Kolam Renang</li>
                            <li><i class="fas fa-check-circle"></i> Gym</li>
                            <li><i class="fas fa-check-circle"></i> Keamanan 24 Jam</li>
                            <li><i class="fas fa-check-circle"></i> Parkir Basement</li>
                        </ul>
                        <button class="button-primary contact-agent-button">
                            <i class="fas fa-phone-alt"></i> Hubungi Agen
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <template id="template-tentang">
        <section class="page-header-section">
            <div class="container">
                <h1 class="page-title">Tentang <span class="highlight">Green Valley</span></h1>
                <p class="page-subtitle">Mengenal lebih jauh siapa kami dan apa yang kami tawarkan.</p>
            </div>
        </section>
        <section class="about-us-content section-padding">
            <div class="container">
                <div class="about-layout">
                    <div class="about-image-container">
                        <img src="https://source.unsplash.com/random/600x400?office,modern" alt="Tim Green Valley"
                            class="about-image">
                    </div>
                    <div class="about-text-content">
                        <h2>Visi & Misi Kami</h2>
                        <p>Di Green Valley, kami percaya bahwa setiap orang berhak mendapatkan hunian yang nyaman, aman,
                            dan strategis. Misi kami adalah menghubungkan pencari properti dengan pilihan apartemen
                            terbaik melalui platform yang inovatif dan layanan pelanggan yang prima.</p>
                        <p>Kami berkomitmen untuk transparansi, integritas, dan kepuasan pelanggan. Tim profesional kami
                            selalu siap membantu Anda dalam setiap langkah proses penyewaan, mulai dari pencarian hingga
                            penandatanganan kontrak.</p>
                        <h3>Nilai-Nilai Kami:</h3>
                        <ul>
                            <li><i class="fas fa-shield-alt"></i> <strong>Integritas:</strong> Jujur dan transparan
                                dalam setiap interaksi.</li>
                            <li><i class="fas fa-star"></i> <strong>Kualitas:</strong> Menyediakan listing properti
                                berkualitas tinggi.</li>
                            <li><i class="fas fa-users"></i> <strong>Pelanggan Utama:</strong> Kepuasan Anda adalah
                                prioritas kami.</li>
                            <li><i class="fas fa-lightbulb"></i> <strong>Inovasi:</strong> Terus mengembangkan platform
                                untuk pengalaman terbaik.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <template id="template-kontak">
        <section class="page-header-section">
            <div class="container">
                <h1 class="page-title">Hubungi <span class="highlight">Kami</span></h1>
                <p class="page-subtitle">Kami senang mendengar dari Anda. Jangan ragu untuk menghubungi tim Green
                    Valley.</p>
            </div>
        </section>
        <section class="contact-section section-padding">
            <div class="container">
                <div class="contact-layout">
                    <div class="contact-form-container">
                        <h2>Kirim Pesan</h2>
                        <form id="contactForm" class="contact-form">
                            <div class="form-group">
                                <label for="contactName">Nama Lengkap</label>
                                <input type="text" id="contactName" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="contactEmail">Alamat Email</label>
                                <input type="email" id="contactEmail" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="contactSubject">Subjek</label>
                                <input type="text" id="contactSubject" name="subject" required>
                            </div>
                            <div class="form-group">
                                <label for="contactMessage">Pesan Anda</label>
                                <textarea id="contactMessage" name="message" rows="5" required></textarea>
                            </div>
                            <button type="submit" class="button-primary">Kirim Pesan <i
                                    class="fas fa-paper-plane"></i></button>
                        </form>
                    </div>
                    <div class="contact-info-container">
                        <h2>Informasi Kontak</h2>
                        <p>Anda juga dapat menghubungi kami melalui detail di bawah ini atau kunjungi kantor kami.</p>
                        <ul class="contact-details-list">
                            <li><i class="fas fa-map-marker-alt"></i> <strong>Alamat:</strong><br>Jl. Apartemen Indah
                                No. 123, Kota Metropolitan, Kode Pos 12345</li>
                            <li><i class="fas fa-phone-alt"></i> <strong>Telepon:</strong><br>(021) 555-0001</li>
                            <li><i class="fas fa-envelope"></i>
                                <strong>Email:</strong><br>support@greenvalley.example.com
                            </li>
                            <li><i class="fas fa-clock"></i> <strong>Jam Operasional:</strong><br>Senin - Jumat: 09:00 -
                                17:00 WIB</li>
                        </ul>
                        <div class="map-placeholder">
                            <!-- Seharusnya di sini adalah peta interaktif, tapi karena batasan, kita gunakan gambar placeholder -->
                            <img src="https://source.unsplash.com/random/400x250?map,city"
                                alt="Lokasi Kantor Green Valley pada Peta"
                                style="width:100%; height:auto; border-radius: var(--border-radius-medium);">
                            <p class="text-small text-center mt-10">Peta Lokasi (Contoh)</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <template id="template-masuk">
        <section class="page-header-section">
            <div class="container">
                <h1 class="page-title">Masuk atau <span class="highlight">Daftar</span></h1>
                <p class="page-subtitle">Akses akun Anda untuk mengelola properti dan preferensi.</p>
            </div>
        </section>
        <section class="auth-section section-padding">
            <div class="container">
                <div class="auth-form-container">
                    <h2>Selamat Datang Kembali!</h2>
                    <p>Silakan masuk ke akun Green Valley Anda.</p>
                    <form id="loginForm" class="auth-form">
                        <div class="form-group">
                            <label for="loginEmail">Alamat Email</label>
                            <input type="email" id="loginEmail" name="email" required autocomplete="username">
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Kata Sandi</label>
                            <input type="password" id="loginPassword" name="password" required
                                autocomplete="current-password">
                        </div>
                        <div class="form-options">
                            <label class="checkbox-container">
                                <input type="checkbox" name="rememberMe">
                                <span class="checkmark"></span>
                                Ingat Saya
                            </label>
                            <a href="#" class="forgot-password-link">Lupa Kata Sandi?</a>
                        </div>
                        <button type="submit" class="button-primary auth-button">Masuk</button>
                    </form>
                    <p class="auth-switch">Belum punya akun? <a href="#daftar" data-page="daftar">Daftar di sini</a></p>
                </div>
                <!-- Fungsionalitas daftar bisa menjadi halaman/komponen terpisah atau toggle di halaman yang sama -->
            </div>
        </section>
    </template>

    <script>
        // script.js

        document.addEventListener('DOMContentLoaded', () => {
            // State Aplikasi Sederhana
            const appState = {
                currentPage: 'beranda',
                properties: [
                    // Data properti dummy/mock
                    {
                        id: 'prop1',
                        name: 'Apartemen Skygarden Modern',
                        location: 'Jakarta Pusat',
                        price: 12000000,
                        period: 'tahun',
                        bedrooms: 2,
                        bathrooms: 1,
                        area: 75,
                        image: 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8YXBhcnRtZW50fGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60',
                        images: [
                            'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YXBhcnRtZW50fGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60',
                            'https://source.unsplash.com/random/800x500?apartment-livingroom&sig=102',
                            'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=40&q=80',
                            'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=40&q=80',
                        ],
                        description: 'Apartemen modern dengan 2 kamar tidur di pusat kota Jakarta. Menawarkan pemandangan kota yang menakjubkan dan fasilitas lengkap termasuk kolam renang, gym, dan keamanan 24 jam. Cocok untuk profesional muda atau keluarga kecil.',
                        facilities: ['Kolam Renang', 'Gymnasium', 'Keamanan 24 Jam', 'Parkir Basement', 'Sky Lounge']
                    },
                    {
                        id: 'prop2',
                        name: 'Residence Urban Nyaman',
                        location: 'Surabaya Barat',
                        price: 8500000,
                        period: 'tahun',
                        bedrooms: 1,
                        bathrooms: 1,
                        area: 50,
                        image: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YmVhdXRpZnVsJTIwbGFuZHNjYXBlfGVufDB8fDB8fHww&w=100&q=80 ',
                        images: [
                            'https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fGFwYXJ0bWVudCUyMGludGVyaW9yfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60',
                            'https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8YXBhcnRtZW50JTIwaW50ZXJpb3J8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60',
                        ],
                        description: 'Studio apartemen yang nyaman dan fully furnished di Surabaya Barat. Ideal untuk mahasiswa atau pekerja lajang. Dekat dengan pusat perbelanjaan dan transportasi umum.',
                        facilities: ['Dapur Lengkap', 'Wi-Fi Cepat', 'Area Kerja', 'Laundry Koin']
                    },
                    {
                        id: 'prop3',
                        name: 'Green Oasis Family Suite',
                        location: 'Bandung Utara',
                        price: 15000000,
                        period: 'tahun',
                        bedrooms: 3,
                        bathrooms: 2,
                        area: 120,
                        image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8„É©„Ç∞„Ç∏„É•„Ç¢„É™„Éº%20„Ç¢„Éë„Éº„Éà„É°„É≥„ÉàfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60',
                        images: [
                            'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGFwYXJ0bWVudHxlbnwwfHwwfHx8MA&auto=format&fit=crop&w=500&q=60',
                            'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8YXBhcnRtZW50fGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60',
                            'https://images.unsplash.com/photo-1580041069243-BEIC50ed23cc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGFwYXJ0bWVudCUyMGJhbGNvbnl8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80',
                        ],
                        description: 'Suite keluarga yang luas dengan 3 kamar tidur di area Bandung Utara yang sejuk. Dikelilingi taman hijau, menawarkan ketenangan dan kenyamanan. Fasilitas premium untuk seluruh keluarga.',
                        facilities: ['Taman Bermain Anak', 'Jogging Track', 'Kolam Renang Keluarga', 'Ruang Serbaguna', 'Sistem Keamanan Terpadu']
                    },
                    {
                        id: 'prop4',
                        name: 'Cityscape Loft Minimalis',
                        location: 'Medan Kota',
                        price: 9500000,
                        period: 'tahun',
                        bedrooms: 2,
                        bathrooms: 2,
                        area: 80,
                        image: 'https://images.unsplash.com/photo-1616047006789-b7af5afb8c20?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8YXBhcnRtZW50JTIwc2VhfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=80',
                        images: [
                            'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8YXBhcnRtZW50JTIwY2l0eXxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=80',
                            'https://images.unsplash.com/photo-1493809842364-78817add7ffb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YXBhcnRtZW50JTIwbHV4dXJ5fGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=80',
                        ],
                        description: 'Loft minimalis dengan pemandangan kota Medan. Desain interior yang cerdas memaksimalkan ruang dan cahaya alami. Lokasi strategis dekat area bisnis.',
                        facilities: ['Smart Home System', 'Rooftop Garden', 'Co-working Space', 'Akses Lift Pribadi']
                    },
                    // Tambahkan lebih banyak properti jika perlu
                ],
                filteredProperties: [], // Untuk hasil filter di halaman properti
                itemsPerPage: 6, // Jumlah properti per halaman di daftar properti
                currentPageNumber: 1, // Halaman saat ini di daftar properti
            };

            // Elemen DOM Utama
            const mainContent = document.getElementById('main-content');
            const navLinks = document.querySelectorAll('.main-navigation .nav-link, .footer-section.links a');
            const navToggle = document.querySelector('.nav-toggle');
            const navList = document.querySelector('.main-navigation .nav-list');
            const scrollToTopBtn = document.getElementById('scrollToTopBtn');
            const currentYearSpan = document.getElementById('currentYear');

            // Inisialisasi Tahun di Footer
            if (currentYearSpan) {
                currentYearSpan.textContent = new Date().getFullYear();
            }

            // Fungsi utilitas format harga
            function formatPrice(price) {
                return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(price);
            }

            // Fungsi untuk membuat kartu properti
            function createPropertyCard(property, isDetailedLink = false) {
                const card = document.createElement('article');
                card.className = 'property-card';
                card.setAttribute('aria-labelledby', `prop-title-${property.id}`);

                const detailLink = isDetailedLink ? `href="#properti/${property.id}" data-page="detail-properti" data-id="${property.id}"` : `href="#properti/${property.id}" data-page="detail-properti" data-id="${property.id}"`;

                card.innerHTML = `
            <a ${detailLink} class="property-card-image-link" aria-label="Lihat detail ${property.name}">
                <img src="${property.image}" alt="Tampilan luar ${property.name}" class="property-card-image" loading="lazy">
            </a>
            <div class="property-card-content">
                <h3 class="property-card-title" id="prop-title-${property.id}">
                    <a ${detailLink}>${property.name}</a>
                </h3>
                <p class="property-card-location">
                    <i class="fas fa-map-marker-alt"></i> ${property.location}
                </p>
                <div class="property-card-features">
                    <span><i class="fas fa-bed"></i> ${property.bedrooms} KT</span>
                    <span><i class="fas fa-bath"></i> ${property.bathrooms} KM</span>
                    <span><i class="fas fa-ruler-combined"></i> ${property.area} m¬≤</span>
                </div>
                <p class="property-card-price">
                    ${formatPrice(property.price)} <span class="period">/${property.period}</span>
                </p>
                <a ${detailLink} class="button-primary">
                    Lihat Detail <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        `;
                return card;
            }

            // Fungsi untuk merender halaman
            function renderPage(pageId, propertyId = null) {
                mainContent.innerHTML = ''; // Kosongkan konten sebelumnya
                mainContent.scrollTop = 0; // Scroll ke atas konten baru

                // Efek transisi sederhana
                mainContent.classList.remove('page-enter-active');
                void mainContent.offsetWidth; // Memicu reflow untuk merestart animasi
                mainContent.classList.add('page-enter-active');


                let templateId = `template-${pageId}`;
                const template = document.getElementById(templateId);

                if (template) {
                    const content = template.content.cloneNode(true);
                    mainContent.appendChild(content);

                    // Logika khusus untuk setiap halaman
                    if (pageId === 'beranda') {
                        loadFeaturedProperties();
                        setupSearchForm('searchForm');
                    } else if (pageId === 'properti') {
                        loadAllProperties();
                        setupPropertyFilters();
                    } else if (pageId === 'detail-properti' && propertyId) {
                        loadPropertyDetail(propertyId);
                    } else if (pageId === 'kontak') {
                        setupContactForm();
                    } else if (pageId === 'masuk') {
                        setupLoginForm();
                    }
                } else {
                    mainContent.innerHTML = `<div class="container section-padding"><h2 class="section-title">Halaman Tidak Ditemukan</h2><p class="text-center">Maaf, konten untuk halaman '${pageId}' belum tersedia.</p></div>`;
                    console.warn(`Template untuk halaman "${pageId}" tidak ditemukan.`);
                }
                updateActiveNavLink(pageId);
                appState.currentPage = pageId;
                document.title = `Green Valley - ${pageId.charAt(0).toUpperCase() + pageId.slice(1).replace('-', ' ')}`;

                // Tutup menu navigasi mobile setelah link diklik
                if (navList.classList.contains('active')) {
                    navList.classList.remove('active');
                    navToggle.setAttribute('aria-expanded', 'false');
                }
            }

            // Fungsi untuk memuat properti unggulan di Beranda
            function loadFeaturedProperties() {
                const grid = document.getElementById('featuredPropertiesGrid');
                if (!grid) return;
                grid.innerHTML = ''; // Kosongkan dulu
                const featured = appState.properties.slice(0, 3); // Ambil 3 pertama sebagai unggulan
                featured.forEach(prop => {
                    grid.appendChild(createPropertyCard(prop, true));
                });
            }

            // Fungsi untuk setup form pencarian
            function setupSearchForm(formId) {
                const form = document.getElementById(formId);
                if (form) {
                    form.addEventListener('submit', (e) => {
                        e.preventDefault();
                        const lokasi = form.lokasi.value;
                        const tipe = form.tipe.value;
                        const hargaMax = form.hargaMax.value;
                        // Simulasikan navigasi ke halaman properti dengan filter (belum diimplementasikan penuh)
                        console.log('Mencari dengan:', { lokasi, tipe, hargaMax });
                        alert(`Pencarian disimulasikan untuk:\nLokasi: ${lokasi}\nTipe: ${tipe}\nHarga Maks: ${hargaMax}\n\nFitur filter lengkap akan ada di halaman Properti.`);
                        window.location.hash = '#properti'; // Arahkan ke halaman properti
                    });
                }
            }

            // Fungsi untuk memuat semua properti di halaman Properti (dengan paginasi)
            function loadAllProperties(pageNumber = 1) {
                const grid = document.getElementById('allPropertiesGrid');
                if (!grid) return;
                grid.innerHTML = '';

                appState.currentPageNumber = pageNumber;
                const startIndex = (pageNumber - 1) * appState.itemsPerPage;
                const endIndex = startIndex + appState.itemsPerPage;

                // Gunakan appState.filteredProperties jika ada, jika tidak, gunakan semua properti
                const propertiesToDisplay = (appState.filteredProperties.length > 0 || document.getElementById('filterKeyword')?.value)
                    ? appState.filteredProperties
                    : appState.properties;

                const paginatedProperties = propertiesToDisplay.slice(startIndex, endIndex);

                if (paginatedProperties.length === 0) {
                    grid.innerHTML = '<p class="text-center" style="grid-column: 1 / -1;">Tidak ada properti yang cocok dengan kriteria Anda.</p>';
                } else {
                    paginatedProperties.forEach(prop => {
                        grid.appendChild(createPropertyCard(prop, true));
                    });
                }
                renderPaginationControls(propertiesToDisplay.length);
            }

            // Fungsi untuk merender kontrol paginasi
            function renderPaginationControls(totalItems) {
                const paginationContainer = document.getElementById('paginationControls');
                if (!paginationContainer) return;
                paginationContainer.innerHTML = '';

                const totalPages = Math.ceil(totalItems / appState.itemsPerPage);
                if (totalPages <= 1) return; // Tidak perlu paginasi jika hanya 1 halaman

                // Tombol Sebelumnya
                const prevButton = document.createElement('button');
                prevButton.innerHTML = '<i class="fas fa-chevron-left"></i> Seb';
                prevButton.disabled = appState.currentPageNumber === 1;
                prevButton.addEventListener('click', () => loadAllProperties(appState.currentPageNumber - 1));
                paginationContainer.appendChild(prevButton);

                // Tombol Angka Halaman (maksimal 5 tombol angka)
                let startPage = Math.max(1, appState.currentPageNumber - 2);
                let endPage = Math.min(totalPages, appState.currentPageNumber + 2);

                if (appState.currentPageNumber <= 3) {
                    endPage = Math.min(totalPages, 5);
                }
                if (appState.currentPageNumber > totalPages - 3) {
                    startPage = Math.max(1, totalPages - 4);
                }

                if (startPage > 1) {
                    const firstButton = document.createElement('button');
                    firstButton.textContent = '1';
                    firstButton.addEventListener('click', () => loadAllProperties(1));
                    paginationContainer.appendChild(firstButton);
                    if (startPage > 2) {
                        const ellipsis = document.createElement('span');
                        ellipsis.textContent = '...';
                        paginationContainer.appendChild(ellipsis);
                    }
                }

                for (let i = startPage; i <= endPage; i++) {
                    const pageButton = document.createElement('button');
                    pageButton.textContent = i;
                    if (i === appState.currentPageNumber) {
                        pageButton.classList.add('active');
                        pageButton.setAttribute('aria-current', 'page');
                    }
                    pageButton.addEventListener('click', () => loadAllProperties(i));
                    paginationContainer.appendChild(pageButton);
                }

                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) {
                        const ellipsis = document.createElement('span');
                        ellipsis.textContent = '...';
                        paginationContainer.appendChild(ellipsis);
                    }
                    const lastButton = document.createElement('button');
                    lastButton.textContent = totalPages;
                    lastButton.addEventListener('click', () => loadAllProperties(totalPages));
                    paginationContainer.appendChild(lastButton);
                }


                // Tombol Berikutnya
                const nextButton = document.createElement('button');
                nextButton.innerHTML = 'Ber <i class="fas fa-chevron-right"></i>';
                nextButton.disabled = appState.currentPageNumber === totalPages;
                nextButton.addEventListener('click', () => loadAllProperties(appState.currentPageNumber + 1));
                paginationContainer.appendChild(nextButton);
            }

            // Fungsi untuk setup filter di halaman properti
            function setupPropertyFilters() {
                const keywordFilter = document.getElementById('filterKeyword');
                const sortFilter = document.getElementById('filterSort');

                function applyFilters() {
                    const keyword = keywordFilter.value.toLowerCase();
                    const sortBy = sortFilter.value;

                    let results = appState.properties.filter(prop =>
                        prop.name.toLowerCase().includes(keyword) ||
                        prop.location.toLowerCase().includes(keyword)
                    );

                    switch (sortBy) {
                        case 'harga-asc':
                            results.sort((a, b) => a.price - b.price);
                            break;
                        case 'harga-desc':
                            results.sort((a, b) => b.price - a.price);
                            break;
                        case 'baru': // Asumsi ID yang lebih baru memiliki angka lebih tinggi atau semacamnya (dummy)
                            results.sort((a, b) => parseInt(b.id.replace('prop', '')) - parseInt(a.id.replace('prop', '')));
                            break;
                        // case 'populer' default, tidak diubah urutannya
                    }
                    appState.filteredProperties = results;
                    loadAllProperties(1); // Selalu kembali ke halaman 1 setelah filter
                }

                if (keywordFilter) keywordFilter.addEventListener('input', applyFilters);
                if (sortFilter) sortFilter.addEventListener('change', applyFilters);

                // Reset filteredProperties saat pertama kali memuat halaman Properti
                appState.filteredProperties = [];
            }


            // Fungsi untuk memuat detail properti
            function loadPropertyDetail(propertyId) {
                const property = appState.properties.find(p => p.id === propertyId);
                if (!property) {
                    mainContent.innerHTML = `<div class="container section-padding"><h2 class="section-title">Properti Tidak Ditemukan</h2><p class="text-center">Maaf, properti dengan ID '${propertyId}' tidak dapat ditemukan.</p> <p class="text-center mt-20"><a href="#properti" class="button-primary" data-page="properti">Kembali ke Daftar Properti</a></p></div>`;
                    return;
                }

                document.getElementById('detailPropertyName').innerHTML = `${property.name} <span class="highlight">Detail</span>`;
                document.getElementById('detailPropertyImage').src = property.images[0] || property.image;
                document.getElementById('detailPropertyImage').alt = `Interior utama ${property.name}`;

                const thumbnailContainer = document.querySelector('.thumbnail-images');
                thumbnailContainer.innerHTML = '';
                property.images.forEach((imgSrc, index) => {
                    const thumb = document.createElement('img');
                    thumb.src = imgSrc;
                    thumb.alt = `Thumbnail ${index + 1} untuk ${property.name}`;
                    thumb.loading = 'lazy';
                    if (index === 0) thumb.classList.add('active');
                    thumb.addEventListener('click', () => {
                        document.getElementById('detailPropertyImage').src = imgSrc;
                        thumbnailContainer.querySelectorAll('img').forEach(i => i.classList.remove('active'));
                        thumb.classList.add('active');
                    });
                    thumbnailContainer.appendChild(thumb);
                });

                document.getElementById('detailPropertyTitleInfo').textContent = property.name;
                document.getElementById('detailPropertyLocation').textContent = property.location;
                document.getElementById('detailPropertyBeds').textContent = property.bedrooms;
                document.getElementById('detailPropertyBaths').textContent = property.bathrooms;
                document.getElementById('detailPropertyArea').textContent = property.area;
                document.getElementById('detailPropertyPrice').innerHTML = `${formatPrice(property.price)} <span class="period">/ ${property.period}</span>`;
                document.getElementById('detailPropertyDescription').textContent = property.description;

                const facilitiesList = document.getElementById('detailPropertyFacilities');
                facilitiesList.innerHTML = '';
                property.facilities.forEach(facility => {
                    const li = document.createElement('li');
                    li.innerHTML = `<i class="fas fa-check-circle"></i> ${facility}`;
                    facilitiesList.appendChild(li);
                });

                const contactAgentButton = document.querySelector('.contact-agent-button');
                if (contactAgentButton) {
                    contactAgentButton.onclick = () => {
                        alert(`Untuk properti "${property.name}", silakan hubungi agen kami di (021) 123-4567 atau email ke sales@greenvalley.example.com`);
                    }
                }
            }

            // Fungsi untuk setup form kontak
            function setupContactForm() {
                const form = document.getElementById('contactForm');
                if (form) {
                    form.addEventListener('submit', (e) => {
                        e.preventDefault();
                        const name = form.contactName.value;
                        alert(`Terima kasih, ${name}! Pesan Anda telah "dikirim". (Ini adalah simulasi).`);
                        form.reset();
                    });
                }
            }

            // Fungsi untuk setup form login
            function setupLoginForm() {
                const form = document.getElementById('loginForm');
                if (form) {
                    form.addEventListener('submit', (e) => {
                        e.preventDefault();
                        const email = form.loginEmail.value;
                        alert(`Selamat datang kembali, ${email}! Anda telah "berhasil masuk". (Ini adalah simulasi).`);
                        form.reset();
                        window.location.hash = '#beranda'; // Arahkan ke beranda setelah "login"
                    });
                }
            }


            // Fungsi untuk memperbarui link navigasi yang aktif
            function updateActiveNavLink(pageId) {
                navLinks.forEach(link => {
                    if (link.dataset.page === pageId || (pageId === 'detail-properti' && link.dataset.page === 'properti')) {
                        link.classList.add('active');
                        link.setAttribute('aria-current', 'page');
                    } else {
                        link.classList.remove('active');
                        link.removeAttribute('aria-current');
                    }
                });
            }

            // Router Sederhana
            function handleRouteChange() {
                const hash = window.location.hash.substring(1); // Hapus #
                let pageId = 'beranda'; // Halaman default
                let propertyId = null;

                if (hash) {
                    const parts = hash.split('/');
                    pageId = parts[0];
                    if (parts[0] === 'properti' && parts[1]) {
                        pageId = 'detail-properti';
                        propertyId = parts[1];
                    }
                }
                renderPage(pageId, propertyId);
            }

            // Event Listener untuk Navigasi
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    // Hanya cegah default jika itu link hash internal
                    if (link.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        const pageId = link.dataset.page;
                        const propertyId = link.dataset.id; // Untuk link detail properti

                        let newHash = `#${pageId}`;
                        if (pageId === 'detail-properti' && propertyId) {
                            newHash = `#properti/${propertyId}`;
                        }

                        if (window.location.hash !== newHash) {
                            window.location.hash = newHash;
                        } else {
                            // Jika hash sama (misal klik link aktif lagi), cukup render ulang
                            renderPage(pageId, propertyId);
                        }
                    }
                });
            });

            // Event listener untuk tombol skip link
            const skipLink = document.querySelector('.skip-link');
            if (skipLink) {
                skipLink.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.setAttribute('tabindex', '-1'); // Agar bisa difokus
                        targetElement.focus();
                    }
                });
            }

            // Toggle Menu Navigasi Mobile
            if (navToggle) {
                navToggle.addEventListener('click', () => {
                    const isExpanded = navList.classList.toggle('active');
                    navToggle.setAttribute('aria-expanded', isExpanded);
                });
            }

            // Tombol Scroll to Top
            if (scrollToTopBtn) {
                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 300) { // Tampilkan setelah scroll 300px
                        scrollToTopBtn.classList.add('visible');
                    } else {
                        scrollToTopBtn.classList.remove('visible');
                    }
                });
                scrollToTopBtn.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }


            // Inisialisasi halaman saat pertama kali dimuat
            window.addEventListener('hashchange', handleRouteChange);
            handleRouteChange(); // Panggil sekali untuk memuat halaman awal berdasarkan hash (atau default)

        });
    </script>
</body>

</html>