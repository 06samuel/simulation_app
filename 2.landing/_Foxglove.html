<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apartemen Impian Anda - Solusi Sewa Modern</title>
  <meta name="description"
    content="Temukan apartemen impian Anda dengan platform sewa modern kami. Mudah, aman, dan efisien.">
  <meta name="keywords" content="sewa apartemen, apartemen modern, rental properti, aplikasi sewa">
  <meta name="author" content="Green Valley Estates">

  <!-- Favicon (Contoh menggunakan emoji sebagai placeholder, ganti dengan file .ico Anda) -->
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè¢</text></svg>">

  <!-- Font Awesome 4 (CDN untuk ikon berbasis font, bukan SVG) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <style>
    /* --- GLOBAL STYLES & RESET --- */
    :root {
      --primary-color: #2c3e50;
      /* Biru tua keabu-abuan */
      --secondary-color: #3498db;
      /* Biru cerah */
      --accent-color: #e74c3c;
      /* Merah lembut */
      --light-bg: #ecf0f1;
      /* Abu-abu sangat muda */
      --dark-text: #34495e;
      /* Abu-abu tua untuk teks */
      --light-text: #ffffff;
      --border-color: #bdc3c7;
      /* Abu-abu muda untuk border */
      --success-color: #2ecc71;
      /* Hijau */
      --warning-color: #f39c12;
      /* Kuning */
      --error-color: #c0392b;
      /* Merah tua */

      --font-primary: 'Arial', sans-serif;
      /* Ganti dengan font fancy jika diinginkan, pastikan web-safe atau @font-face */
      --font-heading: 'Georgia', serif;
      /* Ganti dengan font fancy jika diinginkan */

      --border-radius: 8px;
      --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      --transition-speed: 0.3s;
      --container-width: 1200px;
      --spacing-unit: 8px;
      /* 1rem = 16px (default browser), 8px = 0.5rem */
    }

    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      font-size: 100%;
      /* 16px default */
    }

    body {
      font-family: var(--font-primary);
      line-height: 1.6;
      color: var(--dark-text);
      background-color: var(--light-bg);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      overflow-x: hidden;
      /* Mencegah horizontal scroll */
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* --- UTILITIES --- */
    .container {
      width: 90%;
      max-width: var(--container-width);
      margin: 0 auto;
      padding: 0 calc(var(--spacing-unit) * 2);
      /* 16px */
    }

    .text-center {
      text-align: center;
    }

    .text-primary {
      color: var(--primary-color);
    }

    .text-secondary {
      color: var(--secondary-color);
    }

    .text-light {
      color: var(--light-text);
    }

    .bg-primary {
      background-color: var(--primary-color);
    }

    .bg-secondary {
      background-color: var(--secondary-color);
    }

    .bg-light {
      background-color: var(--light-bg);
    }

    .btn {
      display: inline-block;
      padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 3);
      /* 12px 24px */
      font-size: 1rem;
      font-weight: bold;
      text-decoration: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: background-color var(--transition-speed) ease, transform var(--transition-speed) ease;
      border: none;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .btn::before {
      /* Efek fancy pada hover */
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width var(--transition-speed) ease, height var(--transition-speed) ease;
      z-index: -1;
    }

    .btn:hover::before,
    .btn:focus::before {
      width: 200%;
      height: 200%;
    }

    .btn:active {
      transform: translateY(2px);
    }

    .btn-primary {
      background-color: var(--primary-color);
      color: var(--light-text);
    }

    .btn-primary:hover,
    .btn-primary:focus {
      background-color: #1e2b37;
      /* Warna primary lebih gelap */
    }

    .btn-secondary {
      background-color: var(--secondary-color);
      color: var(--light-text);
    }

    .btn-secondary:hover,
    .btn-secondary:focus {
      background-color: #2980b9;
      /* Warna secondary lebih gelap */
    }

    .btn-outline {
      background-color: transparent;
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
    }

    .btn-outline:hover,
    .btn-outline:focus {
      background-color: var(--primary-color);
      color: var(--light-text);
    }


    /* --- HEADER / NAVIGATION --- */
    .app-header {
      background-color: var(--light-text);
      padding: var(--spacing-unit) 0;
      box-shadow: var(--box-shadow);
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: background-color var(--transition-speed) ease;
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      text-decoration: none;
      color: var(--primary-color);
      transition: transform var(--transition-speed) ease;
    }

    .nav-brand:hover,
    .nav-brand:focus {
      transform: scale(1.05);
    }

    .nav-logo {
      font-size: 2rem;
      /* Ukuran ikon logo */
      margin-right: var(--spacing-unit);
      color: var(--secondary-color);
      transition: transform var(--transition-speed) ease-in-out;
    }

    .nav-brand:hover .nav-logo,
    .nav-brand:focus .nav-logo {
      transform: rotate(15deg);
    }


    .nav-brand-name {
      font-family: var(--font-heading);
      font-size: 1.75rem;
      font-weight: bold;
    }

    .nav-menu {
      list-style: none;
      display: flex;
    }

    .nav-item {
      margin-left: calc(var(--spacing-unit) * 2.5);
      /* 20px */
    }

    .nav-link {
      text-decoration: none;
      color: var(--dark-text);
      font-weight: 500;
      padding: var(--spacing-unit) calc(var(--spacing-unit) * 1.5);
      border-radius: calc(var(--border-radius) / 2);
      transition: color var(--transition-speed) ease, background-color var(--transition-speed) ease;
      position: relative;
    }

    .nav-link::after {
      /* Efek underline fancy */
      content: '';
      position: absolute;
      width: 0;
      height: 3px;
      display: block;
      margin-top: 5px;
      right: 0;
      background: var(--secondary-color);
      transition: width .3s ease, left .3s ease;
    }

    .nav-link:hover::after,
    .nav-link:focus::after,
    .nav-link.active::after {
      width: 100%;
      left: 0;
    }

    .nav-link:hover,
    .nav-link:focus,
    .nav-link.active {
      color: var(--secondary-color);
      /* background-color: rgba(52, 152, 219, 0.1); */
      /* Alternatif: background highlight */
    }

    .nav-toggler {
      display: none;
      /* Tampil di mobile */
      background: none;
      border: none;
      font-size: 1.8rem;
      color: var(--primary-color);
      cursor: pointer;
    }

    /* --- MAIN CONTENT AREA --- */
    #app-content {
      flex-grow: 1;
      padding: calc(var(--spacing-unit) * 4) 0;
      /* 32px */
      transition: opacity var(--transition-speed) ease-in-out;
    }

    /* Animasi untuk transisi halaman */
    .page-enter {
      opacity: 0;
      transform: translateY(20px);
    }

    .page-enter-active {
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    }

    .page-exit {
      opacity: 1;
    }

    .page-exit-active {
      opacity: 0;
      transition: opacity 0.3s ease-in;
    }

    /* --- FOOTER --- */
    .app-footer {
      background-color: var(--primary-color);
      color: var(--light-text);
      padding: calc(var(--spacing-unit) * 5) 0 calc(var(--spacing-unit) * 2);
      /* 40px 0 16px */
      margin-top: auto;
      /* Mendorong footer ke bawah */
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: calc(var(--spacing-unit) * 3);
      /* 24px */
      margin-bottom: calc(var(--spacing-unit) * 3);
    }

    .footer-section h4 {
      font-family: var(--font-heading);
      font-size: 1.25rem;
      margin-bottom: var(--spacing-unit);
      color: var(--secondary-color);
      position: relative;
    }

    .footer-section h4::after {
      content: '';
      display: block;
      width: 50px;
      height: 2px;
      background-color: var(--accent-color);
      margin-top: calc(var(--spacing-unit) / 2);
    }


    .footer-section ul {
      list-style: none;
    }

    .footer-section ul li a {
      color: var(--light-bg);
      text-decoration: none;
      transition: color var(--transition-speed) ease, padding-left var(--transition-speed) ease;
      display: block;
      padding: calc(var(--spacing-unit) / 2) 0;
    }

    .footer-section ul li a:hover,
    .footer-section ul li a:focus {
      color: var(--secondary-color);
      padding-left: var(--spacing-unit);
    }

    .social-icons a {
      color: var(--light-bg);
      font-size: 1.5rem;
      margin-right: var(--spacing-unit);
      transition: color var(--transition-speed) ease, transform var(--transition-speed) ease;
    }

    .social-icons a:hover,
    .social-icons a:focus {
      color: var(--secondary-color);
      transform: translateY(-3px) scale(1.1);
    }

    .footer-bottom {
      text-align: center;
      font-size: 0.9rem;
      padding-top: calc(var(--spacing-unit) * 2);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* --- FORM STYLING --- */
    .form-group {
      margin-bottom: calc(var(--spacing-unit) * 2);
      /* 16px */
    }

    .form-label {
      display: block;
      margin-bottom: var(--spacing-unit);
      font-weight: bold;
      color: var(--dark-text);
    }

    .form-control {
      width: 100%;
      padding: calc(var(--spacing-unit) * 1.25);
      /* 10px */
      border: 1px solid var(--border-color);
      border-radius: calc(var(--border-radius) / 2);
      font-size: 1rem;
      transition: border-color var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
    }

    .form-control:focus {
      outline: none;
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.25);
    }

    .form-control::placeholder {
      color: #aaa;
      opacity: 1;
    }

    .form-message {
      margin-top: var(--spacing-unit);
      padding: var(--spacing-unit);
      border-radius: calc(var(--border-radius) / 2);
      font-size: 0.9rem;
    }

    .form-message.success {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .form-message.error {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    /* --- TABLE STYLING --- */
    .table-container {
      overflow-x: auto;
      /* Responsivitas tabel */
      background-color: var(--light-text);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: var(--spacing-unit);
    }

    .styled-table {
      width: 100%;
      border-collapse: collapse;
      margin: calc(var(--spacing-unit) * 2) 0;
      font-size: 0.9em;
    }

    .styled-table thead tr {
      background-color: var(--primary-color);
      color: var(--light-text);
      text-align: left;
      font-weight: bold;
    }

    .styled-table th,
    .styled-table td {
      padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 2);
      /* 12px 16px */
      border-bottom: 1px solid var(--border-color);
    }

    .styled-table th:first-child,
    .styled-table td:first-child {
      padding-left: calc(var(--spacing-unit) * 2.5);
    }

    .styled-table th:last-child,
    .styled-table td:last-child {
      padding-right: calc(var(--spacing-unit) * 2.5);
    }

    .styled-table tbody tr {
      transition: background-color var(--transition-speed) ease;
    }

    .styled-table tbody tr:nth-of-type(even) {
      background-color: #f8f9fa;
      /* Zebra striping */
    }

    .styled-table tbody tr:hover {
      background-color: #e9ecef;
      color: var(--primary-color);
      cursor: pointer;
      /* Indikasi interaktif */
    }

    .styled-table tbody tr:last-of-type td {
      border-bottom: 2px solid var(--primary-color);
    }

    /* --- CARD STYLING --- */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: calc(var(--spacing-unit) * 3);
      /* 24px */
      margin: calc(var(--spacing-unit) * 3) 0;
    }

    .card {
      background-color: var(--light-text);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      overflow: hidden;
      transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
      display: flex;
      flex-direction: column;
    }

    .card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
    }

    .card-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      transition: transform var(--transition-speed) ease;
    }

    .card:hover .card-image {
      transform: scale(1.05);
    }

    .card-content {
      padding: calc(var(--spacing-unit) * 2.5);
      /* 20px */
      flex-grow: 1;
      /* Memastikan konten mengisi ruang jika card tingginya sama */
    }

    .card-title {
      font-family: var(--font-heading);
      font-size: 1.5rem;
      margin-bottom: var(--spacing-unit);
      color: var(--primary-color);
    }

    .card-text {
      font-size: 0.95rem;
      margin-bottom: calc(var(--spacing-unit) * 1.5);
      /* 12px */
      flex-grow: 1;
    }

    .card-actions {
      padding: 0 calc(var(--spacing-unit) * 2.5) calc(var(--spacing-unit) * 2.5);
    }

    /* --- HERO SECTION --- */
    .hero-section {
      background: linear-gradient(rgba(44, 62, 80, 0.8), rgba(44, 62, 80, 0.6)), url('https://picsum.photos/seed/apartmentbg/1200/600') no-repeat center center/cover;
      color: var(--light-text);
      padding: calc(var(--spacing-unit) * 10) 0;
      /* 80px */
      text-align: center;
      min-height: 70vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .hero-content {
      max-width: 700px;
      animation: fadeInDown 1s ease-out;
    }

    .hero-title {
      font-family: var(--font-heading);
      font-size: 3rem;
      margin-bottom: calc(var(--spacing-unit) * 2);
      font-weight: bold;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    .hero-subtitle {
      font-size: 1.25rem;
      margin-bottom: calc(var(--spacing-unit) * 4);
      opacity: 0.9;
    }

    /* --- SECTION STYLING --- */
    .section {
      padding: calc(var(--spacing-unit) * 6) 0;
      /* 48px */
    }

    .section-title {
      font-family: var(--font-heading);
      font-size: 2.5rem;
      color: var(--primary-color);
      text-align: center;
      margin-bottom: calc(var(--spacing-unit) * 1.5);
      /* 12px */
      position: relative;
    }

    .section-title::after {
      content: '';
      display: block;
      width: 80px;
      height: 4px;
      background-color: var(--secondary-color);
      margin: var(--spacing-unit) auto calc(var(--spacing-unit) * 4);
    }

    /* --- RESPONSIVE DESIGN --- */
    @media (max-width: 992px) {

      /* Tablet dan di bawahnya */
      .nav-brand-name {
        font-size: 1.5rem;
      }

      .hero-title {
        font-size: 2.5rem;
      }

      .section-title {
        font-size: 2rem;
      }
    }

    @media (max-width: 768px) {

      /* Mobile */
      :root {
        --spacing-unit: 7px;
      }

      /* Sedikit kurangi spacing */
      .container {
        width: 95%;
      }

      .nav-menu {
        display: none;
        /* Sembunyikan menu default */
        flex-direction: column;
        width: 100%;
        background-color: var(--light-text);
        position: absolute;
        top: 100%;
        /* Tepat di bawah header */
        left: 0;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        padding: var(--spacing-unit) 0;
        border-top: 1px solid var(--border-color);
        max-height: 0;
        /* Untuk animasi buka tutup */
        overflow: hidden;
        transition: max-height 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
        /* Animasi fancy */
      }

      .nav-menu.active {
        display: flex;
        max-height: 500px;
        /* Sesuaikan jika item menu banyak */
      }

      .nav-item {
        margin: 0;
        width: 100%;
      }

      .nav-link {
        display: block;
        text-align: center;
        padding: calc(var(--spacing-unit) * 2) 0;
        /* 14px */
        border-bottom: 1px solid var(--light-bg);
      }

      .nav-link::after {
        display: none;
      }

      /* Hilangkan underline fancy di mobile menu */
      .nav-link:hover,
      .nav-link:focus,
      .nav-link.active {
        background-color: var(--light-bg);
      }

      .nav-toggler {
        display: block;
      }

      .footer-content {
        grid-template-columns: 1fr;
        /* Susun vertikal di mobile */
        text-align: center;
      }

      .footer-section h4::after {
        margin-left: auto;
        margin-right: auto;
      }

      .hero-title {
        font-size: 2rem;
      }

      .hero-subtitle {
        font-size: 1.1rem;
      }

      .hero-section {
        padding: calc(var(--spacing-unit) * 8) 0;
      }

      .card-grid {
        grid-template-columns: 1fr;
        /* Satu card per baris di mobile */
      }
    }

    /* --- ANIMATIONS --- */
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Efek untuk elemen yang muncul saat di-scroll (opsional, butuh JS) */
    .reveal-on-scroll {
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .reveal-on-scroll.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* --- ACCESSIBILITY --- */
    a:focus,
    button:focus,
    input:focus,
    select:focus,
    textarea:focus {
      outline: 3px solid var(--secondary-color);
      outline-offset: 2px;
    }

    /* Skip to content link */
    .skip-link {
      position: absolute;
      top: -100px;
      /* Sembunyikan di luar layar */
      left: 0;
      background: var(--primary-color);
      color: white;
      padding: var(--spacing-unit);
      z-index: 9999;
      transition: top 0.3s ease-in-out;
    }

    .skip-link:focus {
      top: 0;
      /* Tampilkan saat fokus */
    }
  </style>
</head>

<body>
  <a href="#main-content" class="skip-link">Lompat ke Konten Utama</a>

  <!-- Header -->
  <header class="app-header" aria-label="Header Utama Aplikasi">
    <div class="container">
      <nav class="navbar" aria-label="Navigasi Utama">
        <a href="#/" class="nav-brand" id="brandLink">
          <i class="fa fa-building nav-logo" aria-hidden="true"></i>
          <span class="nav-brand-name">ApartemenKita</span>
        </a>
        <button class="nav-toggler" id="navToggler" aria-label="Toggle navigasi" aria-expanded="false"
          aria-controls="navMenu">
          <i class="fa fa-bars" aria-hidden="true"></i>
        </button>
        <ul class="nav-menu" id="navMenu">
          <li class="nav-item"><a class="nav-link" href="#/beranda">Beranda</a></li>
          <li class="nav-item"><a class="nav-link" href="#/fitur">Fitur Unggulan</a></li>
          <li class="nav-item"><a class="nav-link" href="#/galeri">Galeri</a></li>
          <li class="nav-item"><a class="nav-link" href="#/kontak">Hubungi Kami</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Main Content Area (Konten akan di-render di sini oleh JavaScript) -->
  <main id="app-content" tabindex="-1" aria-live="polite">
    <!-- Konten awal bisa berupa loading spinner atau pesan selamat datang -->
    <div style="text-align:center; padding: 50px;">
      <i class="fa fa-spinner fa-spin" style="font-size:48px; color:var(--secondary-color);"></i>
      <p>Memuat konten...</p>
    </div>
  </main>

  <!-- Footer -->
  <footer class="app-footer" aria-label="Footer Aplikasi">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>Tentang Kami</h4>
          <p>ApartemenKita adalah solusi modern untuk pencarian dan manajemen sewa apartemen. Kami berkomitmen
            memberikan pengalaman terbaik bagi penyewa dan pemilik.</p>
        </div>
        <div class="footer-section">
          <h4>Tautan Cepat</h4>
          <ul>
            <li><a href="#/beranda">Beranda</a></li>
            <li><a href="#/fitur">Fitur</a></li>
            <li><a href="#/galeri">Galeri</a></li>
            <li><a href="#/kontak">Kontak</a></li>
            <li><a href="#/kebijakan-privasi">Kebijakan Privasi</a></li>
            <li><a href="#/syarat-ketentuan">Syarat & Ketentuan</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Hubungi Kami</h4>
          <p><i class="fa fa-map-marker" aria-hidden="true"></i> Jl. Apartemen Indah No. 123, Jakarta Pusat</p>
          <p><i class="fa fa-phone" aria-hidden="true"></i> (021) 555-0123</p>
          <p><i class="fa fa-envelope" aria-hidden="true"></i> info@apartemenkita.com</p>
        </div>
        <div class="footer-section">
          <h4>Ikuti Kami</h4>
          <div class="social-icons">
            <a href="#" aria-label="Facebook ApartemenKita"><i class="fa fa-facebook-square" aria-hidden="true"></i></a>
            <a href="#" aria-label="Instagram ApartemenKita"><i class="fa fa-instagram" aria-hidden="true"></i></a>
            <a href="#" aria-label="Twitter ApartemenKita"><i class="fa fa-twitter-square" aria-hidden="true"></i></a>
            <a href="#" aria-label="LinkedIn ApartemenKita"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>¬© <span id="currentYear"></span> ApartemenKita. Hak Cipta Dilindungi Undang-Undang.</p>
      </div>
    </div>
  </footer>

  <script>
    // --- KONFIGURASI APLIKASI & STATE SEDERHANA ---
    const AppConfig = {
      appName: "ApartemenKita",
      defaultTitle: "Apartemen Impian Anda - Solusi Sewa Modern",
      routes: {}, // Akan diisi oleh page definitions
      contentElementId: 'app-content',
      navMenuId: 'navMenu',
      navTogglerId: 'navToggler',
      activeNavClass: 'active'
    };

    // State sederhana untuk melacak halaman aktif
    let AppState = {
      currentPage: null,
      isLoading: false // Bisa digunakan untuk menampilkan/menyembunyikan loader global
    };

    // --- UTILITIES ---
    const $ = (selector) => document.querySelector(selector);
    const $$ = (selector) => document.querySelectorAll(selector);

    /**
     * Membuat elemen HTML dengan atribut dan children.
     * @param {string} tag - Nama tag HTML.
     * @param {object} [attributes={}] - Atribut untuk elemen.
     * @param {...(string|Node)} children - Anak dari elemen (teks atau Node lain).
     * @returns {HTMLElement} Elemen HTML yang telah dibuat.
     */
    function createElement(tag, attributes = {}, ...children) {
      const element = document.createElement(tag);
      for (const key in attributes) {
        if (key === 'className') {
          element.setAttribute('class', attributes[key]);
        } else if (key.startsWith('on') && typeof attributes[key] === 'function') {
          element.addEventListener(key.substring(2).toLowerCase(), attributes[key]);
        } else if (key === 'dataset') {
          for (const dataKey in attributes[key]) {
            element.dataset[dataKey] = attributes[key][dataKey];
          }
        }
        else {
          element.setAttribute(key, attributes[key]);
        }
      }
      children.forEach(child => {
        if (typeof child === 'string') {
          element.appendChild(document.createTextNode(child));
        } else if (child instanceof Node) {
          element.appendChild(child);
        }
      });
      return element;
    }

    /**
     * Fungsi untuk men-delay eksekusi.
     * @param {number} ms - Milidetik untuk delay.
     * @returns {Promise} Promise yang resolve setelah delay.
     */
    const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));

    // --- PAGE DEFINITIONS (Komponen Halaman) ---
    // Setiap fungsi page harus mengembalikan HTMLElement
    // Ini adalah "view" dari SPA kita

    function createBerandaPage() {
      const page = createElement('div', { className: 'container' });
      page.innerHTML = `
        <section class="hero-section" aria-labelledby="hero-title">
          <div class="hero-content">
            <h1 id="hero-title" class="hero-title">Temukan Apartemen Impian Anda</h1>
            <p class="hero-subtitle">Platform sewa apartemen modern, aman, dan terpercaya. Proses mudah, pilihan beragam.</p>
            <a href="#/galeri" class="btn btn-secondary btn-large" role="button" aria-label="Lihat Galeri Apartemen">Lihat Galeri <i class="fa fa-arrow-right" aria-hidden="true"></i></a>
          </div>
        </section>

        <section class="section features-section" aria-labelledby="features-title">
          <h2 id="features-title" class="section-title">Mengapa Memilih Kami?</h2>
          <div class="card-grid">
            <div class="card reveal-on-scroll">
              <img src="https://picsum.photos/seed/feature1/400/200" alt="Interior Apartemen Modern" class="card-image">
              <div class="card-content">
                <h3 class="card-title"><i class="fa fa-check-circle text-secondary" aria-hidden="true"></i> Pilihan Terkurasi</h3>
                <p class="card-text">Unit apartemen berkualitas tinggi di lokasi strategis, telah diverifikasi oleh tim kami.</p>
              </div>
              <div class="card-actions">
                <a href="#/galeri" class="btn btn-outline">Pelajari Lebih Lanjut</a>
              </div>
            </div>
            <div class="card reveal-on-scroll" style="animation-delay: 0.2s;">
              <img src="https://picsum.photos/seed/feature2/400/200" alt="Proses Sewa Mudah" class="card-image">
              <div class="card-content">
                <h3 class="card-title"><i class="fa fa-cogs text-secondary" aria-hidden="true"></i> Proses Mudah</h3>
                <p class="card-text">Pencarian, pemesanan, hingga pembayaran dilakukan secara online dengan antarmuka yang intuitif.</p>
              </div>
               <div class="card-actions">
                <a href="#/fitur" class="btn btn-outline">Detail Fitur</a>
              </div>
            </div>
            <div class="card reveal-on-scroll" style="animation-delay: 0.4s;">
              <img src="https://picsum.photos/seed/feature3/400/200" alt="Keamanan Transaksi" class="card-image">
              <div class="card-content">
                <h3 class="card-title"><i class="fa fa-shield text-secondary" aria-hidden="true"></i> Keamanan Terjamin</h3>
                <p class="card-text">Data pribadi dan transaksi Anda aman bersama kami dengan enkripsi standar industri.</p>
              </div>
              <div class="card-actions">
                <a href="#/kebijakan-privasi" class="btn btn-outline">Kebijakan Kami</a>
              </div>
            </div>
          </div>
        </section>
        
        <section class="section cta-section bg-secondary text-light reveal-on-scroll" aria-labelledby="cta-title">
            <div class="container text-center">
                <h2 id="cta-title" class="section-title" style="color: var(--light-text);">Siap Menemukan Hunian Ideal Anda?</h2>
                <p style="font-size: 1.1rem; margin-bottom: calc(var(--spacing-unit) * 3);">Jelajahi pilihan apartemen terbaik kami atau hubungi agen kami untuk konsultasi gratis.</p>
                <a href="#/kontak" class="btn btn-primary" style="background-color: var(--light-text); color: var(--secondary-color); margin-right: var(--spacing-unit);">Hubungi Agen</a>
                <a href="#/galeri" class="btn btn-outline" style="border-color: var(--light-text); color: var(--light-text);">Lihat Semua Unit</a>
            </div>
        </section>
      `;
      document.title = `Beranda - ${AppConfig.defaultTitle}`;
      return page;
    }

    function createFiturPage() {
      const page = createElement('div', { className: 'container section' });
      page.innerHTML = `
        <h1 class="section-title">Fitur Unggulan Kami</h1>
        <p class="text-center" style="max-width: 700px; margin: 0 auto calc(var(--spacing-unit)*4) auto;">Kami menyediakan berbagai fitur canggih untuk memudahkan pengalaman sewa apartemen Anda, baik sebagai penyewa maupun pemilik.</p>
        
        <div class="card-grid">
            <div class="card reveal-on-scroll">
                <div class="card-content">
                    <h3 class="card-title"><i class="fa fa-dashboard text-primary" aria-hidden="true"></i> Dashboard Interaktif</h3>
                    <p class="card-text">Pantau status sewa, pembayaran, dan kelola properti Anda dengan mudah melalui dashboard personal.</p>
                </div>
            </div>
            <div class="card reveal-on-scroll" style="animation-delay: 0.1s;">
                <div class="card-content">
                    <h3 class="card-title"><i class="fa fa-bell text-primary" aria-hidden="true"></i> Notifikasi Real-time</h3>
                    <p class="card-text">Dapatkan pemberitahuan instan untuk tagihan jatuh tempo, pesan baru, atau pembaruan status unit.</p>
                </div>
            </div>
            <div class="card reveal-on-scroll" style="animation-delay: 0.2s;">
                <div class="card-content">
                    <h3 class="card-title"><i class="fa fa-search text-primary" aria-hidden="true"></i> Pencarian Cerdas</h3>
                    <p class="card-text">Filter pencarian lanjutan berdasarkan lokasi, harga, fasilitas, dan tipe unit untuk menemukan yang paling sesuai.</p>
                </div>
            </div>
            <div class="card reveal-on-scroll" style="animation-delay: 0.3s;">
                <div class="card-content">
                    <h3 class="card-title"><i class="fa fa-calendar-check-o text-primary" aria-hidden="true"></i> Jadwal Kunjungan Online</h3>
                    <p class="card-text">Atur jadwal kunjungan unit apartemen langsung dari platform, terintegrasi dengan kalender agen.</p>
                </div>
            </div>
            <div class="card reveal-on-scroll" style="animation-delay: 0.4s;">
                <div class="card-content">
                    <h3 class="card-title"><i class="fa fa-comments text-primary" aria-hidden="true"></i> Komunikasi Terpadu</h3>
                    <p class="card-text">Fitur pesan internal untuk komunikasi yang aman dan terdokumentasi antara penyewa dan agen/pemilik.</p>
                </div>
            </div>
            <div class="card reveal-on-scroll" style="animation-delay: 0.5s;">
                <div class="card-content">
                    <h3 class="card-title"><i class="fa fa-credit-card text-primary" aria-hidden="true"></i> Pembayaran Aman & Mudah</h3>
                    <p class="card-text">Berbagai metode pembayaran online yang aman dan terverifikasi, dengan riwayat transaksi lengkap.</p>
                </div>
            </div>
        </div>

        <div class="text-center" style="margin-top: calc(var(--spacing-unit)*4);">
            <h3 style="font-family: var(--font-heading); color: var(--primary-color); font-size: 1.8rem;">Tertarik untuk mencoba?</h3>
            <p>Jelajahi unit-unit kami atau daftar sebagai pemilik untuk mulai mengelola properti Anda.</p>
            <a href="#/galeri" class="btn btn-primary" style="margin-right: var(--spacing-unit);">Lihat Apartemen</a>
            <a href="#/kontak" class="btn btn-secondary">Jadi Mitra Kami</a>
        </div>
      `;
      document.title = `Fitur Unggulan - ${AppConfig.defaultTitle}`;
      return page;
    }

    function createGaleriPage() {
      const page = createElement('div', { className: 'container section' });
      let galleryItemsHTML = '';
      const apartmentData = [
        { id: 1, name: 'Apartemen Serene Heights', location: 'Jakarta Pusat', price: '12 Juta/bulan', image: 'https://picsum.photos/seed/apt1/400/300', bedrooms: 2, bathrooms: 1, area: '60m¬≤' },
        { id: 2, name: 'Urban Oasis Residence', location: 'Jakarta Selatan', price: '15 Juta/bulan', image: 'https://picsum.photos/seed/apt2/400/300', bedrooms: 3, bathrooms: 2, area: '90m¬≤' },
        { id: 3, name: 'Skyline View Suites', location: 'Surabaya Timur', price: '10 Juta/bulan', image: 'https://picsum.photos/seed/apt3/400/300', bedrooms: 1, bathrooms: 1, area: '45m¬≤' },
        { id: 4, name: 'Greenwood Park Apartments', location: 'Bandung Utara', price: '8 Juta/bulan', image: 'https://picsum.photos/seed/apt4/400/300', bedrooms: 2, bathrooms: 1, area: '55m¬≤' },
        { id: 5, name: 'Coastal Breeze Condos', location: 'Bali Selatan', price: '20 Juta/bulan', image: 'https://picsum.photos/seed/apt5/400/300', bedrooms: 3, bathrooms: 2, area: '120m¬≤' },
        { id: 6, name: 'Metropolitan Towers', location: 'Jakarta Barat', price: '14 Juta/bulan', image: 'https://picsum.photos/seed/apt6/400/300', bedrooms: 2, bathrooms: 2, area: '75m¬≤' },
      ];

      apartmentData.forEach((apt, index) => {
        galleryItemsHTML += `
                <div class="card reveal-on-scroll" style="animation-delay: ${index * 0.1}s;">
                    <img src="${apt.image}" alt="Pemandangan ${apt.name}" class="card-image">
                    <div class="card-content">
                        <h3 class="card-title">${apt.name}</h3>
                        <p class="card-text" style="color: var(--secondary-color); font-weight: bold;"><i class="fa fa-map-marker" aria-hidden="true"></i> ${apt.location}</p>
                        <p class="card-text"><strong>Harga:</strong> ${apt.price}<br>
                           <i class="fa fa-bed" aria-hidden="true"></i> ${apt.bedrooms} Kamar Tidur | <i class="fa fa-bath" aria-hidden="true"></i> ${apt.bathrooms} Kamar Mandi | <i class="fa fa-clone" aria-hidden="true"></i> ${apt.area}
                        </p>
                    </div>
                    <div class="card-actions">
                        <a href="#/kontak?unit=${apt.id}" class="btn btn-primary">Detail & Hubungi</a>
                    </div>
                </div>
            `;
      });

      page.innerHTML = `
            <h1 class="section-title">Galeri Apartemen</h1>
            <p class="text-center" style="max-width: 700px; margin: 0 auto calc(var(--spacing-unit)*4) auto;">Temukan beragam pilihan apartemen berkualitas di berbagai lokasi strategis. Setiap unit menawarkan kenyamanan dan fasilitas modern.</p>
            <div class="card-grid">
                ${galleryItemsHTML}
            </div>
        `;
      document.title = `Galeri Apartemen - ${AppConfig.defaultTitle}`;
      return page;
    }

    function createKontakPage() {
      const page = createElement('div', { className: 'container section' });
      page.innerHTML = `
        <h1 class="section-title">Hubungi Kami</h1>
        <p class="text-center" style="max-width: 700px; margin: 0 auto calc(var(--spacing-unit)*4) auto;">Punya pertanyaan, butuh bantuan, atau ingin bermitra? Tim kami siap membantu Anda. Isi formulir di bawah atau hubungi kami melalui detail kontak yang tersedia.</p>
        
        <div style="display: grid; grid-template-columns: 1fr; gap: calc(var(--spacing-unit)*4); align-items: start;">
            <div class="card reveal-on-scroll" style="padding: calc(var(--spacing-unit)*3);">
                <h3 class="card-title" style="text-align:center;">Kirim Pesan Langsung</h3>
                <form id="contactForm" novalidate>
                    <div class="form-group">
                        <label for="nama" class="form-label">Nama Lengkap Anda:</label>
                        <input type="text" class="form-control" id="nama" placeholder="Contoh: Budi Santoso" required aria-required="true">
                        <div class="form-feedback" aria-live="polite"></div>
                    </div>
                    <div class="form-group">
                        <label for="email" class="form-label">Alamat Email:</label>
                        <input type="email" class="form-control" id="email" placeholder="Contoh: budi@example.com" required aria-required="true">
                        <div class="form-feedback" aria-live="polite"></div>
                    </div>
                    <div class="form-group">
                        <label for="subjek" class="form-label">Subjek Pesan:</label>
                        <input type="text" class="form-control" id="subjek" placeholder="Contoh: Pertanyaan tentang unit X" required aria-required="true">
                         <div class="form-feedback" aria-live="polite"></div>
                    </div>
                    <div class="form-group">
                        <label for="pesan" class="form-label">Isi Pesan Anda:</label>
                        <textarea class="form-control" id="pesan" rows="5" placeholder="Tuliskan pesan Anda di sini..." required aria-required="true"></textarea>
                        <div class="form-feedback" aria-live="polite"></div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Kirim Pesan <i class="fa fa-paper-plane" aria-hidden="true"></i></button>
                </form>
                <div id="formMessage" class="form-message" aria-live="assertive" style="margin-top: var(--spacing-unit);"></div>
            </div>

            <div class="card reveal-on-scroll" style="padding: calc(var(--spacing-unit)*3); animation-delay: 0.2s;">
                <h3 class="card-title" style="text-align:center;">Informasi Kontak Lainnya</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: var(--spacing-unit); font-size: 1.1rem;">
                        <i class="fa fa-map-marker fa-fw text-secondary" aria-hidden="true"></i> <strong>Alamat Kantor:</strong><br>
                        Jl. Apartemen Indah No. 123, Lantai 5<br>Jakarta Pusat, DKI Jakarta, 10110
                    </li>
                    <li style="margin-bottom: var(--spacing-unit); font-size: 1.1rem;">
                        <i class="fa fa-phone fa-fw text-secondary" aria-hidden="true"></i> <strong>Telepon:</strong><br>
                        <a href="tel:+62215550123" style="color:var(--dark-text); text-decoration:none;">(021) 555-0123</a> (Jam Kerja)
                    </li>
                    <li style="margin-bottom: var(--spacing-unit); font-size: 1.1rem;">
                        <i class="fa fa-whatsapp fa-fw text-secondary" aria-hidden="true"></i> <strong>WhatsApp:</strong><br>
                        <a href="https://wa.me/6281234567890" target="_blank" rel="noopener noreferrer" style="color:var(--dark-text); text-decoration:none;">+62 812-3456-7890</a>
                    </li>
                    <li style="margin-bottom: var(--spacing-unit); font-size: 1.1rem;">
                        <i class="fa fa-envelope fa-fw text-secondary" aria-hidden="true"></i> <strong>Email:</strong><br>
                        <a href="mailto:info@apartemenkita.com" style="color:var(--dark-text); text-decoration:none;">info@apartemenkita.com</a> (Umum)<br>
                        <a href="mailto:support@apartemenkita.com" style="color:var(--dark-text); text-decoration:none;">support@apartemenkita.com</a> (Dukungan)
                    </li>
                </ul>
                <div style="margin-top: calc(var(--spacing-unit)*2); text-align:center;">
                    <h4 style="font-family: var(--font-heading); color:var(--primary-color); margin-bottom:var(--spacing-unit);">Jam Operasional Layanan:</h4>
                    <p>Senin - Jumat: 09:00 - 17:00 WIB<br>Sabtu: 09:00 - 13:00 WIB<br>Minggu & Hari Libur Nasional: Tutup</p>
                </div>
            </div>
        </div>
      `;
      document.title = `Hubungi Kami - ${AppConfig.defaultTitle}`;

      // Tambahkan event listener setelah elemen dirender
      setTimeout(() => { // setTimeout untuk memastikan elemen ada di DOM
        const contactForm = $('#contactForm');
        if (contactForm) {
          contactForm.addEventListener('submit', handleContactFormSubmit);
          // Query parameter untuk pre-fill subjek jika ada
          const urlParams = new URLSearchParams(window.location.hash.split('?')[1]);
          const unitId = urlParams.get('unit');
          if (unitId) {
            const subjekInput = $('#subjek');
            if (subjekInput) subjekInput.value = `Pertanyaan tentang Unit ID: ${unitId}`;
          }
        }
      }, 0);
      return page;
    }

    function handleContactFormSubmit(event) {
      event.preventDefault();
      const form = event.target;
      const formMessage = $('#formMessage');
      let isValid = true;

      // Validasi sederhana (bisa diperluas)
      ['nama', 'email', 'subjek', 'pesan'].forEach(id => {
        const input = $(`#${id}`);
        const feedback = input.nextElementSibling; // .form-feedback
        if (!input.value.trim()) {
          input.style.borderColor = 'var(--error-color)';
          if (feedback) feedback.textContent = 'Kolom ini wajib diisi.';
          isValid = false;
        } else {
          input.style.borderColor = 'var(--border-color)';
          if (feedback) feedback.textContent = '';
          if (id === 'email' && !/^\S+@\S+\.\S+$/.test(input.value)) {
            input.style.borderColor = 'var(--error-color)';
            if (feedback) feedback.textContent = 'Format email tidak valid.';
            isValid = false;
          }
        }
      });

      if (isValid) {
        formMessage.textContent = 'Terima kasih! Pesan Anda sedang diproses...';
        formMessage.className = 'form-message success';
        formMessage.setAttribute('role', 'status');

        // Simulasi pengiriman
        setTimeout(() => {
          formMessage.textContent = 'Pesan Anda telah berhasil dikirim. Kami akan segera menghubungi Anda.';
          form.reset();
          ['nama', 'email', 'subjek', 'pesan'].forEach(id => {
            const input = $(`#${id}`);
            input.style.borderColor = 'var(--border-color)';
            const feedback = input.nextElementSibling;
            if (feedback) feedback.textContent = '';
          });
        }, 1500);
      } else {
        formMessage.textContent = 'Mohon periksa kembali isian formulir Anda.';
        formMessage.className = 'form-message error';
        formMessage.setAttribute('role', 'alert');
      }
    }

    function createKebijakanPrivasiPage() {
      const page = createElement('div', { className: 'container section' });
      page.innerHTML = `
        <h1 class="section-title">Kebijakan Privasi</h1>
        <p><em>Terakhir diperbarui: ${new Date().toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric' })}</em></p>
        
        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">1. Informasi yang Kami Kumpulkan</h2>
        <p>Kami mengumpulkan informasi pribadi yang Anda berikan secara sukarela saat mendaftar, menggunakan layanan kami, atau menghubungi kami. Ini mungkin termasuk nama, alamat email, nomor telepon, dan preferensi properti Anda.</p>

        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">2. Bagaimana Kami Menggunakan Informasi Anda</h2>
        <p>Informasi Anda digunakan untuk:</p>
        <ul>
            <li>Menyediakan dan meningkatkan layanan kami.</li>
            <li>Memproses transaksi dan permintaan Anda.</li>
            <li>Mengirimkan notifikasi penting terkait akun dan layanan.</li>
            <li>Personalisasi pengalaman pengguna.</li>
            <li>Keperluan analitik dan riset internal.</li>
        </ul>

        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">3. Keamanan Data</h2>
        <p>Kami menerapkan langkah-langkah keamanan teknis dan organisasi yang wajar untuk melindungi informasi pribadi Anda dari akses, penggunaan, atau pengungkapan yang tidak sah. Namun, tidak ada transmisi data melalui internet atau sistem penyimpanan elektronik yang 100% aman.</p>

        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">4. Hak Anda</h2>
        <p>Anda memiliki hak untuk mengakses, memperbaiki, atau menghapus informasi pribadi Anda yang kami simpan. Silakan hubungi kami jika Anda ingin menggunakan hak-hak ini.</p>

        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">5. Perubahan Kebijakan</h2>
        <p>Kami dapat memperbarui kebijakan privasi ini dari waktu ke waktu. Perubahan signifikan akan diberitahukan melalui platform kami atau email.</p>
      `;
      document.title = `Kebijakan Privasi - ${AppConfig.defaultTitle}`;
      return page;
    }

    function createSyaratKetentuanPage() {
      const page = createElement('div', { className: 'container section' });
      page.innerHTML = `
        <h1 class="section-title">Syarat & Ketentuan Penggunaan</h1>
        <p><em>Terakhir diperbarui: ${new Date().toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric' })}</em></p>
        
        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">1. Penerimaan Persyaratan</h2>
        <p>Dengan mengakses atau menggunakan layanan ApartemenKita ("Layanan"), Anda setuju untuk terikat oleh Syarat dan Ketentuan ini. Jika Anda tidak setuju, jangan gunakan Layanan kami.</p>

        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">2. Penggunaan Layanan</h2>
        <p>Anda setuju untuk menggunakan Layanan hanya untuk tujuan yang sah dan sesuai dengan semua hukum yang berlaku. Anda bertanggung jawab atas semua aktivitas yang terjadi di bawah akun Anda.</p>

        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">3. Konten Pengguna</h2>
        <p>Anda bertanggung jawab atas konten apa pun yang Anda posting atau kirimkan melalui Layanan. Anda menjamin bahwa Anda memiliki semua hak yang diperlukan untuk konten tersebut dan bahwa konten tersebut tidak melanggar hak pihak ketiga mana pun.</p>

        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">4. Batasan Tanggung Jawab</h2>
        <p>Layanan disediakan "sebagaimana adanya" tanpa jaminan apa pun. ApartemenKita tidak bertanggung jawab atas kerugian atau kerusakan tidak langsung, insidental, khusus, konsekuensial, atau hukuman yang timbul dari atau terkait dengan penggunaan Anda atas Layanan.</p>
        
        <h2 style="font-family: var(--font-heading); color: var(--primary-color); margin-top: var(--spacing-unit)*3; margin-bottom: var(--spacing-unit);">5. Perubahan Syarat</h2>
        <p>Kami berhak untuk memodifikasi Syarat dan Ketentuan ini kapan saja. Penggunaan Layanan secara berkelanjutan setelah perubahan tersebut merupakan penerimaan Anda terhadap Syarat dan Ketentuan yang baru.</p>
      `;
      document.title = `Syarat & Ketentuan - ${AppConfig.defaultTitle}`;
      return page;
    }


    function createNotFoundPage() {
      const page = createElement('div', { className: 'container section text-center' });
      page.innerHTML = `
        <i class="fa fa-frown-o" style="font-size: 8rem; color: var(--accent-color); margin-bottom: var(--spacing-unit)*2;"></i>
        <h1 class="section-title" style="font-size: 3rem;">404 - Halaman Tidak Ditemukan</h1>
        <p style="font-size: 1.2rem; margin-bottom: var(--spacing-unit)*3;">Maaf, halaman yang Anda cari tidak ada atau telah dipindahkan.</p>
        <a href="#/beranda" class="btn btn-primary">Kembali ke Beranda</a>
      `;
      document.title = `404 Tidak Ditemukan - ${AppConfig.defaultTitle}`;
      return page;
    }

    // --- ROUTER ---
    AppConfig.routes = {
      '/': createBerandaPage,
      '/beranda': createBerandaPage,
      '/fitur': createFiturPage,
      '/galeri': createGaleriPage,
      '/kontak': createKontakPage,
      '/kebijakan-privasi': createKebijakanPrivasiPage,
      '/syarat-ketentuan': createSyaratKetentuanPage
      // Tambahkan rute lain di sini
    };

    async function router() {
      AppState.isLoading = true;
      const contentArea = $(`#${AppConfig.contentElementId}`);

      // Animasi keluar (jika ada konten sebelumnya)
      if (contentArea.firstChild) {
        contentArea.firstChild.classList.add('page-exit');
        contentArea.firstChild.classList.add('page-exit-active');
        await delay(300); // Tunggu animasi selesai
      }
      contentArea.innerHTML = ''; // Kosongkan konten

      // Dapatkan path dari hash URL (misal: #/beranda -> /beranda)
      // Juga handle query parameters, misal #/kontak?unit=123 -> /kontak
      const hashPath = window.location.hash.slice(1) || '/';
      const path = hashPath.split('?')[0];

      AppState.currentPage = path;

      const pageRenderer = AppConfig.routes[path] || createNotFoundPage;
      const pageElement = pageRenderer(); // Panggil fungsi untuk mendapatkan elemen halaman

      // Tambahkan kelas animasi masuk
      pageElement.classList.add('page-enter');
      contentArea.appendChild(pageElement);

      // Trigger reflow agar transisi berjalan
      requestAnimationFrame(() => {
        pageElement.classList.add('page-enter-active');
      });

      // Setelah konten baru dimuat, update link navigasi yang aktif dan fokus
      updateActiveNavLink();
      contentArea.focus(); // Untuk aksesibilitas, fokuskan ke area konten utama
      window.scrollTo(0, 0); // Gulir ke atas halaman

      // Inisialisasi fitur reveal-on-scroll untuk halaman baru
      initRevealOnScroll();

      AppState.isLoading = false;
    }

    // --- NAVIGASI & UI MANIPULATION ---
    function updateActiveNavLink() {
      $$('.nav-link').forEach(link => {
        // Bandingkan href link dengan path saat ini (abaikan query string dari link)
        const linkPath = new URL(link.href).hash.slice(1).split('?')[0];
        if (linkPath === AppState.currentPage) {
          link.classList.add(AppConfig.activeNavClass);
          link.setAttribute('aria-current', 'page');
        } else {
          link.classList.remove(AppConfig.activeNavClass);
          link.removeAttribute('aria-current');
        }
      });
    }

    function toggleMobileMenu() {
      const navMenu = $(`#${AppConfig.navMenuId}`);
      const navToggler = $(`#${AppConfig.navTogglerId}`);
      navMenu.classList.toggle(AppConfig.activeNavClass);
      const isExpanded = navMenu.classList.contains(AppConfig.activeNavClass);
      navToggler.setAttribute('aria-expanded', isExpanded.toString());
      navToggler.innerHTML = isExpanded ? '<i class="fa fa-times" aria-hidden="true"></i>' : '<i class="fa fa-bars" aria-hidden="true"></i>';
    }

    // Fungsi untuk elemen yang muncul saat di-scroll
    function initRevealOnScroll() {
      const revealElements = $$('.reveal-on-scroll');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target); // Hanya animasi sekali
          }
        });
      }, { threshold: 0.1 }); // Muncul saat 10% elemen terlihat

      revealElements.forEach(el => {
        observer.observe(el);
      });
    }

    // --- INISIALISASI APLIKASI ---
    document.addEventListener('DOMContentLoaded', () => {
      // Event listener untuk perubahan hash URL (navigasi SPA)
      window.addEventListener('hashchange', router);
      // Muat halaman awal berdasarkan hash URL saat halaman pertama kali dimuat
      router();

      // Event listener untuk toggler menu mobile
      const navToggler = $(`#${AppConfig.navTogglerId}`);
      if (navToggler) {
        navToggler.addEventListener('click', toggleMobileMenu);
      }

      // Event listener untuk menutup menu mobile saat link di klik
      $$(`#${AppConfig.navMenuId} a`).forEach(link => {
        link.addEventListener('click', () => {
          const navMenu = $(`#${AppConfig.navMenuId}`);
          if (navMenu.classList.contains(AppConfig.activeNavClass)) {
            toggleMobileMenu();
          }
        });
      });

      // Update tahun di footer
      $('#currentYear').textContent = new Date().getFullYear();

      // Klik pada logo/brand akan navigasi ke beranda
      $('#brandLink').addEventListener('click', (e) => {
        e.preventDefault();
        window.location.hash = '#/beranda';
      });

      // Inisialisasi fitur reveal-on-scroll awal
      initRevealOnScroll();
    });

  </script>
</body>

</html>