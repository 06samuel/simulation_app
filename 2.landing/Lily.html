<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="Temukan apartemen impian Anda di Green Valley. Platform penyewaan apartemen modern dengan UI/UX terbaik, responsif, dan aksesibel.">
  <meta name="keywords" content="sewa apartemen, green valley, apartemen modern, hunian, properti">
  <meta name="author" content="Green Valley Apartments">
  <!-- Open Graph Meta Tags untuk social sharing yang lebih baik -->
  <meta property="og:title" content="Green Valley Apartments - Sewa Apartemen Impian Anda" />
  <meta property="og:description"
    content="Temukan apartemen impian Anda di Green Valley. Platform penyewaan apartemen modern dengan UI/UX terbaik." />
  <meta property="og:image"
    content="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&h=630&q=80" />
  <meta property="og:url" content="URL_ANDA_NANTI_KETIKA_DEPLOY" />
  <meta property="og:type" content="website" />

  <title>Green Valley Apartments - Sewa Apartemen Impian Anda</title>

  <!-- Favicon (gunakan generator favicon untuk berbagai ukuran) -->
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè†</text></svg>"
    type="image/svg+xml">
  <!-- Contoh Favicon Emoji, idealnya ganti dengan file .ico atau .png -->

  <!-- Optimized Font Loading - Poppins untuk UI, Merriweather untuk judul/aksen -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload"
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap"
    as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap">
  </noscript>

  <style>
    /* =========================
       DESIGN TOKENS (TOKEN DESAIN)
       Mendefinisikan variabel global untuk konsistensi desain.
    ========================= */
    :root {
      /* Palet Warna Utama (HSL) - Tema Green Valley */
      --color-primary-h: 145;
      /* Hijau alam yang menenangkan */
      --color-primary-s: 63%;
      --color-primary-l: 42%;
      --color-primary: hsl(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l));
      /* #4CAF50 */
      --color-primary-dark: hsl(var(--color-primary-h), var(--color-primary-s), 32%);
      /* Lebih gelap untuk hover/fokus */
      --color-primary-light: hsl(var(--color-primary-h), var(--color-primary-s), 95%);
      /* Sangat terang untuk latar belakang lembut */

      --color-accent-h: 45;
      /* Kuning keemasan elegan sebagai aksen */
      --color-accent-s: 100%;
      --color-accent-l: 50%;
      --color-accent: hsl(var(--color-accent-h), var(--color-accent-s), var(--color-accent-l));
      /* #FFC107 */
      --color-accent-dark: hsl(var(--color-accent-h), var(--color-accent-s), 40%);

      --color-success: hsl(134, 61%, 41%);
      /* Hijau untuk pesan sukses */
      --color-warning: hsl(48, 100%, 47%);
      /* Kuning untuk peringatan */
      --color-error: hsl(0, 84%, 60%);
      /* Merah untuk error */

      /* Warna Dasar UI */
      --color-bg: hsl(210, 30%, 98%);
      /* Latar belakang halaman sangat terang, sedikit kebiruan/abu */
      --color-surface: #ffffff;
      /* Permukaan elemen seperti kartu, modal */
      --color-surface-alt: hsl(210, 25%, 94%);
      /* Permukaan alternatif, misal input field */
      --color-border: hsl(210, 15%, 88%);
      /* Warna border halus */
      --color-text: hsl(210, 17%, 25%);
      /* Teks utama, abu-abu gelap */
      --color-text-muted: hsl(210, 15%, 45%);
      /* Teks sekunder/placeholder */
      --color-link: var(--color-primary);

      /* Tipografi */
      --font-family-sans: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      --font-family-serif: 'Merriweather', Georgia, serif;

      --font-size-xs: 0.75rem;
      /* 12px */
      --font-size-sm: 0.875rem;
      /* 14px */
      --font-size-base: 1rem;
      /* 16px (default) */
      --font-size-md: 1.125rem;
      /* 18px */
      --font-size-lg: 1.5rem;
      /* 24px */
      --font-size-xl: 2rem;
      /* 32px */
      --font-size-2xl: 2.5rem;
      /* 40px */
      --font-size-3xl: 3rem;
      /* 48px */

      --line-height-tight: 1.2;
      --line-height-normal: 1.6;
      /* Line height default untuk keterbacaan */
      --line-height-relaxed: 1.8;

      /* Spasi (Spacing) - Skala konsisten */
      --space-1: 0.25rem;
      /* 4px */
      --space-2: 0.5rem;
      /* 8px */
      --space-3: 1rem;
      /* 16px */
      --space-4: 1.5rem;
      /* 24px */
      --space-5: 2rem;
      /* 32px */
      --space-6: 3rem;
      /* 48px */
      --space-7: 4rem;
      /* 64px */

      /* Radius Sudut (Border Radius) */
      --radius-sm: 0.25rem;
      /* 4px */
      --radius-md: 0.5rem;
      /* 8px */
      --radius-lg: 0.75rem;
      /* 12px, sedikit lebih halus */
      --radius-xl: 1rem;
      /* 16px */
      --radius-full: 9999px;
      /* Untuk elemen bulat sempurna */

      /* Bayangan (Shadow) - Halus dan modern */
      --shadow-xs: 0 1px 2px hsla(210, 10%, 15%, 0.05);
      --shadow-sm: 0 2px 4px hsla(210, 10%, 15%, 0.07), 0 1px 2px hsla(210, 10%, 15%, 0.04);
      --shadow-md: 0 4px 8px hsla(210, 10%, 15%, 0.1), 0 2px 4px hsla(210, 10%, 15%, 0.06);
      --shadow-lg: 0 8px 16px hsla(210, 10%, 15%, 0.12), 0 4px 8px hsla(210, 10%, 15%, 0.08);
      --shadow-xl: 0 12px 24px hsla(210, 10%, 15%, 0.15), 0 6px 12px hsla(210, 10%, 15%, 0.1);
      --shadow-inset: inset 0 1px 3px hsla(210, 10%, 15%, 0.08);

      /* Transisi - Elegan dan cepat */
      --transition-cubic: 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
      --transition-smooth: 0.2s ease-in-out;
    }

    /* =========================
       DASAR & RESET (BASE & RESET)
       Menetapkan gaya dasar dan mereset beberapa default browser.
    ========================= */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-tap-highlight-color: transparent;
      /* Menghilangkan highlight biru pada tap di mobile */
    }

    html {
      scroll-behavior: smooth;
      font-size: 100%;
      /* 1rem = 16px (default browser) */
    }

    body {
      font-family: var(--font-family-sans);
      font-size: var(--font-size-base);
      color: var(--color-text);
      background-color: var(--color-bg);
      line-height: var(--line-height-normal);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }

    main {
      flex-grow: 1;
      /* Memastikan footer selalu di bawah jika konten sedikit */
      display: flex;
      /* Untuk layout SPA di mana section adalah children langsung */
      flex-direction: column;
    }

    /* Kontainer utama untuk setiap halaman dalam SPA */
    .page-section {
      display: none;
      /* Semua section disembunyikan secara default */
      padding: var(--space-5) 0;
      /* Padding atas/bawah untuk section */
      animation: fadeIn 0.5s var(--transition-cubic) forwards;
      width: 100%;
    }

    .page-section.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    a {
      color: var(--color-link);
      text-decoration: none;
      transition: color var(--transition-smooth);
    }

    a:hover,
    a:focus-visible {
      color: var(--color-primary-dark);
      text-decoration: underline;
      text-decoration-thickness: 1.5px;
      text-underline-offset: 3px;
    }

    a:focus-visible {
      outline: 3px solid var(--color-accent);
      outline-offset: 2px;
      border-radius: var(--radius-sm);
    }

    img {
      /* Tidak ada SVG file, jadi tidak perlu style khusus untuk SVG tag */
      display: block;
      max-width: 100%;
      height: auto;
      object-fit: cover;
      /* Default untuk gambar agar tidak terdistorsi */
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-family: var(--font-family-serif);
      /* Judul menggunakan font serif untuk kesan elegan */
      line-height: var(--line-height-tight);
      color: var(--color-text);
      /* Sedikit lebih gelap untuk kontras judul */
      margin-bottom: var(--space-3);
    }

    h1 {
      font-size: var(--font-size-2xl);
      margin-bottom: var(--space-4);
    }

    h2 {
      font-size: var(--font-size-xl);
    }

    h3 {
      font-size: var(--font-size-lg);
    }

    h4 {
      font-size: var(--font-size-md);
    }

    p {
      margin-bottom: var(--space-3);
    }

    ul,
    ol {
      list-style-position: inside;
      padding-left: var(--space-1);
    }

    /* Styling list dasar */
    li {
      margin-bottom: var(--space-1);
    }

    /* =========================
       KELAS UTILITAS (UTILITY CLASSES)
       Kelas bantuan untuk styling cepat.
    ========================= */
    .container {
      width: 100%;
      max-width: 1200px;
      /* Lebar maksimum konten */
      margin-left: auto;
      margin-right: auto;
      padding-left: var(--space-4);
      /* Padding sisi untuk mobile first */
      padding-right: var(--space-4);
    }

    @media (min-width: 768px) {
      .container {
        padding-left: var(--space-5);
        padding-right: var(--space-5);
      }
    }

    .text-center {
      text-align: center;
    }

    .text-primary {
      color: var(--color-primary);
    }

    .text-accent {
      color: var(--color-accent);
    }

    .mb-1 {
      margin-bottom: var(--space-1) !important;
    }

    .mb-2 {
      margin-bottom: var(--space-2) !important;
    }

    .mb-3 {
      margin-bottom: var(--space-3) !important;
    }

    .mb-4 {
      margin-bottom: var(--space-4) !important;
    }

    .mb-5 {
      margin-bottom: var(--space-5) !important;
    }

    .mt-1 {
      margin-top: var(--space-1) !important;
    }

    .mt-2 {
      margin-top: var(--space-2) !important;
    }

    .mt-3 {
      margin-top: var(--space-3) !important;
    }

    .mt-4 {
      margin-top: var(--space-4) !important;
    }

    .mt-5 {
      margin-top: var(--space-5) !important;
    }

    .visually-hidden {
      /* Untuk aksesibilitas, menyembunyikan elemen secara visual tapi tetap terbaca screen reader */
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .visually-hidden.focusable:active,
    .visually-hidden.focusable:focus {
      position: static;
      display: inline-block;
      width: auto;
      height: auto;
      padding: var(--space-3);
      margin: var(--space-3) auto;
      overflow: visible;
      clip: auto;
      white-space: normal;
      background-color: var(--color-accent);
      color: var(--color-text);
      border-radius: var(--radius-md);
      z-index: 9999;
      text-align: center;
      text-decoration: none;
    }

    /* =========================
       HEADER & NAVIGASI (HEADER & NAVIGATION)
       Desain header yang sticky, modern, dan responsif.
    ========================= */
    .site-header {
      background-color: var(--color-surface);
      border-bottom: 1px solid var(--color-border);
      position: sticky;
      top: 0;
      z-index: 1000;
      /* Di atas konten lain */
      box-shadow: var(--shadow-sm);
      transition: box-shadow var(--transition-smooth), background-color var(--transition-smooth);
    }

    .site-header.scrolled {
      box-shadow: var(--shadow-md);
      background-color: hsla(0, 0%, 100%, 0.85);
      /* Sedikit transparan saat scroll */
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 70px;
      /* Ketinggian header konsisten */
    }

    .nav__brand {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      font-weight: 700;
      font-size: var(--font-size-md);
      color: var(--color-primary);
      font-family: var(--font-family-serif);
      /* Brand dengan font serif */
      text-decoration: none;
    }

    .nav__brand:hover,
    .nav__brand:focus-visible {
      text-decoration: none;
    }

    .nav__brand-icon {
      color: var(--color-primary);
      transition: transform var(--transition-cubic);
    }

    .nav__brand:hover .nav__brand-icon,
    .nav__brand:focus-visible .nav__brand-icon {
      transform: rotate(10deg) scale(1.1);
    }

    .nav__menu {
      display: flex;
      gap: var(--space-1);
      list-style: none;
    }

    .nav__link {
      font-weight: 500;
      padding: var(--space-2) var(--space-3);
      border-radius: var(--radius-md);
      transition: background-color var(--transition-smooth), color var(--transition-smooth), transform var(--transition-smooth);
      position: relative;
      overflow: hidden;
      color: var(--color-text-muted);
      text-decoration: none;
    }

    .nav__link::after {
      /* Efek underline fancy */
      content: '';
      position: absolute;
      bottom: 5px;
      /* Posisi underline */
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background-color: var(--color-accent);
      transition: width var(--transition-cubic);
    }

    .nav__link:hover,
    .nav__link:focus-visible,
    .nav__link.active {
      color: var(--color-primary-dark);
      background-color: var(--color-primary-light);
      text-decoration: none;
    }

    .nav__link.active::after,
    .nav__link:hover::after,
    .nav__link:focus-visible::after {
      width: 60%;
      /* Lebar underline saat aktif/hover */
    }

    .nav__link.cta {
      /* Tombol Call to Action di navigasi */
      background-color: var(--color-accent);
      color: var(--color-text);
      font-weight: 600;
      box-shadow: var(--shadow-xs);
    }

    .nav__link.cta:hover,
    .nav__link.cta:focus-visible {
      background-color: var(--color-accent-dark);
      color: var(--color-surface);
      box-shadow: var(--shadow-sm);
      transform: translateY(-1px);
    }

    .nav__link.cta::after {
      display: none;
    }

    /* Hilangkan underline default untuk CTA */

    .nav__toggle {
      /* Tombol hamburger untuk mobile */
      display: none;
      background: none;
      border: none;
      cursor: pointer;
      padding: var(--space-2);
      z-index: 1100;
      /* Di atas menu mobile */
      color: var(--color-primary);
    }

    .nav__toggle svg {
      width: 28px;
      height: 28px;
      transition: transform var(--transition-cubic);
      display: block;
      /* Mencegah spasi ekstra di bawah SVG */
    }

    .nav__toggle.active .icon-menu {
      display: none;
    }

    .nav__toggle:not(.active) .icon-close {
      display: none;
    }

    .nav__toggle.active .icon-close {
      display: block;
    }


    /* Navigasi Mobile - Tampilan menu saat di layar kecil */
    @media (max-width: 768px) {
      .nav__menu {
        position: fixed;
        top: 70px;
        /* Di bawah header */
        right: -100%;
        /* Mulai dari luar layar */
        width: min(80vw, 320px);
        /* Lebar menu mobile */
        height: calc(100vh - 70px);
        background-color: var(--color-surface);
        flex-direction: column;
        align-items: flex-start;
        padding: var(--space-4);
        box-shadow: -5px 0 15px hsla(210, 10%, 15%, 0.1);
        transition: right var(--transition-cubic);
        overflow-y: auto;
      }

      .nav__menu.active {
        right: 0;
      }

      .nav__link {
        width: 100%;
        padding: var(--space-3) var(--space-2);
        font-size: var(--font-size-md);
      }

      .nav__link::after {
        bottom: 8px;
      }

      /* Sesuaikan posisi underline untuk font lebih besar */
      .nav__toggle {
        display: block;
      }
    }

    /* =========================
       BAGIAN HERO (HERO SECTION)
       Area utama di atas halaman dengan CTA.
    ========================= */
    .hero {
      background: linear-gradient(135deg, hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.85), hsla(var(--color-accent-h), var(--color-accent-s), var(--color-accent-l), 0.7)),
        url('https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80') no-repeat center center/cover;
      color: var(--color-surface);
      padding-top: var(--space-6);
      padding-bottom: var(--space-7);
      min-height: 60vh;
      /* Tinggi minimal hero */
      display: flex;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      /* Overlay pola titik halus untuk tekstur */
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: radial-gradient(hsla(0, 0%, 100%, 0.05) 1px, transparent 1px);
      background-size: 10px 10px;
      opacity: 0.7;
    }

    .hero__content {
      position: relative;
      /* Di atas overlay */
      z-index: 1;
      max-width: 750px;
      text-align: center;
      /* Konten hero terpusat */
      margin: 0 auto;
    }

    .hero__title {
      font-size: var(--font-size-3xl);
      font-weight: 700;
      color: var(--color-surface);
      line-height: 1.15;
      margin-bottom: var(--space-3);
      text-shadow: 0 2px 6px hsla(0, 0%, 0%, 0.3);
    }

    .hero__subtitle {
      font-size: var(--font-size-md);
      font-weight: 400;
      opacity: 0.95;
      margin-bottom: var(--space-5);
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero__search-form {
      background: hsla(0, 0%, 100%, 0.15);
      /* Latar belakang glassmorphism */
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      padding: var(--space-3);
      border-radius: var(--radius-lg);
      display: flex;
      gap: var(--space-2);
      box-shadow: 0 8px 32px hsla(0, 0%, 0%, 0.2);
      border: 1px solid hsla(0, 0%, 100%, 0.2);
      max-width: 600px;
      margin: 0 auto;
    }

    .hero__search-input {
      flex-grow: 1;
      padding: var(--space-3);
      border: none;
      border-radius: var(--radius-md);
      font-size: var(--font-size-base);
      background-color: var(--color-surface);
      box-shadow: var(--shadow-inset);
      color: var(--color-text);
    }

    .hero__search-input::placeholder {
      color: var(--color-text-muted);
    }

    .hero__search-input:focus {
      outline: 2px solid var(--color-accent);
    }

    .hero__search-btn {
      padding: var(--space-3) var(--space-4);
      /* Ukuran tombol pencarian */
    }

    @media (max-width: 768px) {
      .hero {
        min-height: 70vh;
        padding-top: var(--space-5);
        padding-bottom: var(--space-6);
      }

      .hero__title {
        font-size: var(--font-size-2xl);
      }

      .hero__subtitle {
        font-size: var(--font-size-base);
        margin-bottom: var(--space-4);
      }

      .hero__search-form {
        flex-direction: column;
        padding: var(--space-3);
      }
    }

    /* =========================
       TOMBOL (BUTTONS)
       Gaya tombol yang konsisten dan interaktif.
    ========================= */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-family: var(--font-family-sans);
      font-weight: 600;
      font-size: var(--font-size-base);
      padding: calc(var(--space-3) - 2px) calc(var(--space-4) - 2px);
      /* Padding disesuaikan dengan border */
      border-radius: var(--radius-md);
      border: 2px solid transparent;
      /* Border untuk konsistensi ukuran */
      cursor: pointer;
      transition: all var(--transition-cubic);
      text-align: center;
      white-space: nowrap;
      position: relative;
      overflow: hidden;
      text-decoration: none;
    }

    .btn:focus-visible {
      outline: 3px solid var(--color-accent);
      outline-offset: 3px;
      text-decoration: none;
    }

    .btn:active {
      transform: scale(0.97);
      /* Efek tekan tombol */
    }

    .btn[disabled],
    .btn.disabled {
      opacity: 0.6;
      cursor: not-allowed;
      background-color: var(--color-text-muted) !important;
      border-color: var(--color-text-muted) !important;
      color: var(--color-surface) !important;
      box-shadow: none !important;
      transform: none !important;
    }

    .btn--primary {
      background-color: var(--color-primary);
      color: var(--color-surface);
      border-color: var(--color-primary);
      box-shadow: var(--shadow-sm);
    }

    .btn--primary:hover,
    .btn--primary:focus-visible {
      background-color: var(--color-primary-dark);
      border-color: var(--color-primary-dark);
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
      color: var(--color-surface);
      text-decoration: none;
    }

    .btn--secondary {
      background-color: var(--color-surface);
      color: var(--color-primary);
      border-color: var(--color-primary);
      box-shadow: var(--shadow-xs);
    }

    .btn--secondary:hover,
    .btn--secondary:focus-visible {
      background-color: var(--color-primary-light);
      color: var(--color-primary-dark);
      border-color: var(--color-primary-dark);
      box-shadow: var(--shadow-sm);
      transform: translateY(-2px);
      text-decoration: none;
    }

    .btn--accent {
      background-color: var(--color-accent);
      color: var(--color-text);
      border-color: var(--color-accent);
      box-shadow: var(--shadow-sm);
    }

    .btn--accent:hover,
    .btn--accent:focus-visible {
      background-color: var(--color-accent-dark);
      border-color: var(--color-accent-dark);
      color: var(--color-surface);
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
      text-decoration: none;
    }

    .btn--icon {
      /* Untuk tombol yang hanya berisi ikon */
      padding: var(--space-2);
    }

    .btn svg {
      /* Styling ikon di dalam tombol */
      width: 1.2em;
      height: 1.2em;
      transition: transform 0.2s ease;
    }

    .btn>svg:first-child:not(:last-child) {
      /* Jika ikon di kiri teks */
      margin-right: var(--space-2);
    }

    .btn>svg:last-child:not(:first-child) {
      /* Jika ikon di kanan teks */
      margin-left: var(--space-2);
    }

    .btn--icon svg {
      margin-right: 0;
      margin-left: 0;
    }

    .btn .animate-spin {
      /* Untuk spinner di tombol */
      animation: spin 1s linear infinite;
    }

    .btn:not(:has(span:not(:empty))):not(:has(div:not(:empty))):not(:has(img))>svg.animate-spin {
      margin-right: 0;
      /* Tidak ada margin jika spinner adalah satu-satunya konten */
    }


    /* =========================
       DAFTAR APARTEMEN (APARTMENT LISTINGS)
       Desain kartu apartemen dan gridnya.
    ========================= */
    .apartment-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(min(100%, 320px), 1fr));
      /* Responsif dan fancy */
      gap: var(--space-4);
    }

    @media (min-width: 600px) {

      /* Sedikit penyesuaian untuk layar lebih lebar */
      .apartment-grid {
        grid-template-columns: repeat(auto-fill, minmax(min(100%, 300px), 1fr));
      }
    }

    .apartment-card {
      background-color: var(--color-surface);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: transform var(--transition-cubic), box-shadow var(--transition-cubic);
      border: 1px solid var(--color-border);
      /* Border halus */
    }

    .apartment-card:hover,
    .apartment-card:focus-within {
      /* Efek hover/fokus yang lebih menonjol */
      transform: translateY(-6px) scale(1.015);
      box-shadow: var(--shadow-xl);
      z-index: 10;
      /* Agar bayangan tidak tertutup kartu lain */
    }

    .apartment-card__image-wrapper {
      position: relative;
      aspect-ratio: 16 / 10;
      /* Rasio gambar konsisten */
      overflow: hidden;
      background-color: var(--color-surface-alt);
    }

    .apartment-card__image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease-out;
      /* Efek zoom halus pada gambar */
    }

    .apartment-card:hover .apartment-card__image,
    .apartment-card:focus-within .apartment-card__image {
      transform: scale(1.08);
    }

    .apartment-card__badge {
      position: absolute;
      top: var(--space-3);
      left: var(--space-3);
      background-color: var(--color-accent);
      color: var(--color-text);
      padding: var(--space-1) var(--space-2);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-xs);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      z-index: 1;
    }

    .apartment-card__content {
      padding: var(--space-4);
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }

    .apartment-card__title {
      font-size: var(--font-size-md);
      font-family: var(--font-family-sans);
      /* Judul kartu pakai sans-serif agar lebih modern */
      font-weight: 600;
      color: var(--color-primary-dark);
      margin-bottom: var(--space-1);
    }

    .apartment-card__location {
      font-size: var(--font-size-sm);
      color: var(--color-text-muted);
      margin-bottom: var(--space-3);
      /* Jarak lebih besar sebelum fitur */
      display: flex;
      align-items: center;
      gap: var(--space-1);
    }

    .apartment-card__location svg {
      width: 1em;
      height: 1em;
      color: var(--color-primary);
      flex-shrink: 0;
    }

    .apartment-card__features {
      display: grid;
      /* Grid untuk fitur agar rapi */
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: var(--space-2);
      font-size: var(--font-size-sm);
      color: var(--color-text-muted);
      margin-bottom: var(--space-3);
    }

    .apartment-card__feature-item {
      display: flex;
      align-items: center;
      gap: var(--space-1);
    }

    .apartment-card__feature-item svg {
      width: 1.1em;
      height: 1.1em;
      color: var(--color-primary);
      flex-shrink: 0;
    }

    .apartment-card__price {
      font-size: var(--font-size-lg);
      font-weight: 700;
      color: var(--color-primary);
      margin-top: auto;
      /* Mendorong harga ke bawah */
      margin-bottom: var(--space-3);
    }

    .apartment-card__price span {
      font-size: var(--font-size-sm);
      font-weight: 400;
      color: var(--color-text-muted);
    }

    .apartment-card__actions {
      margin-top: auto;
      /* Tombol selalu di bawah */
    }

    .apartment-card__actions .btn {
      width: 100%;
      /* Tombol memenuhi lebar */
    }

    /* Skeleton Loader untuk kartu apartemen saat loading */
    .skeleton-card {
      background-color: var(--color-surface);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
      border: 1px solid var(--color-border);
    }

    .skeleton-card__image {
      background-color: var(--color-surface-alt);
      aspect-ratio: 16 / 10;
      animation: pulse 1.8s infinite ease-in-out;
    }

    .skeleton-card__content {
      padding: var(--space-4);
    }

    .skeleton-text {
      background-color: var(--color-surface-alt);
      height: 1em;
      margin-bottom: var(--space-2);
      border-radius: var(--radius-sm);
      animation: pulse 1.8s infinite ease-in-out;
    }

    .skeleton-text--title {
      width: 70%;
      height: 1.5em;
      margin-bottom: var(--space-3);
    }

    .skeleton-text--line {
      width: 90%;
    }

    .skeleton-text--short {
      width: 50%;
    }

    @keyframes pulse {

      /* Animasi untuk skeleton loader */
      0% {
        background-color: hsl(210, 20%, 90%);
      }

      50% {
        background-color: hsl(210, 20%, 96%);
      }

      100% {
        background-color: hsl(210, 20%, 90%);
      }
    }

    /* Filter Bar - Untuk memfilter daftar apartemen */
    .filter-bar {
      display: grid;
      /* Grid untuk layout filter yang responsif */
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: var(--space-3);
      margin-bottom: var(--space-5);
      padding: var(--space-4);
      background-color: var(--color-surface);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      align-items: end;
      /* Align item ke bawah agar tombol sejajar */
    }

    .filter-bar__group {
      display: flex;
      flex-direction: column;
    }

    .filter-bar__label {
      font-size: var(--font-size-xs);
      color: var(--color-text-muted);
      margin-bottom: var(--space-1);
      font-weight: 500;
    }

    .filter-bar__select,
    .filter-bar__input {
      padding: var(--space-2) var(--space-3);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      font-size: var(--font-size-sm);
      background-color: var(--color-surface-alt);
      width: 100%;
      transition: border-color var(--transition-smooth), box-shadow var(--transition-smooth);
    }

    .filter-bar__select:focus,
    .filter-bar__input:focus {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.2);
      outline: none;
    }

    .filter-bar .btn {
      grid-column: 1 / -1;
      /* Tombol filter span semua kolom di mobile */
    }

    @media (min-width: 992px) {

      /* Di layar besar, tombol filter tidak span full */
      .filter-bar {
        grid-template-columns: repeat(3, 1fr) auto;
      }

      /* 3 filter + 1 tombol */
      .filter-bar .btn {
        grid-column: auto;
      }
    }


    /* =========================
       SOROTAN FITUR (FEATURE HIGHLIGHTS)
       Menampilkan fitur utama Green Valley.
    ========================= */
    .feature-highlights {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
      gap: var(--space-4);
      padding: var(--space-6) 0;
    }

    .feature-item {
      background-color: var(--color-surface);
      padding: var(--space-5);
      /* Padding lebih besar */
      border-radius: var(--radius-lg);
      text-align: center;
      box-shadow: var(--shadow-md);
      transition: transform var(--transition-cubic), box-shadow var(--transition-cubic);
      border: 1px solid var(--color-border);
    }

    .feature-item:hover {
      transform: translateY(-8px);
      /* Efek angkat lebih dramatis */
      box-shadow: var(--shadow-xl);
    }

    .feature-item__icon {
      /* Lingkaran ikon yang fancy */
      background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
      color: var(--color-surface);
      width: 72px;
      height: 72px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-bottom: var(--space-4);
      box-shadow: 0 4px 10px hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .feature-item:hover .feature-item__icon {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 6px 15px hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.4);
    }

    .feature-item__icon svg {
      width: 32px;
      height: 32px;
    }

    .feature-item__title {
      font-size: var(--font-size-md);
      font-family: var(--font-family-sans);
      font-weight: 600;
      margin-bottom: var(--space-2);
      color: var(--color-text);
    }

    .feature-item__description {
      font-size: var(--font-size-sm);
      color: var(--color-text-muted);
      line-height: var(--line-height-relaxed);
    }

    /* =========================
       BAGIAN FORMULIR (FORM SECTION)
       Styling umum untuk formulir, misal di halaman Kontak.
    ========================= */
    .form-section {
      max-width: 700px;
      /* Form lebih lebar */
      margin-left: auto;
      margin-right: auto;
      background-color: var(--color-surface);
      padding: var(--space-5);
      border-radius: var(--radius-xl);
      /* Radius lebih besar */
      box-shadow: var(--shadow-lg);
    }

    .form__group {
      margin-bottom: var(--space-4);
      /* Jarak antar grup form */
    }

    .form__label {
      display: block;
      font-weight: 600;
      /* Label lebih tebal */
      margin-bottom: var(--space-2);
      color: var(--color-text);
      font-size: var(--font-size-sm);
    }

    .form__input,
    .form__textarea,
    .form__select {
      width: 100%;
      padding: var(--space-3);
      /* Padding input lebih besar */
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      font-size: var(--font-size-base);
      background-color: var(--color-surface-alt);
      transition: border-color var(--transition-smooth), box-shadow var(--transition-smooth);
      box-shadow: var(--shadow-inset);
      color: var(--color-text);
    }

    .form__input::placeholder,
    .form__textarea::placeholder {
      color: var(--color-text-muted);
      opacity: 0.8;
    }

    .form__input:focus,
    .form__textarea:focus,
    .form__select:focus {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px hsla(var(--color-primary-h), var(--color-primary-s), var(--color-primary-l), 0.25), var(--shadow-inset);
      outline: none;
      background-color: var(--color-surface);
    }

    .form__textarea {
      min-height: 150px;
      /* Textarea lebih tinggi */
      resize: vertical;
    }

    .form__error-message {
      /* Pesan error yang jelas */
      display: block;
      color: var(--color-error);
      font-size: var(--font-size-sm);
      margin-top: var(--space-1);
      min-height: 1.3em;
      /* Mencegah layout shift */
      font-weight: 500;
    }

    .form__input[aria-invalid="true"],
    .form__textarea[aria-invalid="true"] {
      border-color: var(--color-error);
      box-shadow: 0 0 0 3px hsla(0, 84%, 60%, 0.2), var(--shadow-inset) !important;
      /* Highlight error */
    }

    .form__success-message {
      /* Pesan sukses yang menarik */
      color: var(--color-success);
      background-color: hsl(134, 61%, 95%);
      /* Latar belakang hijau muda */
      border: 1px solid hsl(134, 61%, 85%);
      /* Border hijau */
      padding: var(--space-3);
      border-radius: var(--radius-md);
      margin-bottom: var(--space-4);
      font-weight: 500;
      display: flex;
      /* Untuk ikon jika ada */
      align-items: center;
      gap: var(--space-2);
    }

    .form__success-message svg {
      width: 1.5em;
      height: 1.5em;
    }

    /* =========================
       FOOTER
       Desain footer yang informatif dan modern.
    ========================= */
    .site-footer {
      background-color: var(--color-text);
      /* Footer dengan latar gelap */
      color: hsl(210, 20%, 85%);
      /* Teks terang di footer */
      padding: var(--space-6) 0 var(--space-3);
      border-top: 5px solid var(--color-primary);
      /* Aksen border atas */
    }

    .footer__content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: var(--space-5);
      margin-bottom: var(--space-5);
    }

    .footer__section-title {
      font-size: var(--font-size-md);
      font-family: var(--font-family-serif);
      color: var(--color-surface);
      margin-bottom: var(--space-3);
      position: relative;
    }

    .footer__section-title::after {
      /* Garis bawah aksen untuk judul footer */
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 50px;
      height: 3px;
      background-color: var(--color-accent);
      border-radius: 2px;
    }

    .footer__links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .footer__links li {
      margin-bottom: var(--space-2);
    }

    .footer__link {
      color: hsl(210, 20%, 75%);
      /* Warna link di footer */
      transition: color var(--transition-smooth), padding-left var(--transition-smooth);
      font-size: var(--font-size-sm);
      text-decoration: none;
    }

    .footer__link:hover,
    .footer__link:focus-visible {
      color: var(--color-accent);
      padding-left: var(--space-1);
      text-decoration: none;
      /* Hindari underline default jika sudah ada efek lain */
    }

    .footer__social-links {
      display: flex;
      gap: var(--space-3);
      margin-top: var(--space-3);
    }

    .footer__social-link svg {
      width: 28px;
      height: 28px;
      /* Ikon sosial lebih besar */
      color: hsl(210, 20%, 75%);
      transition: color var(--transition-smooth), transform var(--transition-cubic);
    }

    .footer__social-link:hover svg,
    .footer__social-link:focus-visible svg {
      color: var(--color-accent);
      transform: scale(1.25) translateY(-2px);
      /* Efek hover ikon sosial */
    }

    .footer__copyright {
      border-top: 1px solid hsl(210, 15%, 40%);
      /* Pemisah copyright */
      padding-top: var(--space-4);
      font-size: var(--font-size-sm);
      color: hsl(210, 20%, 75%);
      text-align: center;
    }

    /* =========================
       ANIMASI UMUM
    ========================= */
    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* .animate-spin sudah di .btn */

    /* =========================
       AKSESIBILITAS & PREFERS REDUCED MOTION
       Mengurangi animasi jika pengguna meminta.
    ========================= */
    @media (prefers-reduced-motion: reduce) {
      html {
        scroll-behavior: auto;
      }

      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>

<body>
  <a href="#main-content" class="visually-hidden focusable">Lewati ke konten utama</a>

  <header class="site-header" id="site-header">
    <div class="container">
      <nav class="nav" aria-label="Navigasi Utama">
        <a href="#home" class="nav__brand spa-link" aria-label="Green Valley Apartments - Beranda">
          <!-- Ikon Rumah Sederhana (Feather Icons - home) -->
          <svg class="nav__brand-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
          <span>Green Valley</span>
        </a>

        <button class="nav__toggle" id="nav-toggle" aria-label="Buka menu" aria-controls="nav-menu"
          aria-expanded="false">
          <!-- Ikon Menu (Feather Icons - menu) -->
          <svg class="icon-menu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
          <!-- Ikon Close (Feather Icons - x) -->
          <svg class="icon-close" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>

        <ul class="nav__menu" id="nav-menu" role="menubar">
          <li role="none"><a href="#home" class="nav__link spa-link active" role="menuitem">Beranda</a></li>
          <li role="none"><a href="#listings" class="nav__link spa-link" role="menuitem">Daftar Apartemen</a></li>
          <li role="none"><a href="#about" class="nav__link spa-link" role="menuitem">Tentang Kami</a></li>
          <li role="none"><a href="#contact" class="nav__link spa-link" role="menuitem">Kontak</a></li>
          <li role="none"><a href="#contact" class="nav__link spa-link cta inquiry-btn"
              data-apartment-id="general-inquiry" role="menuitem">Sewa Sekarang</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main-content">
    <!-- Halaman Beranda -->
    <section id="page-home" class="page-section active">
      <div class="hero">
        <div class="container hero__content">
          <h1 class="hero__title">Temukan Apartemen Impian Anda di Green Valley</h1>
          <p class="hero__subtitle">Nikmati kenyamanan hidup modern dengan fasilitas lengkap, lokasi strategis, dan
            desain yang memanjakan mata. Green Valley hadir untuk memenuhi kebutuhan hunian berkualitas Anda.</p>
          <form class="hero__search-form" id="hero-search-form" role="search">
            <input type="search" class="hero__search-input" placeholder="Cari lokasi, tipe unit..."
              aria-label="Pencarian apartemen">
            <button type="submit" class="btn btn--accent hero__search-btn">
              <!-- Ikon Search (Feather Icons - search) -->
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"
                aria-hidden="true">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
              <span>Cari</span>
            </button>
          </form>
        </div>
      </div>

      <div class="container">
        <section id="featured-listings" aria-labelledby="featured-listings-title" class="mt-5 mb-5">
          <h2 id="featured-listings-title" class="text-center mb-5">Unit Pilihan Eksklusif Untuk Anda</h2>
          <div class="apartment-grid" id="featured-apartment-grid">
            <!-- Kartu apartemen unggulan akan dimuat oleh JavaScript -->
            <!-- Skeleton loaders akan ditampilkan di sini oleh JS jika perlu -->
          </div>
          <div class="text-center mt-5">
            <a href="#listings" class="btn btn--primary spa-link">
              <span>Lihat Semua Unit</span>
              <!-- Ikon Arrow Right (Feather Icons - arrow-right) -->
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" aria-hidden="true">
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 19 12 12 19"></polyline>
              </svg>
            </a>
          </div>
        </section>

        <section id="feature-highlights-home" aria-labelledby="feature-highlights-title" class="mt-5 mb-5">
          <h2 id="feature-highlights-title" class="text-center mb-5">Mengapa Memilih Green Valley?</h2>
          <div class="feature-highlights">
            <article class="feature-item">
              <div class="feature-item__icon">
                <!-- Ikon Heart (Feather Icons - heart) -->
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" aria-hidden="true">
                  <path
                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                  </path>
                </svg>
              </div>
              <h3 class="feature-item__title">Kenyamanan Maksimal</h3>
              <p class="feature-item__description">Desain interior modern, elegan, dan fungsional untuk kenyamanan
                tinggal Anda sehari-hari.</p>
            </article>
            <article class="feature-item">
              <div class="feature-item__icon">
                <!-- Ikon Shield Check (Custom - kombinasi shield & check) -->
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" aria-hidden="true">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                  <polyline points="9 12 11 14 15 10"></polyline>
                </svg>
              </div>
              <h3 class="feature-item__title">Fasilitas Premium</h3>
              <p class="feature-item__description">Kolam renang infinity, gym modern, co-working space, taman tropis,
                dan keamanan 24 jam.</p>
            </article>
            <article class="feature-item">
              <div class="feature-item__icon">
                <!-- Ikon Map Pin (Feather Icons - map-pin) -->
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" aria-hidden="true">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                  <circle cx="12" cy="10" r="3"></circle>
                </svg>
              </div>
              <h3 class="feature-item__title">Lokasi Strategis</h3>
              <p class="feature-item__description">Akses mudah ke pusat bisnis, perbelanjaan eksklusif, sekolah
                internasional, dan transportasi publik terintegrasi.</p>
            </article>
          </div>
        </section>
      </div>
    </section>

    <!-- Halaman Daftar Apartemen -->
    <section id="page-listings" class="page-section">
      <div class="container">
        <h1 class="text-center mb-3">Daftar Apartemen Tersedia</h1>
        <p class="text-center mb-5 text-muted" style="max-width: 600px; margin-left:auto; margin-right:auto;">Jelajahi
          beragam pilihan unit kami dan temukan yang paling sesuai dengan kebutuhan serta gaya hidup impian Anda di
          Green Valley.</p>

        <div class="filter-bar">
          <div class="filter-bar__group">
            <label for="filter-location" class="filter-bar__label">Lokasi Tower:</label>
            <select id="filter-location" class="filter-bar__select" aria-label="Filter berdasarkan lokasi tower">
              <option value="">Semua Tower</option>
              <option value="Tower A">Tower A - Emerald</option>
              <option value="Tower B">Tower B - Sapphire</option>
              <option value="Tower C">Tower C - Diamond</option>
            </select>
          </div>
          <div class="filter-bar__group">
            <label for="filter-type" class="filter-bar__label">Tipe Unit:</label>
            <select id="filter-type" class="filter-bar__select" aria-label="Filter berdasarkan tipe unit">
              <option value="">Semua Tipe</option>
              <option value="Studio">Studio</option>
              <option value="1BR">1 Kamar Tidur (1BR)</option>
              <option value="2BR">2 Kamar Tidur (2BR)</option>
              <option value="3BR">3 Kamar Tidur (3BR)</option>
            </select>
          </div>
          <div class="filter-bar__group">
            <label for="filter-sort" class="filter-bar__label">Urutkan:</label>
            <select id="filter-sort" class="filter-bar__select" aria-label="Urutkan daftar apartemen">
              <option value="price-asc">Harga: Terendah</option>
              <option value="price-desc">Harga: Tertinggi</option>
              <option value="newest">Terbaru Ditambahkan</option>
              <option value="area-desc">Luas: Terbesar</option>
            </select>
          </div>
          <button id="apply-filter-btn" class="btn btn--primary">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" aria-hidden="true">
              <polygon points="22 3 2 3 10 12.46V19l4 2v-8.54L22 3z"></polygon>
            </svg>
            <span>Filter</span>
          </button>
        </div>

        <div class="apartment-grid" id="all-apartment-grid" aria-live="polite" aria-atomic="true">
          <!-- Kartu apartemen akan dimuat oleh JavaScript -->
          <!-- Skeleton Loaders akan ditampilkan di sini oleh JS jika perlu -->
        </div>
        <p id="no-results-message" class="text-center mt-5 mb-5"
          style="display: none; font-size: var(--font-size-md); color: var(--color-text-muted);">
          Mohon maaf, tidak ada apartemen yang cocok dengan kriteria pencarian Anda saat ini. Silakan coba filter lain.
        </p>
      </div>
    </section>

    <!-- Halaman Tentang Kami -->
    <section id="page-about" class="page-section">
      <div class="container">
        <h1 class="text-center mb-5">Tentang Green Valley Apartments</h1>
        <div style="display: grid; grid-template-columns: 1fr; gap: var(--space-5); align-items: center;">

          <div style="order: 1;"> <!-- Gambar -->
            <img
              src="https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80"
              alt="Fasad Green Valley Apartments yang modern dan hijau"
              style="border-radius: var(--radius-xl); box-shadow: var(--shadow-lg); width:100%; aspect-ratio: 4/3;"
              loading="lazy">
          </div>
          <div style="order: 2;"> <!-- Teks -->
            <p class="lead"
              style="font-size: var(--font-size-md); color: var(--color-text); line-height: var(--line-height-relaxed);">
              Green Valley Apartments adalah perwujudan hunian vertikal modern yang dirancang secara cermat untuk
              memberikan kualitas hidup superior bagi para penghuninya. Berlokasi di jantung kota yang dinamis namun
              dikelilingi oleh ketenangan lanskap hijau, kami menawarkan keseimbangan sempurna antara kemudahan akses
              urban dan kedamaian sebuah oasis pribadi.</p>
            <p>Sejak peletakan batu pertama pada tahun 2015, visi kami adalah menciptakan sebuah ekosistem hunian yang
              tidak hanya nyaman dan aman, tetapi juga harmonis dan berkelanjutan. Kami percaya bahwa rumah bukan hanya
              sekadar struktur fisik, melainkan sebuah kanvas untuk bertumbuh, berkreasi, menjalin koneksi, dan
              membangun kenangan tak ternilai.</p>

            <h3 class="mt-5">Visi Kami</h3>
            <p>Menjadi ikon pengembang properti hunian vertikal terdepan di Indonesia, yang diakui secara global atas
              inovasi desain, kualitas konstruksi tak tertandingi, dan komitmen mutlak terhadap kepuasan holistik
              pelanggan serta pelestarian lingkungan yang berkelanjutan.</p>

            <h3 class="mt-4">Misi Kami</h3>
            <ul style="list-style-type: none; padding-left:0;">
              <li style="display:flex; align-items:flex-start; gap:var(--space-2); margin-bottom: var(--space-2);">
                <svg viewBox="0 0 24 24" fill="var(--color-primary)" width="24" height="24" aria-hidden="true">
                  <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z">
                  </path>
                </svg>
                <span>Menyediakan unit apartemen dengan desain arsitektur dan interior yang ikonik, menggunakan material
                  premium, dan teknologi smart-home terintegrasi.</span>
              </li>
              <li style="display:flex; align-items:flex-start; gap:var(--space-2); margin-bottom: var(--space-2);">
                <svg viewBox="0 0 24 24" fill="var(--color-primary)" width="24" height="24" aria-hidden="true">
                  <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z">
                  </path>
                </svg>
                <span>Mengelola seluruh fasilitas dan layanan dengan standar profesional tertinggi, memastikan
                  kenyamanan, keamanan, dan privasi setiap penghuni.</span>
              </li>
              <li style="display:flex; align-items:flex-start; gap:var(--space-2); margin-bottom: var(--space-2);">
                <svg viewBox="0 0 24 24" fill="var(--color-primary)" width="24" height="24" aria-hidden="true">
                  <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z">
                  </path>
                </svg>
                <span>Membangun dan memelihara komunitas penghuni yang solid, suportif, dan dinamis melalui berbagai
                  program dan kegiatan eksklusif.</span>
              </li>
              <li style="display:flex; align-items:flex-start; gap:var(--space-2); margin-bottom: var(--space-2);">
                <svg viewBox="0 0 24 24" fill="var(--color-primary)" width="24" height="24" aria-hidden="true">
                  <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z">
                  </path>
                </svg>
                <span>Secara aktif berkontribusi pada penciptaan lingkungan yang lebih hijau, sehat, dan berkelanjutan
                  melalui praktik ramah lingkungan dan inisiatif sosial.</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Halaman Kontak -->
    <section id="page-contact" class="page-section">
      <div class="container">
        <h1 class="text-center mb-3">Hubungi Kami</h1>
        <p class="text-center mb-5 text-muted" style="max-width: 600px; margin-left:auto; margin-right:auto;">Ada
          pertanyaan, ingin menjadwalkan kunjungan, atau butuh informasi lebih lanjut? Tim profesional kami siap
          membantu Anda.</p>

        <div class="form-section">
          <div id="form-success-message-container" class="form__success-message" style="display:none;" tabindex="-1"
            role="alert">
            <!-- Ikon Check Circle (Feather Icons - check-circle) -->
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" aria-hidden="true">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
              <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
            <span>Pesan Anda telah berhasil terkirim! Kami akan segera menghubungi Anda. Terima kasih.</span>
          </div>
          <form id="contact-form" class="form" novalidate>
            <div class="form__group">
              <label for="contact-name" class="form__label">Nama Lengkap Anda</label>
              <input type="text" id="contact-name" name="name" class="form__input" required aria-required="true"
                autocomplete="name" placeholder="Contoh: Adinda Putri">
              <span class="form__error-message" id="error-contact-name" aria-live="polite"></span>
            </div>
            <div class="form__group">
              <label for="contact-email" class="form__label">Alamat Email Aktif</label>
              <input type="email" id="contact-email" name="email" class="form__input" required aria-required="true"
                autocomplete="email" placeholder="Contoh: adinda.putri@example.com">
              <span class="form__error-message" id="error-contact-email" aria-live="polite"></span>
            </div>
            <div class="form__group">
              <label for="contact-phone" class="form__label">Nomor Telepon (Opsional)</label>
              <input type="tel" id="contact-phone" name="phone" class="form__input" autocomplete="tel"
                placeholder="Contoh: 0812 3456 7890">
              <span class="form__error-message" id="error-contact-phone" aria-live="polite"></span>
            </div>
            <div class="form__group">
              <label for="contact-subject" class="form__label">Subjek Pesan</label>
              <input type="text" id="contact-subject" name="subject" class="form__input" required aria-required="true"
                placeholder="Contoh: Pertanyaan mengenai unit Tipe Studio Tower Emerald">
              <span class="form__error-message" id="error-contact-subject" aria-live="polite"></span>
            </div>
            <div class="form__group">
              <label for="contact-message" class="form__label">Isi Pesan Anda</label>
              <textarea id="contact-message" name="message" class="form__textarea" rows="6" required
                aria-required="true"
                placeholder="Tuliskan detail pertanyaan atau permintaan Anda di sini..."></textarea>
              <span class="form__error-message" id="error-contact-message" aria-live="polite"></span>
            </div>
            <button type="submit" class="btn btn--primary btn--accent" id="contact-submit-btn" style="width:100%;">
              <!-- Ikon Send (Feather Icons - send) -->
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                aria-hidden="true">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
              </svg>
              <span>Kirim Pesan Sekarang</span>
            </button>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer__content">
        <section class="footer__section">
          <h4 class="footer__section-title">Green Valley HQ</h4>
          <p style="font-size: var(--font-size-sm); color: hsl(210, 20%, 80%);">Menghadirkan standar baru hunian
            vertikal modern yang mengutamakan kenyamanan, kemewahan subtil, dan fasilitas terbaik untuk gaya hidup urban
            berkualitas Anda.</p>
        </section>
        <section class="footer__section">
          <h4 class="footer__section-title">Tautan Penting</h4>
          <ul class="footer__links">
            <li><a href="#home" class="footer__link spa-link">Beranda</a></li>
            <li><a href="#listings" class="footer__link spa-link">Unit Tersedia</a></li>
            <li><a href="#about" class="footer__link spa-link">Tentang Kami</a></li>
            <li><a href="#contact" class="footer__link spa-link">Hubungi Kami</a></li>
            <li><a href="#faq" class="footer__link spa-link">FAQ (Segera Hadir)</a></li>
            <li><a href="#privacy" class="footer__link spa-link">Kebijakan Privasi (Segera Hadir)</a></li>
          </ul>
        </section>
        <section class="footer__section">
          <h4 class="footer__section-title">Kontak Sales</h4>
          <ul class="footer__links" style="font-size: var(--font-size-sm);">
            <li style="display:flex; align-items:flex-start; gap:var(--space-2); margin-bottom: var(--space-2);">
              <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" aria-hidden="true">
                <path
                  d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z">
                </path>
              </svg>
              <a href="mailto:sales@greenvalley.co.id" class="footer__link">sales@greenvalley.co.id</a>
            </li>
            <li style="display:flex; align-items:flex-start; gap:var(--space-2); margin-bottom: var(--space-2);">
              <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" aria-hidden="true">
                <path
                  d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z">
                </path>
              </svg>
              <a href="tel:+62215550123" class="footer__link">(021) 555-0123 ext. 789</a>
            </li>
            <li style="display:flex; align-items:flex-start; gap:var(--space-2);">
              <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20" aria-hidden="true">
                <path
                  d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z">
                </path>
              </svg>
              <span class="footer__link" style="cursor:default;">Jl. Apartemen Impian No. 1, CBD Kuningan, Jakarta
                Selatan 12940, Indonesia</span>
            </li>
          </ul>
          <h4 class="footer__section-title mt-4">Ikuti Kami</h4>
          <nav class="footer__social-links" aria-label="Tautan Media Sosial Green Valley">
            <a href="#" class="footer__social-link" aria-label="Facebook Green Valley" target="_blank"
              rel="noopener noreferrer">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path fill="currentColor"
                  d="M12 2.04C6.5 2.04 2 6.53 2 12.06c0 5.52 4.5 10.02 10 10.02c5.52 0 10-4.5 10-10.02c0-5.53-4.48-10.02-10-10.02zm3.6 7.98h-2.17c-.22 0-.4.18-.4.4v1.4h2.57l-.34 2.58h-2.23v7.45h-2.63V14.4h-2.17v-2.58h2.17V10.4c0-1.3.6-2.02 2.02-2.02H15.6v2.6z" />
              </svg>
            </a>
            <a href="#" class="footer__social-link" aria-label="Instagram Green Valley" target="_blank"
              rel="noopener noreferrer">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path fill="currentColor"
                  d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8c1.99 0 3.6-1.61 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8A1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3z" />
              </svg>
            </a>
            <a href="#" class="footer__social-link" aria-label="Twitter Green Valley" target="_blank"
              rel="noopener noreferrer">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path fill="currentColor"
                  d="M22.46 6c-.77.35-1.6.58-2.46.67c.88-.53 1.56-1.37 1.88-2.38c-.83.49-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.22-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21c-.36.1-.74.15-1.14.15c-.28 0-.55-.03-.81-.08c.55 1.7 2.14 2.93 4.03 2.97C6.82 18.81 4.98 19.52 3 19.52c-.35 0-.7-.02-1.05-.06C3.94 20.45 6.08 21 8.39 21c7.44 0 11.5-6.16 11.5-11.5c0-.17 0-.35-.01-.52c.78-.57 1.46-1.28 2-2.04z" />
              </svg>
            </a>
          </nav>
        </section>
      </div>
      <div class="footer__copyright">
        ¬© <span id="current-year"></span> Green Valley Apartments. Dirancang dengan ‚ù§Ô∏è di Indonesia. Hak Cipta
        Dilindungi Undang-Undang.
      </div>
    </div>
  </footer>

  <script>
    // ========== STATE APLIKASI GLOBAL ==========
    // Menyimpan state aplikasi seperti halaman aktif, data apartemen, filter, dll.
    const AppState = {
      currentPage: 'home', // Halaman default
      apartments: [],      // Akan diisi data apartemen dari server (simulasi)
      filteredApartments: [], // Hasil filter
      filters: {           // State filter saat ini
        location: '',
        type: '',
        sort: 'price-asc'
      },
      isLoading: false,       // Status loading data
      prefillContactForm: null // Untuk pre-fill form kontak dari halaman lain
    };

    // ========== DATA APARTEMEN (CONTOH SIMULASI) ==========
    // Idealnya, ini diambil dari API.
    const sampleApartments = [
      { id: 1, name: 'The Serene Studio - Tower Emerald', location: 'Tower A', type: 'Studio', price: 5250000, beds: 1, baths: 1, area: 32, image: 'https://images.unsplash.com/photo-1616594039964-ae9021a400a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=880&q=80', featured: true, dateAdded: '2023-10-01T10:00:00Z' },
      { id: 2, name: 'Urban Comfort 1BR - Tower Sapphire', location: 'Tower B', type: '1BR', price: 8750000, beds: 1, baths: 1, area: 55, image: 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80', featured: true, dateAdded: '2023-11-15T14:30:00Z' },
      { id: 3, name: 'Family Haven 2BR - Tower Emerald', location: 'Tower A', type: '2BR', price: 12500000, beds: 2, baths: 2, area: 78, image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80', featured: false, dateAdded: '2023-09-20T09:15:00Z' },
      { id: 4, name: 'Luxury Penthouse 3BR - Tower Diamond', location: 'Tower C', type: '3BR', price: 26000000, beds: 3, baths: 3, area: 155, image: 'https://images.unsplash.com/photo-1505691938895-1758d7feb511?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80', featured: true, dateAdded: '2023-12-01T11:00:00Z' },
      { id: 5, name: 'Compact Living Studio - Tower Sapphire', location: 'Tower B', type: 'Studio', price: 4950000, beds: 1, baths: 1, area: 29, image: 'https://images.unsplash.com/photo-1560185007-c5ca91ba2960?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80', featured: false, dateAdded: '2023-10-25T16:45:00Z' },
      { id: 6, name: 'Spacious Sky View 2BR - Tower Diamond', location: 'Tower C', type: '2BR', price: 13800000, beds: 2, baths: 2, area: 88, image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80', featured: true, dateAdded: '2023-11-05T08:20:00Z' },
      { id: 7, name: 'Elegant Downtown 1BR - Tower Emerald', location: 'Tower A', type: '1BR', price: 9200000, beds: 1, baths: 1, area: 62, image: 'https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80', featured: false, dateAdded: '2023-08-10T13:00:00Z' },
      { id: 8, name: 'Cozy Corner Studio - Tower Diamond', location: 'Tower C', type: 'Studio', price: 5350000, beds: 1, baths: 1, area: 33, image: 'https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80', featured: false, dateAdded: '2023-12-10T10:30:00Z' }
    ];

    // ========== FUNGSI UTILITAS (UTILITY FUNCTIONS) ==========
    // Mempermudah seleksi elemen DOM.
    const $ = (selector) => document.querySelector(selector);
    const $$ = (selector) => document.querySelectorAll(selector);

    // Format angka menjadi mata uang Rupiah.
    function formatCurrency(amount) {
      return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(amount);
    }

    // Menunda eksekusi fungsi (debounce).
    function debounce(func, delay) {
      let timeout;
      return function (...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(this, args), delay);
      };
    }

    // ========== LOGIKA SPA (SINGLE PAGE APPLICATION) ==========
    // Mengatur navigasi antar halaman tanpa reload.
    function navigateTo(pageId) {
      if (!pageId) pageId = 'home'; // Fallback jika pageId tidak ada
      AppState.currentPage = pageId;

      // Sembunyikan semua section, lalu tampilkan yang aktif
      $$('.page-section').forEach(section => section.classList.remove('active'));
      const targetPage = $(`#page-${pageId}`);

      if (targetPage) {
        targetPage.classList.add('active');

        // Update judul halaman browser
        const pageTitleElement = targetPage.querySelector('h1');
        const pageBaseTitle = "Green Valley Apartments";
        document.title = pageTitleElement ? `${pageTitleElement.textContent.trim()} - ${pageBaseTitle}` : pageBaseTitle;

        window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll ke atas dengan mulus

        // Jika navigasi ke halaman 'listings' dan grid kosong, trigger render (misalnya, setelah refresh)
        if (pageId === 'listings' && $(`#all-apartment-grid`).innerHTML.trim() === '' && !AppState.isLoading) {
          applyFiltersAndSort(); // Ini akan menampilkan skeleton loader
        }
        // Prefill form kontak jika ada data dan halaman adalah kontak
        checkAndPrefillContactForm();

      } else {
        // Fallback jika halaman tidak ditemukan, arahkan ke home
        console.warn(`Halaman dengan ID 'page-${pageId}' tidak ditemukan. Mengarahkan ke Beranda.`);
        navigateTo('home');
        history.replaceState({ page: 'home' }, '', `#home`); // Update URL juga
        return; // Hentikan eksekusi lebih lanjut untuk navigasi yang gagal
      }

      // Update class 'active' pada link navigasi
      $$('.nav__link.spa-link').forEach(link => {
        link.classList.remove('active');
        // Cocokkan href dengan hash atau jika href="#home" dan pageId adalah "home" (tanpa hash di awal)
        if (link.getAttribute('href') === `#${pageId}`) {
          link.classList.add('active');
        }
      });

      // Tutup menu mobile jika terbuka setelah navigasi
      if (navMenu && navMenu.classList.contains('active')) {
        closeMobileMenu();
      }
    }

    // Menangani klik pada link SPA.
    function handleSpaLinkClick(event) {
      event.preventDefault();
      const pageId = event.currentTarget.getAttribute('href').substring(1);

      // Simpan data prefill jika link adalah inquiry-btn
      if (event.currentTarget.classList.contains('inquiry-btn')) {
        const apartmentId = event.currentTarget.dataset.apartmentId;
        if (apartmentId === "general-inquiry") {
          AppState.prefillContactForm = {
            subject: `Permintaan Informasi Umum Green Valley Apartments`,
            message: `Saya tertarik untuk menyewa unit di Green Valley dan ingin mendapatkan informasi lebih lanjut.\n\nMohon hubungi saya.\n\nTerima kasih.`
          };
        } else {
          const selectedApartment = AppState.apartments.find(apt => apt.id == apartmentId);
          if (selectedApartment) {
            AppState.prefillContactForm = {
              subject: `Pertanyaan tentang ${selectedApartment.name}`,
              message: `Saya tertarik dengan unit ${selectedApartment.name} (${selectedApartment.type}, ${selectedApartment.area}m¬≤) di ${selectedApartment.location}.\n\nMohon informasi lebih lanjut mengenai ketersediaan dan prosedur sewa.\n\nTerima kasih.`
            };
          }
        }
      }

      history.pushState({ page: pageId }, '', `#${pageId}`);
      navigateTo(pageId);
    }

    // ========== NAVIGASI MOBILE ==========
    const navToggle = $('#nav-toggle');
    const navMenu = $('#nav-menu');

    function openMobileMenu() {
      navMenu.classList.add('active');
      navToggle.setAttribute('aria-expanded', 'true');
      navToggle.classList.add('active');
      document.body.style.overflow = 'hidden'; // Mencegah scroll body saat menu terbuka
    }

    function closeMobileMenu() {
      navMenu.classList.remove('active');
      navToggle.setAttribute('aria-expanded', 'false');
      navToggle.classList.remove('active');
      document.body.style.overflow = '';
    }

    if (navToggle && navMenu) {
      navToggle.addEventListener('click', () => {
        navMenu.classList.contains('active') ? closeMobileMenu() : openMobileMenu();
      });

      // Menutup menu saat klik di luar menu atau tombol escape
      document.addEventListener('click', (event) => {
        if (navMenu.classList.contains('active') &&
          !navMenu.contains(event.target) &&
          !navToggle.contains(event.target) &&
          !event.target.closest('.nav__toggle')) { // Pastikan klik bukan pada toggle itu sendiri
          closeMobileMenu();
        }
      });
      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && navMenu.classList.contains('active')) {
          closeMobileMenu();
        }
      });
    }

    // ========== HEADER SCROLLED STATE ==========
    // Memberi efek bayangan pada header saat scroll.
    const siteHeader = $('#site-header');
    if (siteHeader) {
      const handleScroll = () => {
        siteHeader.classList.toggle('scrolled', window.scrollY > 50);
      };
      window.addEventListener('scroll', debounce(handleScroll, 10)); // Debounce untuk performa
    }

    // ========== RENDER KARTU APARTEMEN ==========
    // Membuat HTML untuk satu kartu apartemen.
    function createApartmentCard(apartment) {
      const card = document.createElement('article');
      card.className = 'apartment-card';
      // Ikon disematkan langsung dari Feather Icons (contoh)
      card.innerHTML = `
        <div class="apartment-card__image-wrapper">
          <img src="${apartment.image}" alt="Tampilan ${apartment.name}" class="apartment-card__image" loading="lazy" width="320" height="200">
          ${apartment.featured ? '<span class="apartment-card__badge">Unggulan</span>' : ''}
        </div>
        <div class="apartment-card__content">
          <h3 class="apartment-card__title">${apartment.name}</h3>
          <p class="apartment-card__location">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
            ${apartment.location}
          </p>
          <div class="apartment-card__features">
            <span class="apartment-card__feature-item" title="${apartment.beds} Kamar Tidur">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M2 22s5-4 5-8H2V2h5l4 6 4-6h5v12h-5s-4 4-8 4H2z"></path><path d="M2 2h5v12H2z"></path><path d="M17 2h5v12h-5z"></path></svg>
                ${apartment.beds} K.Tidur
            </span>
            <span class="apartment-card__feature-item" title="${apartment.baths} Kamar Mandi">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M20.38 3.62A10.77 10.77 0 0 0 12 1a10.77 10.77 0 0 0-8.38 2.62A10.77 10.77 0 0 0 1 12a10.77 10.77 0 0 0 2.62 8.38A10.77 10.77 0 0 0 12 23a10.77 10.77 0 0 0 8.38-2.62A10.77 10.77 0 0 0 23 12a10.77 10.77 0 0 0-2.62-8.38zM12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12z"></path><path d="M12 6v4"></path><path d="M12 14v4"></path><path d="M6 12h4"></path><path d="M14 12h4"></path></svg>
                ${apartment.baths} K.Mandi
            </span>
            <span class="apartment-card__feature-item" title="Luas ${apartment.area} m¬≤">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M14.5 10.5l-5 5M14.5 5.5v5h-5"></path><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></svg>
                ${apartment.area} m¬≤
            </span>
          </div>
          <p class="apartment-card__price">${formatCurrency(apartment.price)} <span style="font-weight:400;">/ bulan</span></p>
          <div class="apartment-card__actions">
            <a href="#contact" data-apartment-id="${apartment.id}" class="btn btn--primary spa-link inquiry-btn">
              <span>Tanya Unit Ini</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </a>
          </div>
        </div>
      `;
      // Tambahkan event listener ke tombol "Tanya Unit Ini" di kartu ini
      const inquiryBtn = card.querySelector('.inquiry-btn.spa-link');
      if (inquiryBtn) {
        inquiryBtn.addEventListener('click', handleSpaLinkClick);
      }
      return card;
    }

    // Merender daftar apartemen ke dalam kontainer.
    function renderApartments(apartmentsToRender, containerId, showSkeletons = true) {
      const gridContainer = $(`#${containerId}`);
      if (!gridContainer) {
        console.error(`Kontainer dengan ID '${containerId}' tidak ditemukan.`);
        return;
      }

      AppState.isLoading = true;
      const isAllApartmentsGrid = containerId === 'all-apartment-grid';

      // Kontrol filter hanya ada di halaman daftar semua apartemen
      const filterControls = isAllApartmentsGrid ? [$('#filter-location'), $('#filter-type'), $('#filter-sort'), $('#apply-filter-btn')] : [];

      if (isAllApartmentsGrid && showSkeletons) {
        showSkeletonLoaders(gridContainer, AppState.apartments.length > 0 ? Math.min(6, AppState.apartments.length) : 3); // Tampilkan skeleton
        filterControls.forEach(control => { if (control) control.disabled = true; });
      } else if (!isAllApartmentsGrid) { // Untuk featured listings, bisa langsung atau skeleton lebih sedikit
        gridContainer.innerHTML = ''; // Kosongkan langsung jika bukan all-apartment-grid atau tidak pakai skeleton
      }


      // Simulasi jeda untuk loading data (ganti dengan fetch API sebenarnya)
      setTimeout(() => {
        gridContainer.innerHTML = ''; // Hapus skeleton loader atau konten lama

        if (apartmentsToRender.length === 0 && isAllApartmentsGrid) {
          $('#no-results-message').style.display = 'block';
        } else {
          if (isAllApartmentsGrid) $('#no-results-message').style.display = 'none';

          const fragment = document.createDocumentFragment();
          apartmentsToRender.forEach(apt => {
            fragment.appendChild(createApartmentCard(apt));
          });
          gridContainer.appendChild(fragment); // Tambahkan semua kartu sekaligus
        }

        AppState.isLoading = false;
        if (isAllApartmentsGrid) {
          filterControls.forEach(control => { if (control) control.disabled = false; });
        }
      }, isAllApartmentsGrid && showSkeletons ? 1000 : 100); // Delay lebih lama jika pakai skeleton
    }

    // Menampilkan skeleton loader.
    function showSkeletonLoaders(container, count) {
      container.innerHTML = ''; // Kosongkan kontainer
      const fragment = document.createDocumentFragment();
      for (let i = 0; i < count; i++) {
        const skeleton = document.createElement('div');
        skeleton.className = 'skeleton-card';
        skeleton.innerHTML = `
          <div class="skeleton-card__image"></div>
          <div class="skeleton-card__content">
            <div class="skeleton-text skeleton-text--title"></div>
            <div class="skeleton-text skeleton-text--line"></div>
            <div class="skeleton-text skeleton-text--short mb-3"></div>
            <div class="skeleton-text skeleton-text--line" style="width: 60%; height: 1.8em;"></div>
            <div class="skeleton-text skeleton-text--line mt-3" style="height: 2.5em;"></div>
          </div>`;
        fragment.appendChild(skeleton);
      }
      container.appendChild(fragment);
    }

    // ========== FILTER DAN SORTIR APARTEMEN ==========
    // Menerapkan filter dan sortir, lalu merender ulang.
    function applyFiltersAndSort() {
      if (AppState.isLoading && AppState.currentPage === 'listings') return;

      let sortedFilteredApartments = [...AppState.apartments];

      // Filter berdasarkan lokasi
      if (AppState.filters.location) {
        sortedFilteredApartments = sortedFilteredApartments.filter(apt => apt.location === AppState.filters.location);
      }
      // Filter berdasarkan tipe
      if (AppState.filters.type) {
        sortedFilteredApartments = sortedFilteredApartments.filter(apt => apt.type === AppState.filters.type);
      }

      // Sortir
      switch (AppState.filters.sort) {
        case 'price-asc':
          sortedFilteredApartments.sort((a, b) => a.price - b.price);
          break;
        case 'price-desc':
          sortedFilteredApartments.sort((a, b) => b.price - a.price);
          break;
        case 'newest':
          sortedFilteredApartments.sort((a, b) => new Date(b.dateAdded) - new Date(a.dateAdded));
          break;
        case 'area-desc':
          sortedFilteredApartments.sort((a, b) => b.area - a.area);
          break;
      }
      AppState.filteredApartments = sortedFilteredApartments;
      renderApartments(AppState.filteredApartments, 'all-apartment-grid');
    }

    // ========== VALIDASI FORMULIR KONTAK ==========
    const contactForm = $('#contact-form');
    if (contactForm) {
      const formElements = { // Kumpulkan semua elemen form yang relevan
        name: $('#contact-name'),
        email: $('#contact-email'),
        phone: $('#contact-phone'),
        subject: $('#contact-subject'),
        message: $('#contact-message'),
        submitBtn: $('#contact-submit-btn'),
        successMsgContainer: $('#form-success-message-container')
      };
      const originalButtonHTML = formElements.submitBtn.innerHTML; // Simpan HTML asli tombol

      // Fungsi untuk validasi satu field
      function validateField(fieldElement, fieldName) {
        const value = fieldElement.value.trim();
        let errorMsg = '';

        if (fieldElement.required && !value) {
          errorMsg = `${fieldName} wajib diisi.`;
        } else if (fieldElement.type === 'email' && value && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
          errorMsg = 'Format alamat email tidak valid.';
        } else if (fieldElement.type === 'tel' && value && !/^[0-9\s+\-()]{7,15}$/.test(value)) {
          // Nomor telepon bisa lebih kompleks, ini contoh sederhana
          errorMsg = 'Format nomor telepon tidak valid (7-15 digit, angka, spasi, +, -, ()).';
        }

        const errorDisplayElement = $(`#error-${fieldElement.id}`);
        if (errorDisplayElement) {
          errorDisplayElement.textContent = errorMsg;
          fieldElement.setAttribute('aria-invalid', errorMsg ? 'true' : 'false');
        }
        return !errorMsg; // Return true jika valid
      }

      // Event listener untuk validasi saat input atau blur
      ['name', 'email', 'phone', 'subject', 'message'].forEach(fieldNameKey => {
        const field = formElements[fieldNameKey];
        if (field) {
          const fieldLabel = $(`label[for="${field.id}"]`).textContent || fieldNameKey.charAt(0).toUpperCase() + fieldNameKey.slice(1);
          field.addEventListener('input', () => validateField(field, fieldLabel));
          field.addEventListener('blur', () => validateField(field, fieldLabel));
        }
      });

      contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        formElements.successMsgContainer.style.display = 'none';
        let isFormValid = true;

        // Validasi semua field saat submit
        ['name', 'email', 'subject', 'message'].forEach(fieldNameKey => { // Phone tidak wajib
          const field = formElements[fieldNameKey];
          const fieldLabel = $(`label[for="${field.id}"]`).textContent;
          if (!validateField(field, fieldLabel)) isFormValid = false;
        });
        // Validasi phone jika diisi
        if (formElements.phone.value.trim() && !validateField(formElements.phone, $(`label[for="contact-phone"]`).textContent)) {
          isFormValid = false;
        }

        if (isFormValid) {
          formElements.submitBtn.disabled = true;
          formElements.submitBtn.innerHTML = `
            <svg class="animate-spin" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>
            <span>Mengirim Pesan...</span>`;

          // Simulasi pengiriman form
          setTimeout(() => {
            contactForm.reset(); // Reset form
            ['name', 'email', 'phone', 'subject', 'message'].forEach(fieldNameKey => {
              const field = formElements[fieldNameKey];
              field.setAttribute('aria-invalid', 'false');
              const errorDisplayElement = $(`#error-${field.id}`);
              if (errorDisplayElement) errorDisplayElement.textContent = '';
            });

            formElements.successMsgContainer.style.display = 'flex';
            formElements.successMsgContainer.focus(); // Fokus ke pesan sukses untuk aksesibilitas
            formElements.submitBtn.disabled = false;
            formElements.submitBtn.innerHTML = originalButtonHTML; // Kembalikan teks tombol

            // Sembunyikan pesan sukses setelah beberapa detik
            setTimeout(() => { formElements.successMsgContainer.style.display = 'none'; }, 7000);

          }, 1800); // Jeda simulasi pengiriman
        } else {
          // Fokus ke field pertama yang error
          const firstErrorField = contactForm.querySelector('[aria-invalid="true"]');
          if (firstErrorField) firstErrorField.focus();
        }
      });
    }

    // Fungsi untuk pre-fill form kontak jika ada data di AppState
    function checkAndPrefillContactForm() {
      if (AppState.currentPage === 'contact' && AppState.prefillContactForm) {
        const contactSubjectInput = $('#contact-subject');
        const contactMessageInput = $('#contact-message');

        if (contactSubjectInput && AppState.prefillContactForm.subject) {
          contactSubjectInput.value = AppState.prefillContactForm.subject;
          // Opsional: Picu event input untuk validasi jika ada
          contactSubjectInput.dispatchEvent(new Event('input', { bubbles: true }));
        }
        if (contactMessageInput && AppState.prefillContactForm.message) {
          contactMessageInput.value = AppState.prefillContactForm.message;
          contactMessageInput.dispatchEvent(new Event('input', { bubbles: true }));
        }

        if (contactMessageInput) contactMessageInput.focus(); // Fokus ke pesan untuk kemudahan pengguna

        AppState.prefillContactForm = null; // Hapus data prefill setelah digunakan
      }
    }


    // ========== INISIALISASI APLIKASI ==========
    // Semua setup awal dan event listener utama.
    document.addEventListener('DOMContentLoaded', () => {
      $('#current-year').textContent = new Date().getFullYear();

      // Tambahkan event listener ke semua link SPA
      $$('.spa-link').forEach(link => {
        link.addEventListener('click', handleSpaLinkClick);
      });

      // Tangani event popstate (navigasi back/forward browser)
      window.addEventListener('popstate', (event) => {
        const pageIdToNavigate = (event.state && event.state.page) ? event.state.page : (window.location.hash.substring(1) || 'home');
        navigateTo(pageIdToNavigate);
      });

      // Muat data apartemen (simulasi)
      AppState.apartments = sampleApartments;
      AppState.filteredApartments = [...sampleApartments];

      // Render apartemen unggulan di beranda
      renderApartments(AppState.apartments.filter(apt => apt.featured).slice(0, 3), 'featured-apartment-grid', false);

      // Setup filter controls
      const filterLocation = $('#filter-location');
      const filterType = $('#filter-type');
      const filterSort = $('#filter-sort');
      const applyFilterBtn = $('#apply-filter-btn');

      if (filterLocation) filterLocation.addEventListener('change', (e) => AppState.filters.location = e.target.value);
      if (filterType) filterType.addEventListener('change', (e) => AppState.filters.type = e.target.value);
      if (filterSort) filterSort.addEventListener('change', (e) => AppState.filters.sort = e.target.value);

      if (applyFilterBtn) {
        applyFilterBtn.addEventListener('click', () => {
          if (AppState.isLoading) return;
          // Ambil nilai filter terbaru sebelum menerapkan
          if (filterLocation) AppState.filters.location = filterLocation.value;
          if (filterType) AppState.filters.type = filterType.value;
          if (filterSort) AppState.filters.sort = filterSort.value;
          applyFiltersAndSort();
        });
      }

      // Navigasi awal berdasarkan URL hash atau default ke 'home'
      const initialPageId = window.location.hash.substring(1) || 'home';
      // Pastikan state history awal konsisten dengan URL
      if (window.location.hash) {
        history.replaceState({ page: initialPageId }, '', `#${initialPageId}`);
      } else {
        history.replaceState({ page: 'home' }, '', '#home');
      }
      navigateTo(initialPageId); // Ini juga akan memanggil checkAndPrefillContactForm

      // Form pencarian di Hero
      const heroSearchForm = $('#hero-search-form');
      if (heroSearchForm) {
        heroSearchForm.addEventListener('submit', (e) => {
          e.preventDefault();
          const searchTerm = heroSearchForm.querySelector('.hero__search-input').value.trim().toLowerCase();
          // Simulasi pencarian: navigasi ke halaman listings dan filter berdasarkan nama (sederhana)
          // Fitur pencarian teks lengkap lebih kompleks, ini contoh dasar
          if (searchTerm) {
            alert(`Pencarian untuk "${searchTerm}" akan mencoba memfilter unit berdasarkan nama di halaman Daftar Apartemen. Untuk pencarian yang lebih canggih, gunakan filter yang tersedia.`);

            // Modifikasi filter untuk pencarian (ini contoh sederhana, bisa lebih canggih)
            AppState.filteredApartments = AppState.apartments.filter(apt =>
              apt.name.toLowerCase().includes(searchTerm) ||
              apt.location.toLowerCase().includes(searchTerm) ||
              apt.type.toLowerCase().includes(searchTerm)
            );

            // Update filter UI jika memungkinkan (atau reset filter lain)
            if ($('#filter-location')) $('#filter-location').value = '';
            if ($('#filter-type')) $('#filter-type').value = '';
            AppState.filters.location = '';
            AppState.filters.type = '';

            history.pushState({ page: 'listings' }, '', '#listings');
            navigateTo('listings'); // Navigasi ke halaman listing
            // renderApartments akan dipanggil di dalam navigateTo jika grid kosong, atau kita panggil langsung
            renderApartments(AppState.filteredApartments, 'all-apartment-grid');

          } else {
            history.pushState({ page: 'listings' }, '', '#listings');
            navigateTo('listings'); // Jika kosong, hanya navigasi ke daftar semua
          }
          heroSearchForm.querySelector('.hero__search-input').value = ''; // Kosongkan input setelah submit
        });
      }
    });
  </script>
</body>

</html>