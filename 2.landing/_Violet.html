<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Green Valley - Solusi Rental Apartemen Modern</title>
  <!-- Favicon (contoh, ganti dengan favicon Anda) -->
  <link rel="icon" href="https://img.icons8.com/fluency/48/000000/building.png" type="image/png">

  <!-- Font Awesome (Ikon) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Flatpickr (Kalender) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

  <!-- Google Fonts (Contoh penggunaan font eksternal yang fancy) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap"
    rel="stylesheet">

  <style>
    /* === VARIABLE CSS === */
    :root {
      --primary-color: #0D6EFD;
      /* Biru utama Bootstrap yang sedikit dimodifikasi */
      --primary-color-darker: #0A58CA;
      --secondary-color: #6c757d;
      /* Abu-abu sekunder */
      --success-color: #198754;
      --warning-color: #ffc107;
      --danger-color: #dc3545;
      --light-color: #f8f9fa;
      --dark-color: #212529;
      --text-color: #343a40;
      --text-muted-color: #6c757d;
      --background-color: #f0f2f5;
      /* Latar belakang utama aplikasi */
      --surface-color: #ffffff;
      /* Latar belakang untuk card, modal, dll. */

      --font-primary: 'Poppins', sans-serif;
      --font-display: 'Playfair Display', serif;

      --border-radius-sm: 0.25rem;
      /* 4px */
      --border-radius-md: 0.5rem;
      /* 8px */
      --border-radius-lg: 0.75rem;
      /* 12px */
      --border-radius-xl: 1rem;
      /* 16px */
      --border-radius-circle: 50%;

      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.03);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -1px rgba(0, 0, 0, 0.04);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.07), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

      --transition-fast: all 0.2s ease-in-out;
      --transition-medium: all 0.3s ease-in-out;
      --transition-slow: all 0.5s ease-in-out;

      --container-max-width: 1200px;
      --spacing-unit: 1rem;
      /* 16px */
    }

    /* === RESET & DASAR === */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
      font-size: 100%;
      /* 16px */
    }

    body {
      font-family: var(--font-primary);
      background-color: var(--background-color);
      color: var(--text-color);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
      /* Mencegah scroll horizontal yang tidak diinginkan */
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Pembungkus utama untuk konten SPA */
    #app-shell {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* Kontainer utama untuk konten yang berubah */
    main#app-content {
      flex-grow: 1;
      padding: calc(var(--spacing-unit) * 1.5) 0;
      /* 24px top/bottom padding */
      opacity: 0;
      /* Untuk transisi halaman */
      transform: translateY(20px);
      /* Untuk transisi halaman */
      transition: opacity 0.5s ease-out, transform 0.5s ease-out;
      will-change: opacity, transform;
      /* Optimasi transisi */
    }

    main#app-content.loaded {
      opacity: 1;
      transform: translateY(0);
    }

    .container {
      width: 90%;
      max-width: var(--container-max-width);
      margin-left: auto;
      margin-right: auto;
      padding-left: var(--spacing-unit);
      padding-right: var(--spacing-unit);
    }

    /* === UTILITAS === */
    .text-primary {
      color: var(--primary-color) !important;
    }

    .text-success {
      color: var(--success-color) !important;
    }

    .text-warning {
      color: var(--warning-color) !important;
    }

    .text-danger {
      color: var(--danger-color) !important;
    }

    .text-muted {
      color: var(--text-muted-color) !important;
    }

    .bg-primary {
      background-color: var(--primary-color) !important;
    }

    .bg-light {
      background-color: var(--light-color) !important;
    }

    .bg-surface {
      background-color: var(--surface-color) !important;
    }

    .fw-bold {
      font-weight: 700 !important;
    }

    .fw-semibold {
      font-weight: 600 !important;
    }

    .fw-medium {
      font-weight: 500 !important;
    }

    .d-none {
      display: none !important;
    }

    .d-block {
      display: block !important;
    }

    .d-flex {
      display: flex !important;
    }

    .justify-content-between {
      justify-content: space-between !important;
    }

    .align-items-center {
      align-items: center !important;
    }

    .mb-1 {
      margin-bottom: calc(var(--spacing-unit) * 0.25) !important;
    }

    .mb-2 {
      margin-bottom: calc(var(--spacing-unit) * 0.5) !important;
    }

    .mb-3 {
      margin-bottom: var(--spacing-unit) !important;
    }

    .mb-4 {
      margin-bottom: calc(var(--spacing-unit) * 1.5) !important;
    }

    .mb-5 {
      margin-bottom: calc(var(--spacing-unit) * 3) !important;
    }

    .mt-1 {
      margin-top: calc(var(--spacing-unit) * 0.25) !important;
    }

    .mt-2 {
      margin-top: calc(var(--spacing-unit) * 0.5) !important;
    }

    .mt-3 {
      margin-top: var(--spacing-unit) !important;
    }

    .mt-4 {
      margin-top: calc(var(--spacing-unit) * 1.5) !important;
    }

    .mt-5 {
      margin-top: calc(var(--spacing-unit) * 3) !important;
    }

    .p-1 {
      padding: calc(var(--spacing-unit) * 0.25) !important;
    }

    .p-2 {
      padding: calc(var(--spacing-unit) * 0.5) !important;
    }

    .p-3 {
      padding: var(--spacing-unit) !important;
    }

    .p-4 {
      padding: calc(var(--spacing-unit) * 1.5) !important;
    }

    .p-5 {
      padding: calc(var(--spacing-unit) * 3) !important;
    }

    .text-center {
      text-align: center !important;
    }

    .rounded {
      border-radius: var(--border-radius-md) !important;
    }

    .rounded-lg {
      border-radius: var(--border-radius-lg) !important;
    }

    .rounded-circle {
      border-radius: var(--border-radius-circle) !important;
    }

    .shadow-md {
      box-shadow: var(--shadow-md) !important;
    }

    .shadow-lg {
      box-shadow: var(--shadow-lg) !important;
    }

    /* === HEADER / NAVBAR === */
    .app-header {
      background-color: var(--surface-color);
      box-shadow: var(--shadow-md);
      padding: calc(var(--spacing-unit) * 0.75) 0;
      /* 12px top/bottom */
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: var(--transition-medium);
    }

    .app-header.scrolled {
      box-shadow: var(--shadow-lg);
      padding: calc(var(--spacing-unit) * 0.5) 0;
      /* 8px top/bottom when scrolled */
    }

    .navbar-brand {
      display: flex;
      align-items: center;
      text-decoration: none;
      color: var(--dark-color);
      transition: var(--transition-fast);
    }

    .navbar-brand:hover {
      opacity: 0.8;
    }

    .navbar-brand__logo {
      width: 40px;
      height: 40px;
      margin-right: calc(var(--spacing-unit) * 0.75);
      /* 12px */
      border-radius: var(--border-radius-circle);
      object-fit: cover;
      transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .navbar-brand:hover .navbar-brand__logo {
      transform: rotate(10deg) scale(1.1);
    }

    .navbar-brand__name {
      font-family: var(--font-display);
      font-size: 1.5rem;
      /* 24px */
      font-weight: 700;
    }

    .nav-links {
      list-style: none;
      display: flex;
      align-items: center;
    }

    .nav-links li {
      margin-left: calc(var(--spacing-unit) * 1.25);
      /* 20px */
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-color);
      font-weight: 500;
      padding: calc(var(--spacing-unit) * 0.5) calc(var(--spacing-unit) * 0.75);
      /* 8px 12px */
      border-radius: var(--border-radius-sm);
      position: relative;
      transition: var(--transition-fast);
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background-color: var(--primary-color);
      transition: width 0.3s ease-out;
    }

    .nav-links a:hover,
    .nav-links a.active {
      color: var(--primary-color);
    }

    .nav-links a:hover::after,
    .nav-links a.active::after {
      width: 70%;
    }

    .navbar-page-title {
      font-size: 1.1rem;
      /* 17.6px */
      font-weight: 600;
      color: var(--primary-color);
      letter-spacing: 0.5px;
      opacity: 0;
      animation: fadeInRightSlight 0.8s 0.3s forwards;
    }

    /* Tombol menu mobile */
    .mobile-menu-toggle {
      display: none;
      /* Sembunyikan di desktop */
      background: none;
      border: none;
      font-size: 1.8rem;
      /* 28.8px */
      color: var(--dark-color);
      cursor: pointer;
      padding: calc(var(--spacing-unit) * 0.25);
      /* 4px */
    }

    /* === KOMPONEN UMUM === */
    .button {
      display: inline-block;
      padding: calc(var(--spacing-unit) * 0.6) calc(var(--spacing-unit) * 1.2);
      /* 9.6px 19.2px */
      font-size: 0.95rem;
      /* 15.2px */
      font-weight: 600;
      text-decoration: none;
      border: none;
      border-radius: var(--border-radius-md);
      cursor: pointer;
      transition: var(--transition-medium);
      box-shadow: var(--shadow-sm);
      text-align: center;
    }

    .button-primary {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-color-darker));
      color: var(--surface-color);
    }

    .button-primary:hover {
      background: linear-gradient(135deg, var(--primary-color-darker), var(--primary-color));
      transform: translateY(-2px) scale(1.03);
      box-shadow: var(--shadow-lg);
    }

    .button-secondary {
      background-color: var(--secondary-color);
      color: var(--surface-color);
    }

    .button-secondary:hover {
      background-color: #5a6268;
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .card {
      background-color: var(--surface-color);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-md);
      padding: calc(var(--spacing-unit) * 1.5);
      /* 24px */
      transition: var(--transition-medium);
      overflow: hidden;
      /* Untuk gambar di dalam card */
    }

    .card:hover {
      box-shadow: var(--shadow-xl);
      transform: translateY(-5px);
    }

    .card-title {
      font-family: var(--font-display);
      font-size: 1.5rem;
      /* 24px */
      margin-bottom: calc(var(--spacing-unit) * 0.75);
      /* 12px */
      color: var(--primary-color);
    }

    .form-group {
      margin-bottom: var(--spacing-unit);
    }

    .form-label {
      display: block;
      font-weight: 500;
      margin-bottom: calc(var(--spacing-unit) * 0.3);
      /* 4.8px */
      color: var(--text-color);
    }

    .form-control {
      width: 100%;
      padding: calc(var(--spacing-unit) * 0.6) var(--spacing-unit);
      /* 9.6px 16px */
      font-size: 0.95rem;
      /* 15.2px */
      border: 1px solid #ced4da;
      border-radius: var(--border-radius-sm);
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }

    .form-control:focus {
      border-color: var(--primary-color);
      outline: 0;
      box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
    }

    .form-control.is-invalid {
      border-color: var(--danger-color);
    }

    .invalid-feedback {
      display: none;
      width: 100%;
      margin-top: .25rem;
      font-size: .875em;
      color: var(--danger-color);
    }

    .form-control.is-invalid~.invalid-feedback,
    .was-validated .form-control:invalid~.invalid-feedback {
      display: block;
    }

    .alert {
      padding: var(--spacing-unit);
      margin-bottom: var(--spacing-unit);
      border: 1px solid transparent;
      border-radius: var(--border-radius-sm);
    }

    .alert-success {
      color: #0f5132;
      background-color: #d1e7dd;
      border-color: #badbcc;
    }

    .alert-danger {
      color: #842029;
      background-color: #f8d7da;
      border-color: #f5c2c7;
    }

    /* === BAGIAN SPESIFIK HALAMAN (CONTOH) === */
    .hero-section {
      background: linear-gradient(rgba(13, 110, 253, 0.7), rgba(10, 88, 202, 0.85)), url('https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?auto=format&fit=crop&w=1200&q=80') no-repeat center center/cover;
      color: var(--surface-color);
      padding: calc(var(--spacing-unit) * 5) 0;
      /* 80px top/bottom */
      text-align: center;
      border-radius: 0 0 var(--border-radius-xl) var(--border-radius-xl);
      margin-bottom: calc(var(--spacing-unit) * 2);
      /* 32px */
    }

    .hero-section__title {
      font-family: var(--font-display);
      font-size: 3rem;
      /* 48px */
      margin-bottom: var(--spacing-unit);
      animation: fadeInUpSlight 1s ease-out;
    }

    .hero-section__subtitle {
      font-size: 1.25rem;
      /* 20px */
      margin-bottom: calc(var(--spacing-unit) * 1.5);
      /* 24px */
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      animation: fadeInUpSlight 1s 0.2s ease-out backwards;
      /* backwards agar state awal sebelum animasi */
    }

    .hero-section .button {
      animation: zoomIn 0.8s 0.5s ease-out backwards;
    }

    /* Tata letak grid untuk konten utama dan sidebar */
    .main-layout {
      display: grid;
      grid-template-columns: 1fr;
      /* Default untuk mobile */
      gap: calc(var(--spacing-unit) * 1.5);
      /* 24px */
    }

    .main-content-area {
      background-color: var(--surface-color);
      padding: calc(var(--spacing-unit) * 1.5);
      /* 24px */
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-md);
    }

    .sidebar-area {
      background-color: var(--light-color);
      /* Sedikit berbeda dari main content */
      padding: calc(var(--spacing-unit) * 1.5);
      /* 24px */
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-sm);
    }

    .sidebar-area h5,
    .sidebar-area h6 {
      color: var(--primary-color);
      margin-bottom: var(--spacing-unit);
      font-weight: 600;
    }

    .sidebar-nav-list {
      list-style: none;
      margin-bottom: calc(var(--spacing-unit) * 1.5);
      /* 24px */
    }

    .sidebar-nav-list li a {
      display: block;
      padding: calc(var(--spacing-unit) * 0.5) 0;
      /* 8px */
      color: var(--text-color);
      text-decoration: none;
      transition: var(--transition-fast);
      border-left: 3px solid transparent;
      padding-left: var(--spacing-unit);
    }

    .sidebar-nav-list li a:hover,
    .sidebar-nav-list li a.active {
      color: var(--primary-color);
      font-weight: 500;
      border-left-color: var(--primary-color);
      background-color: rgba(13, 110, 253, 0.05);
    }

    .sidebar-nav-list li a i {
      margin-right: calc(var(--spacing-unit) * 0.5);
      /* 8px */
      width: 20px;
      /* Jaga alignment ikon */
      text-align: center;
    }

    .widget {
      background-color: var(--surface-color);
      border-radius: var(--border-radius-md);
      box-shadow: var(--shadow-sm);
      padding: var(--spacing-unit);
      margin-bottom: var(--spacing-unit);
      transition: var(--transition-medium);
    }

    .widget:hover {
      box-shadow: var(--shadow-lg);
    }

    .widget h6 {
      margin-bottom: calc(var(--spacing-unit) * 0.75);
      /* 12px */
      display: flex;
      align-items: center;
      font-size: 1rem;
    }

    .widget h6 i {
      margin-right: calc(var(--spacing-unit) * 0.5);
      /* 8px */
      color: var(--primary-color);
    }

    /* Styling untuk tabel */
    .fancy-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: calc(var(--spacing-unit) * 1.5);
      /* 24px */
      background-color: var(--surface-color);
      box-shadow: var(--shadow-sm);
      border-radius: var(--border-radius-md);
      overflow: hidden;
      /* Untuk border-radius pada tabel */
    }

    .fancy-table th,
    .fancy-table td {
      padding: calc(var(--spacing-unit) * 0.75) var(--spacing-unit);
      /* 12px 16px */
      text-align: left;
      border-bottom: 1px solid #dee2e6;
    }

    .fancy-table th {
      background-color: var(--primary-color);
      color: var(--surface-color);
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.85rem;
      /* 13.6px */
      letter-spacing: 0.5px;
    }

    .fancy-table tbody tr:nth-child(even) {
      background-color: var(--light-color);
    }

    .fancy-table tbody tr:hover {
      background-color: rgba(13, 110, 253, 0.1);
      /* Warna hover halus */
    }

    .badge {
      display: inline-block;
      padding: .35em .65em;
      font-size: .75em;
      font-weight: 700;
      line-height: 1;
      color: #fff;
      text-align: center;
      white-space: nowrap;
      vertical-align: baseline;
      border-radius: .25rem;
    }

    .badge-success {
      background-color: var(--success-color);
    }

    .badge-warning {
      background-color: var(--warning-color);
      color: var(--dark-color);
    }

    .badge-secondary {
      background-color: var(--secondary-color);
    }


    /* Chart Container */
    .chart-container {
      position: relative;
      width: 100%;
      max-width: 450px;
      margin: calc(var(--spacing-unit) * 1.5) auto;
      /* 24px */
      padding: var(--spacing-unit);
      background-color: var(--surface-color);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-md);
    }


    /* === FOOTER === */
    .app-footer {
      background-color: var(--dark-color);
      color: var(--light-color);
      padding: calc(var(--spacing-unit) * 2.5) 0 calc(var(--spacing-unit) * 1.5) 0;
      /* 40px top, 24px bottom */
      margin-top: auto;
      /* Mendorong footer ke bawah */
      font-size: 0.9rem;
      /* 14.4px */
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: calc(var(--spacing-unit) * 1.5);
      /* 24px */
      margin-bottom: calc(var(--spacing-unit) * 1.5);
      /* 24px */
    }

    .footer-col h6 {
      color: var(--primary-color);
      font-weight: 600;
      margin-bottom: var(--spacing-unit);
      font-family: var(--font-display);
      font-size: 1.2rem;
      /* 19.2px */
    }

    .footer-col ul {
      list-style: none;
    }

    .footer-col ul li a {
      color: #adb5bd;
      /* Warna link footer yang lebih lembut */
      text-decoration: none;
      transition: var(--transition-fast);
      display: inline-block;
      /* Untuk efek hover yang lebih baik */
      padding: calc(var(--spacing-unit) * 0.2) 0;
      /* 3.2px */
    }

    .footer-col ul li a:hover {
      color: var(--surface-color);
      transform: translateX(5px);
    }

    .footer-col ul li a i {
      margin-right: calc(var(--spacing-unit) * 0.3);
      /* 4.8px */
    }

    .footer-social-icons a {
      color: #adb5bd;
      font-size: 1.5rem;
      /* 24px */
      margin-right: var(--spacing-unit);
      transition: var(--transition-medium);
    }

    .footer-social-icons a:hover {
      color: var(--primary-color);
      transform: scale(1.2) rotate(5deg);
    }

    .footer-bottom {
      text-align: center;
      padding-top: calc(var(--spacing-unit) * 1.5);
      /* 24px */
      border-top: 1px solid #495057;
      /* Garis pemisah yang lebih lembut */
      font-size: 0.85rem;
      /* 13.6px */
      color: #6c757d;
    }

    .footer-bottom strong {
      color: var(--light-color);
    }


    /* === ANIMASI HALUS === */
    @keyframes fadeInUpSlight {
      from {
        opacity: 0;
        transform: translateY(15px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInRightSlight {
      from {
        opacity: 0;
        transform: translateX(15px);
      }

      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes zoomIn {
      from {
        opacity: 0;
        transform: scale(0.8);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Preloader / Splash Screen Sederhana (Opsional) */
    #preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: var(--background-color);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
    }

    #preloader.hidden {
      opacity: 0;
      visibility: hidden;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid var(--light-color);
      border-top-color: var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* === RESPONSIVITAS === */
    @media (min-width: 768px) {

      /* Tablet dan lebih besar */
      .main-layout {
        grid-template-columns: 2fr 1fr;
        /* 2 kolom untuk konten utama dan sidebar */
      }

      .main-layout.single-column {
        /* Untuk halaman tanpa sidebar */
        grid-template-columns: 1fr;
      }

      .main-layout.single-column .main-content-area {
        max-width: 900px;
        /* Batasi lebar konten di halaman single column */
        margin-left: auto;
        margin-right: auto;
      }
    }

    @media (max-width: 991px) {

      /* Di bawah Large Desktop */
      .navbar-page-title {
        display: none;
        /* Sembunyikan page title di navbar pada layar kecil */
      }
    }

    @media (max-width: 767px) {

      /* Mobile */
      .nav-links {
        display: none;
        /* Sembunyikan link navigasi utama */
        flex-direction: column;
        width: 100%;
        position: absolute;
        top: 100%;
        /* Di bawah header */
        left: 0;
        background-color: var(--surface-color);
        box-shadow: var(--shadow-lg);
        padding: var(--spacing-unit) 0;
      }

      .nav-links.open {
        display: flex;
        /* Tampilkan saat menu mobile dibuka */
        animation: fadeInUpSlight 0.3s ease-out;
      }

      .nav-links li {
        margin-left: 0;
        width: 100%;
        text-align: center;
      }

      .nav-links a {
        padding: calc(var(--spacing-unit) * 0.75) var(--spacing-unit);
        /* 12px 16px */
        display: block;
        /* Agar link mengambil lebar penuh */
        border-bottom: 1px solid var(--light-color);
      }

      .nav-links a:hover::after,
      .nav-links a.active::after {
        width: 0;
        /* Hilangkan underline di mobile nav */
      }

      .nav-links a:hover,
      .nav-links a.active {
        background-color: rgba(13, 110, 253, 0.05);
      }

      .mobile-menu-toggle {
        display: block;
        /* Tampilkan tombol menu mobile */
      }

      .hero-section__title {
        font-size: 2.2rem;
        /* 35.2px */
      }

      .hero-section__subtitle {
        font-size: 1rem;
        /* 16px */
      }

      .footer-grid {
        grid-template-columns: 1fr;
        /* Satu kolom di mobile */
        text-align: center;
      }

      .footer-col ul {
        padding-left: 0;
      }

      .footer-social-icons {
        text-align: center;
        margin-top: var(--spacing-unit);
      }

      .footer-social-icons a {
        margin: 0 calc(var(--spacing-unit) * 0.5);
        /* 8px */
      }
    }
  </style>
</head>

<body>
  <div id="preloader">
    <div class="spinner"></div>
  </div>

  <div id="app-shell">
    <!-- Header Aplikasi -->
    <header class="app-header" id="appHeader">
      <div class="container d-flex justify-content-between align-items-center">
        <a href="#/" class="navbar-brand spa-link">
          <img src="https://img.icons8.com/fluency/96/building.png" alt="Logo Green Valley" class="navbar-brand__logo"
            loading="lazy">
          <span class="navbar-brand__name">Green Valley</span>
        </a>

        <nav aria-label="Navigasi Utama">
          <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Buka Menu Navigasi" aria-expanded="false"
            aria-controls="navLinks">
            <i class="fas fa-bars"></i>
          </button>
          <ul class="nav-links" id="navLinks">
            <li><a href="#/" class="spa-link active" data-page="beranda"><i class="fas fa-home fa-fw"></i> Beranda</a>
            </li>
            <li><a href="#/tentang" class="spa-link" data-page="tentang"><i class="fas fa-info-circle fa-fw"></i>
                Tentang Kami</a></li>
            <li><a href="#/layanan" class="spa-link" data-page="layanan"><i class="fas fa-concierge-bell fa-fw"></i>
                Layanan</a></li>
            <li><a href="#/kontak" class="spa-link" data-page="kontak"><i class="fas fa-envelope fa-fw"></i> Kontak</a>
            </li>
          </ul>
        </nav>
        <span class="navbar-page-title d-none d-lg-block" id="navbarPageTitle">Solusi Rental Apartemen Modern</span>
      </div>
    </header>

    <!-- Konten Utama Aplikasi (Dirender oleh JavaScript) -->
    <main id="app-content" aria-live="polite">
      <!-- Konten halaman akan dimuat di sini -->
    </main>

    <!-- Footer Aplikasi -->
    <footer class="app-footer">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-col">
            <h6>Green Valley</h6>
            <p class="text-muted" style="font-size: 0.85rem;">Menyediakan solusi manajemen rental apartemen yang modern,
              efisien, dan mudah digunakan untuk pengalaman terbaik Anda.</p>
          </div>
          <div class="footer-col">
            <h6>Navigasi Cepat</h6>
            <ul>
              <li><a href="#/" class="spa-link"><i class="fas fa-angle-right"></i> Beranda</a></li>
              <li><a href="#/tentang" class="spa-link"><i class="fas fa-angle-right"></i> Tentang Kami</a></li>
              <li><a href="#/layanan" class="spa-link"><i class="fas fa-angle-right"></i> Layanan</a></li>
              <li><a href="#/kontak" class="spa-link"><i class="fas fa-angle-right"></i> Hubungi Kami</a></li>
              <li><a href="#/kebijakan-privasi" class="spa-link"><i class="fas fa-angle-right"></i> Kebijakan
                  Privasi</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h6>Hubungi Kami</h6>
            <ul class="list-unstyled">
              <li class="mb-2"><i class="fas fa-map-marker-alt me-2 text-primary"></i> Jl. Apartemen Indah No. 10,
                Jakarta Pusat, Indonesia</li>
              <li class="mb-2"><i class="fas fa-phone me-2 text-primary"></i> (021) 123-4567</li>
              <li class="mb-2"><i class="fas fa-envelope me-2 text-primary"></i> info@greenvalley.id</li>
            </ul>
            <div class="footer-social-icons mt-3">
              <a href="#" title="Instagram Green Valley" target="_blank" rel="noopener noreferrer"><i
                  class="fab fa-instagram"></i></a>
              <a href="#" title="Facebook Green Valley" target="_blank" rel="noopener noreferrer"><i
                  class="fab fa-facebook-f"></i></a>
              <a href="#" title="Twitter Green Valley" target="_blank" rel="noopener noreferrer"><i
                  class="fab fa-twitter"></i></a>
              <a href="#" title="LinkedIn Green Valley" target="_blank" rel="noopener noreferrer"><i
                  class="fab fa-linkedin-in"></i></a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <small>Â© <span id="currentYear"></span> <strong>Green Valley</strong>. Semua Hak Cipta Dilindungi
            Undang-Undang.</small>
        </div>
      </div>
    </footer>
  </div>

  <!-- Pustaka JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/id.js"></script>
  <!-- Lokal Flatpickr Bahasa Indonesia -->

  <script>
    // Namespace untuk aplikasi agar tidak mengotori global scope
    const GreenValleyApp = (() => {
      // === STATE APLIKASI ===
      const state = {
        currentPage: null,
        pageTitleBase: "Green Valley",
        dynamicPageTitles: {
          "beranda": "Solusi Rental Apartemen Modern",
          "tentang": "Tentang Green Valley",
          "layanan": "Layanan Unggulan Kami",
          "kontak": "Hubungi Tim Green Valley",
          "kebijakan-privasi": "Kebijakan Privasi"
        }
      };

      // === ELEMEN DOM YANG SERING DIGUNAKASI ===
      const DOM = {
        appContent: document.getElementById('app-content'),
        navLinks: document.querySelectorAll('.app-header .nav-links a.spa-link'),
        footerNavLinks: document.querySelectorAll('.app-footer ul li a.spa-link'),
        mobileMenuToggle: document.getElementById('mobileMenuToggle'),
        navLinksContainer: document.getElementById('navLinks'),
        navbarPageTitle: document.getElementById('navbarPageTitle'),
        appHeader: document.getElementById('appHeader'),
        preloader: document.getElementById('preloader')
      };

      // === TEMPLATE HALAMAN (HTML sebagai string) ===
      const templates = {
        beranda: () => `
          <div class="hero-section">
            <div class="container">
              <h1 class="hero-section__title">Selamat Datang di Green Valley</h1>
              <p class="hero-section__subtitle">Platform manajemen rental apartemen Anda yang canggih, intuitif, dan dirancang untuk kemudahan serta efisiensi maksimal.</p>
              <a href="#/layanan" class="button button-primary spa-link">Jelajahi Layanan Kami <i class="fas fa-arrow-right ms-2"></i></a>
            </div>
          </div>

          <div class="container">
            <div class="main-layout">
              <section class="main-content-area" aria-labelledby="main-content-title">
                <div style="animation: fadeInUpSlight 1s ease-out;">
                    <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80"
                        alt="Pemandangan apartemen modern dengan interior mewah" class="img-fluid rounded-lg shadow-md mb-4" style="width:100%; max-height: 380px; object-fit: cover;" loading="lazy">
                    <h2 id="main-content-title" class="card-title" style="font-size: 1.8rem;">Kelola Properti Anda, Lebih Cerdas dan Mudah</h2>
                    <p class="text-muted mb-3">Platform <strong>Green Valley</strong> memberdayakan Anda untuk mengelola apartemen, penyewa, dan aspek finansial secara terpadu dan efisien. Nikmati kemudahan monitoring unit, laporan keuangan otomatis, dan komunikasi tanpa batas dengan penyewa, semuanya dalam satu aplikasi yang elegan dan responsif.</p>
                    <p class="mb-4">Dengan fitur notifikasi cerdas, dashboard analitik interaktif, dan laporan keuangan real-time, Anda dapat memfokuskan energi pada pertumbuhan bisnis properti Anda, sementara kami menangani kompleksitas administratif. Daftar sekarang dan rasakan transformasinya!</p>
                </div>
                
                <div class="main-video-container card p-0 mb-4 shadow-lg" style="animation: zoomIn 1s 0.2s ease-out backwards;">
                    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: var(--border-radius-lg);">
                        <iframe src="https://www.youtube.com/embed/1La4QzGeaaQ?autoplay=0&modestbranding=1&rel=0&showinfo=0" title="Video Demo Green Valley"
                            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
                    </div>
                </div>

                <div style="animation: fadeInUpSlight 1s 0.4s ease-out backwards;">
                    <h4 class="mt-5 mb-3 fw-semibold"><i class="fas fa-users me-2 text-primary"></i>Data Penyewa Terkini</h4>
                    <div class="table-responsive">
                        <table class="fancy-table">
                        <thead>
                            <tr>
                            <th>Nama Penyewa</th>
                            <th>Status</th>
                            <th>Unit Apartemen</th>
                            <th>Tgl. Bergabung</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                            <td>Andi Wijaya Pratama</td>
                            <td><span class="badge badge-success">Aktif</span></td>
                            <td>Tower A - Unit 1201</td>
                            <td>15 Jan 2023</td>
                            </tr>
                            <tr>
                            <td>Siti Rahmawati</td>
                            <td><span class="badge badge-warning">Menunggu Pembayaran</span></td>
                            <td>Tower B - Unit 0305</td>
                            <td>01 Mar 2024</td>
                            </tr>
                            <tr>
                            <td>Budi Santoso Putra</td>
                            <td><span class="badge badge-secondary">Nonaktif (Pindah)</span></td>
                            <td>Tower C - Unit 0711</td>
                            <td>10 Agu 2022</td>
                            </tr>
                            <tr>
                            <td>Lina Chen</td>
                            <td><span class="badge badge-success">Aktif</span></td>
                            <td>Tower A - Unit 0502</td>
                            <td>20 Feb 2024</td>
                            </tr>
                        </tbody>
                        </table>
                    </div>
                </div>
              </section>

              <aside class="sidebar-area" aria-label="Informasi Tambahan">
                <div style="animation: fadeInRightSlight 1s 0.3s ease-out backwards;">
                    <h5 class="fw-bold mb-3"><i class="fas fa-bars me-2 text-primary"></i>Menu Cepat</h5>
                    <ul class="sidebar-nav-list">
                    <li><a href="#/dashboard" class="spa-link"><i class="fas fa-tachometer-alt fa-fw"></i> Dashboard Utama</a></li>
                    <li><a href="#/laporan" class="spa-link"><i class="fas fa-chart-line fa-fw"></i> Laporan Keuangan</a></li>
                    <li><a href="#/pengaturan" class="spa-link"><i class="fas fa-cog fa-fw"></i> Pengaturan Akun</a></li>
                    </ul>
                </div>

                <div class="widget" id="calendarWidget" style="animation: zoomIn 1s 0.5s ease-out backwards;">
                  <h6 class="fw-bold mb-2"><i class="fas fa-calendar-alt"></i> Kalender Interaktif</h6>
                  <input type="text" id="calendarInput" class="form-control" placeholder="Pilih tanggal..." readonly>
                </div>

                <div class="widget" id="weatherWidget" style="animation: zoomIn 1s 0.7s ease-out backwards;">
                  <h6 class="fw-bold mb-2"><i class="fas fa-cloud-sun"></i> Info Cuaca (Jakarta)</h6>
                  <div id="weatherInfo" class="text-center">
                    <div class="spinner-border text-info" role="status" style="width:1.8rem;height:1.8rem; border-width: .2em;">
                      <span class="visually-hidden">Memuat data cuaca...</span>
                    </div>
                  </div>
                </div>
                
                <div class="widget chart-container" style="animation: zoomIn 1s 0.9s ease-out backwards;">
                     <h6 class="fw-bold mb-2 text-center"><i class="fas fa-pie-chart"></i> Komposisi Penyewa</h6>
                     <canvas id="chartPenyewa"></canvas>
                </div>

                <div class="ad-placeholder card text-center p-5 mt-4 bg-light" style="animation: fadeInUpSlight 1s 1.1s ease-out backwards;">
                  <i class="fas fa-bullhorn fa-3x text-primary mb-3"></i>
                  <h6 class="fw-bold">Promosi Spesial!</h6>
                  <p class="text-muted small">Dapatkan diskon 20% untuk layanan premium. Klik <a href="#/promo" class="text-primary spa-link">di sini</a>!</p>
                </div>
              </aside>
            </div>
          </div>
        `,
        tentang: () => `
          <div class="container">
            <div class="main-layout single-column">
              <section class="main-content-area text-center" aria-labelledby="tentang-title">
                <i class="fas fa-building fa-4x text-primary mb-4" style="animation: zoomIn 1s ease-out;"></i>
                <h1 id="tentang-title" class="card-title" style="font-size: 2.5rem; animation: fadeInUpSlight 0.8s 0.2s ease-out backwards;">Tentang Green Valley</h1>
                <p class="lead text-muted mb-4" style="animation: fadeInUpSlight 0.8s 0.4s ease-out backwards;">Misi kami adalah merevolusi cara pengelolaan properti rental melalui teknologi inovatif dan layanan pelanggan yang tak tertandingi.</p>
                
                <div class="row text-start" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-unit); animation: fadeInUpSlight 0.8s 0.6s ease-out backwards;">
                    <div class="col">
                        <h4 class="fw-semibold text-primary"><i class="fas fa-lightbulb me-2"></i> Visi Kami</h4>
                        <p>Menjadi platform pilihan nomor satu bagi pemilik dan manajer properti di Asia Tenggara, dikenal karena keandalan, kemudahan penggunaan, dan kontribusi positif terhadap industri properti.</p>
                    </div>
                    <div class="col">
                        <h4 class="fw-semibold text-primary"><i class="fas fa-rocket me-2"></i> Misi Kami</h4>
                        <p>Memberikan solusi perangkat lunak yang komprehensif dan intuitif, didukung oleh analisis data canggih, untuk menyederhanakan operasi, meningkatkan profitabilitas, dan memperkaya pengalaman baik bagi pemilik maupun penyewa apartemen.</p>
                    </div>
                </div>

                <img src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?auto=format&fit=crop&w=1000&q=80" alt="Tim Green Valley sedang berdiskusi" class="img-fluid rounded-lg shadow-lg my-5" style="max-height: 400px; object-fit: cover; animation: zoomIn 1s 0.8s ease-out backwards;" loading="lazy">

                <h3 class="fw-semibold mt-5 mb-4" style="animation: fadeInUpSlight 0.8s 1s ease-out backwards;">Tim Inti Kami</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-unit); animation: fadeInUpSlight 0.8s 1.2s ease-out backwards;">
                    ${[
            { name: 'Aisha Rahman', role: 'CEO & Founder', icon: 'user-tie', img: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80' },
            { name: 'Budi Setiawan', role: 'CTO', icon: 'laptop-code', img: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80' },
            { name: 'Citra Dewi', role: 'Head of Marketing', icon: 'bullhorn', img: 'https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80' }
          ].map(member => `
                        <div class="card text-center p-3">
                            <img src="${member.img}" alt="Foto ${member.name}" class="rounded-circle shadow-sm mx-auto mb-3" style="width: 100px; height: 100px; object-fit: cover;" loading="lazy">
                            <h5 class="fw-semibold mb-1">${member.name}</h5>
                            <p class="text-primary small fw-medium"><i class="fas fa-${member.icon} me-1"></i>${member.role}</p>
                        </div>
                    `).join('')}
                </div>
              </section>
            </div>
          </div>
        `,
        layanan: () => `
          <div class="container">
            <div class="main-layout single-column">
              <section class="main-content-area text-center" aria-labelledby="layanan-title">
                <i class="fas fa-cogs fa-4x text-primary mb-4" style="animation: zoomIn 1s ease-out;"></i>
                <h1 id="layanan-title" class="card-title" style="font-size: 2.5rem; animation: fadeInUpSlight 0.8s 0.2s ease-out backwards;">Layanan Unggulan Green Valley</h1>
                <p class="lead text-muted mb-5" style="animation: fadeInUpSlight 0.8s 0.4s ease-out backwards;">Kami menyediakan berbagai fitur canggih untuk membantu Anda mengelola properti dengan lebih efektif dan efisien.</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-unit); text-align: left; animation: fadeInUpSlight 0.8s 0.6s ease-out backwards;">
                  ${[
            { icon: 'tasks', title: 'Manajemen Unit Terpadu', desc: 'Lacak ketersediaan unit, data penyewa, dan histori sewa secara real-time. Atur jadwal pemeliharaan dan inspeksi dengan mudah.' },
            { icon: 'file-invoice-dollar', title: 'Penagihan Otomatis', desc: 'Sistem penagihan otomatis dengan pengingat pembayaran kepada penyewa. Integrasi dengan berbagai metode pembayaran online.' },
            { icon: 'chart-pie', title: 'Laporan Analitik Mendalam', desc: 'Dashboard interaktif dengan laporan keuangan, okupansi, dan performa properti. Dapatkan wawasan untuk pengambilan keputusan strategis.' },
            { icon: 'comments', title: 'Komunikasi Penyewa Efisien', desc: 'Portal khusus untuk penyewa mengajukan keluhan, permintaan layanan, dan melihat pengumuman. Komunikasi dua arah yang transparan.' },
            { icon: 'shield-alt', title: 'Keamanan Data Terjamin', desc: 'Perlindungan data penyewa dan properti dengan enkripsi standar industri. Backup data rutin untuk ketenangan pikiran.' },
            { icon: 'mobile-alt', title: 'Akses Mobile Responsif', desc: 'Kelola properti Anda kapan saja, di mana saja melalui platform web yang sepenuhnya responsif di perangkat mobile dan tablet.' }
          ].map(service => `
                    <div class="card p-4">
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-${service.icon} fa-2x text-primary me-3"></i>
                            <h4 class="fw-semibold mb-0" style="font-size: 1.2rem;">${service.title}</h4>
                        </div>
                        <p class="text-muted small">${service.desc}</p>
                    </div>
                  `).join('')}
                </div>
                <a href="#/kontak" class="button button-primary mt-5 spa-link" style="animation: zoomIn 0.8s 1s ease-out backwards;">Mulai Sekarang <i class="fas fa-rocket ms-2"></i></a>
              </section>
            </div>
          </div>
        `,
        kontak: () => `
          <div class="container">
            <div class="main-layout single-column">
              <section class="main-content-area" aria-labelledby="kontak-title">
                <div class="text-center mb-5">
                    <i class="fas fa-headset fa-4x text-primary mb-4" style="animation: zoomIn 1s ease-out;"></i>
                    <h1 id="kontak-title" class="card-title" style="font-size: 2.5rem; animation: fadeInUpSlight 0.8s 0.2s ease-out backwards;">Hubungi Tim Green Valley</h1>
                    <p class="lead text-muted" style="animation: fadeInUpSlight 0.8s 0.4s ease-out backwards;">Kami siap membantu Anda! Isi formulir di bawah atau hubungi kami melalui detail kontak yang tersedia.</p>
                </div>

                <div style="display: grid; grid-template-columns: 1fr; gap: calc(var(--spacing-unit) * 2); animation: fadeInUpSlight 0.8s 0.6s ease-out backwards;">
                    <div class="card p-4">
                        <h4 class="fw-semibold mb-3"><i class="fas fa-paper-plane me-2 text-primary"></i>Kirim Pesan Cepat</h4>
                        <form id="contactForm" class="needs-validation" autocomplete="off" novalidate>
                        <div class="form-group">
                            <label for="namaKontak" class="form-label">Nama Lengkap Anda</label>
                            <input type="text" class="form-control" id="namaKontak" placeholder="Contoh: John Doe" required minlength="3">
                            <div class="invalid-feedback">Nama wajib diisi (minimal 3 karakter).</div>
                        </div>
                        <div class="form-group">
                            <label for="emailKontak" class="form-label">Alamat Email</label>
                            <input type="email" class="form-control" id="emailKontak" placeholder="Contoh: john.doe@example.com" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$">
                            <div class="invalid-feedback">Format email tidak valid.</div>
                        </div>
                        <div class="form-group">
                            <label for="subjekKontak" class="form-label">Subjek Pesan</label>
                            <input type="text" class="form-control" id="subjekKontak" placeholder="Contoh: Pertanyaan tentang layanan" required>
                            <div class="invalid-feedback">Subjek wajib diisi.</div>
                        </div>
                        <div class="form-group">
                            <label for="pesanKontak" class="form-label">Isi Pesan Anda</label>
                            <textarea class="form-control" id="pesanKontak" rows="5" placeholder="Tuliskan pertanyaan atau masukan Anda di sini..." required minlength="10"></textarea>
                            <div class="invalid-feedback">Pesan wajib diisi (minimal 10 karakter).</div>
                        </div>
                        <button type="submit" class="button button-primary w-100"><i class="fas fa-paper-plane me-2"></i> Kirim Pesan</button>
                        </form>
                        <div id="formAlert" class="alert mt-3 d-none" role="alert"></div>
                    </div>
                    
                    <div class="card p-4">
                        <h4 class="fw-semibold mb-3"><i class="fas fa-info-circle me-2 text-primary"></i>Informasi Kontak Lainnya</h4>
                        <ul class="list-unstyled">
                            <li class="mb-3 d-flex align-items-start">
                                <i class="fas fa-map-marker-alt fa-fw fa-lg text-primary mt-1 me-3"></i>
                                <div>
                                    <strong>Alamat Kantor:</strong><br>
                                    Jl. Apartemen Indah No. 10, Lantai 5<br>
                                    Jakarta Pusat, 10110, Indonesia
                                </div>
                            </li>
                            <li class="mb-3 d-flex align-items-start">
                                <i class="fas fa-phone fa-fw fa-lg text-primary mt-1 me-3"></i>
                                <div>
                                    <strong>Telepon / WhatsApp:</strong><br>
                                    (021) 123-4567 / +62 812-3456-7890
                                </div>
                            </li>
                            <li class="mb-3 d-flex align-items-start">
                                <i class="fas fa-envelope fa-fw fa-lg text-primary mt-1 me-3"></i>
                                <div>
                                    <strong>Email:</strong><br>
                                    <a href="mailto:dukungan@greenvalley.id" class="text-primary">dukungan@greenvalley.id</a> (Dukungan Teknis)<br>
                                    <a href="mailto:sales@greenvalley.id" class="text-primary">sales@greenvalley.id</a> (Penjualan & Kemitraan)
                                </div>
                            </li>
                            <li class="d-flex align-items-start">
                                <i class="fas fa-clock fa-fw fa-lg text-primary mt-1 me-3"></i>
                                <div>
                                    <strong>Jam Operasional:</strong><br>
                                    Senin - Jumat: 08.00 - 17.00 WIB<br>
                                    Sabtu: 09.00 - 13.00 WIB (Dukungan Terbatas)
                                </div>
                            </li>
                        </ul>
                         <div class="mt-4">
                            <h5 class="fw-semibold mb-2">Ikuti Kami:</h5>
                            <div class="footer-social-icons">
                                <a href="#" title="Instagram" class="text-dark me-3"><i class="fab fa-instagram fa-lg"></i></a>
                                <a href="#" title="Facebook" class="text-dark me-3"><i class="fab fa-facebook-f fa-lg"></i></a>
                                <a href="#" title="Twitter" class="text-dark me-3"><i class="fab fa-twitter fa-lg"></i></a>
                                <a href="#" title="LinkedIn" class="text-dark"><i class="fab fa-linkedin-in fa-lg"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
              </section>
            </div>
          </div>
        `,
        kebijakanPrivasi: () => `
            <div class="container">
                <div class="main-layout single-column">
                    <section class="main-content-area" aria-labelledby="privasi-title">
                        <i class="fas fa-user-secret fa-4x text-primary mb-4 d-block text-center" style="animation: zoomIn 1s ease-out;"></i>
                        <h1 id="privasi-title" class="card-title text-center" style="font-size: 2.5rem; animation: fadeInUpSlight 0.8s 0.2s ease-out backwards;">Kebijakan Privasi Green Valley</h1>
                        <p class="lead text-muted text-center mb-5" style="animation: fadeInUpSlight 0.8s 0.4s ease-out backwards;">Privasi Anda penting bagi kami. Kebijakan ini menjelaskan bagaimana kami mengumpulkan, menggunakan, dan melindungi informasi pribadi Anda.</p>

                        <div style="animation: fadeInUpSlight 0.8s 0.6s ease-out backwards;">
                            <h4 class="fw-semibold text-primary mt-4">1. Informasi yang Kami Kumpulkan</h4>
                            <p>Kami dapat mengumpulkan informasi pribadi seperti nama, alamat email, nomor telepon, detail properti, dan informasi pembayaran saat Anda menggunakan layanan kami, mendaftar akun, atau berinteraksi dengan platform kami.</p>

                            <h4 class="fw-semibold text-primary mt-4">2. Bagaimana Kami Menggunakan Informasi Anda</h4>
                            <p>Informasi Anda digunakan untuk:</p>
                            <ul>
                                <li>Menyediakan dan meningkatkan layanan kami.</li>
                                <li>Memproses transaksi dan mengelola akun Anda.</li>
                                <li>Berkomunikasi dengan Anda mengenai layanan, pembaruan, dan penawaran.</li>
                                <li>Menganalisis penggunaan platform untuk tujuan pengembangan.</li>
                                <li>Mematuhi kewajiban hukum.</li>
                            </ul>

                            <h4 class="fw-semibold text-primary mt-4">3. Pembagian Informasi</h4>
                            <p>Kami tidak menjual atau menyewakan informasi pribadi Anda kepada pihak ketiga. Kami dapat membagikan informasi dengan penyedia layanan tepercaya yang membantu kami mengoperasikan platform (misalnya, pemrosesan pembayaran), atau jika diwajibkan oleh hukum.</p>
                            
                            <h4 class="fw-semibold text-primary mt-4">4. Keamanan Data</h4>
                            <p>Kami menerapkan langkah-langkah keamanan teknis dan organisasi yang wajar untuk melindungi informasi pribadi Anda dari akses, penggunaan, atau pengungkapan yang tidak sah.</p>

                            <h4 class="fw-semibold text-primary mt-4">5. Cookie dan Teknologi Pelacakan</h4>
                            <p>Platform kami menggunakan cookie untuk meningkatkan pengalaman pengguna, menganalisis lalu lintas, dan mempersonalisasi konten. Anda dapat mengelola preferensi cookie melalui pengaturan browser Anda.</p>

                            <h4 class="fw-semibold text-primary mt-4">6. Hak Anda</h4>
                            <p>Anda memiliki hak untuk mengakses, memperbaiki, atau menghapus informasi pribadi Anda yang kami simpan. Silakan hubungi kami untuk mengajukan permintaan terkait data Anda.</p>

                            <h4 class="fw-semibold text-primary mt-4">7. Perubahan Kebijakan</h4>
                            <p>Kami dapat memperbarui kebijakan privasi ini dari waktu ke waktu. Perubahan signifikan akan diberitahukan melalui platform kami atau email. Dianjurkan untuk meninjau kebijakan ini secara berkala.</p>

                            <h4 class="fw-semibold text-primary mt-4">8. Hubungi Kami</h4>
                            <p>Jika Anda memiliki pertanyaan tentang kebijakan privasi ini, silakan hubungi kami di <a href="mailto:privasi@greenvalley.id" class="text-primary">privasi@greenvalley.id</a>.</p>
                            <p class="text-muted mt-3"><small>Terakhir diperbarui: ${new Date().toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })}</small></p>
                        </div>
                    </section>
                </div>
            </div>
        `,
        notFound: () => `
          <div class="container text-center py-5">
            <i class="fas fa-exclamation-triangle fa-5x text-warning mb-4" style="animation: zoomIn 1s ease-out;"></i>
            <h1 class="display-4 fw-bold" style="animation: fadeInUpSlight 0.8s 0.2s ease-out backwards;">404 - Halaman Tidak Ditemukan</h1>
            <p class="lead text-muted mb-4" style="animation: fadeInUpSlight 0.8s 0.4s ease-out backwards;">Maaf, halaman yang Anda cari tidak ada atau telah dipindahkan.</p>
            <a href="#/" class="button button-primary spa-link" style="animation: zoomIn 0.8s 0.6s ease-out backwards;"><i class="fas fa-home me-2"></i> Kembali ke Beranda</a>
          </div>
        `
      };

      // === FUNGSI RENDER HALAMAN ===
      const renderPage = (pageName) => {
        if (DOM.appContent.classList.contains('loaded')) {
          DOM.appContent.classList.remove('loaded'); // Reset untuk animasi keluar jika ada
        }

        // Simulasi delay untuk efek loading dan transisi yang lebih terlihat
        // Di aplikasi nyata, ini bisa jadi waktu untuk fetch data
        setTimeout(() => {
          const templateFunction = templates[pageName] || templates.notFound;
          DOM.appContent.innerHTML = templateFunction();
          state.currentPage = pageName;
          updateActiveNavLink(pageName);
          updatePageTitle(pageName);
          window.scrollTo(0, 0); // Gulir ke atas halaman

          // Re-inisialisasi komponen spesifik halaman jika ada
          if (pageName === 'beranda') {
            initBerandaComponents();
          } else if (pageName === 'kontak') {
            initKontakForm();
          }

          // Setelah konten dimuat, tambahkan kelas untuk animasi masuk
          // Sedikit delay tambahan agar DOM siap
          setTimeout(() => {
            DOM.appContent.classList.add('loaded');
          }, 50);

        }, 250); // Durasi ini bisa disesuaikan
      };

      // === NAVIGASI & ROUTING ===
      const router = () => {
        const path = window.location.hash.substring(1) || '/'; // Hapus '#' dan default ke '/'
        const route = path === '/' ? 'beranda' : path.split('/')[1]; // Ambil bagian pertama setelah '/'
        renderPage(route);
      };

      // === FUNGSI UTILITAS & PEMBANTU ===
      const updateActiveNavLink = (currentPage) => {
        const allLinks = [...DOM.navLinks, ...DOM.footerNavLinks];
        allLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#/${currentPage}` || (currentPage === 'beranda' && link.getAttribute('href') === '#/')) {
            link.classList.add('active');
          }
        });
      };

      const updatePageTitle = (pageName) => {
        const dynamicTitle = state.dynamicPageTitles[pageName] || "Halaman Tidak Ditemukan";
        document.title = `${dynamicTitle} - ${state.pageTitleBase}`;
        if (DOM.navbarPageTitle) {
          DOM.navbarPageTitle.textContent = dynamicTitle;
          // Re-trigger animasi untuk navbar page title
          DOM.navbarPageTitle.style.animation = 'none';
          DOM.navbarPageTitle.offsetHeight; /* trigger reflow */
          DOM.navbarPageTitle.style.animation = null;
        }
      };

      const handleNavLinkClick = (event) => {
        const link = event.target.closest('a.spa-link');
        if (link) {
          event.preventDefault();
          const newRoute = link.getAttribute('href');
          if (`#${state.currentPage}` !== newRoute && (state.currentPage !== 'beranda' || newRoute !== '#/')) {
            // Hanya push state jika rute berbeda untuk menghindari entri duplikat
            window.location.hash = newRoute;
          }
          // Tutup menu mobile jika terbuka
          if (DOM.navLinksContainer.classList.contains('open')) {
            DOM.navLinksContainer.classList.remove('open');
            DOM.mobileMenuToggle.setAttribute('aria-expanded', 'false');
            DOM.mobileMenuToggle.innerHTML = '<i class="fas fa-bars"></i>';
          }
        }
      };

      const toggleMobileMenu = () => {
        const isOpen = DOM.navLinksContainer.classList.toggle('open');
        DOM.mobileMenuToggle.setAttribute('aria-expanded', isOpen.toString());
        DOM.mobileMenuToggle.innerHTML = isOpen ? '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
      };

      const handleHeaderScroll = () => {
        if (window.scrollY > 50) {
          DOM.appHeader.classList.add('scrolled');
        } else {
          DOM.appHeader.classList.remove('scrolled');
        }
      };

      const hidePreloader = () => {
        if (DOM.preloader) {
          DOM.preloader.classList.add('hidden');
          // Hapus preloader dari DOM setelah transisi selesai agar tidak mengganggu
          setTimeout(() => {
            if (DOM.preloader) DOM.preloader.remove();
          }, 500);
        }
      };


      // === INISIALISASI KOMPONEN SPESIFIK HALAMAN ===
      const initBerandaComponents = () => {
        // Chart.js - Pie chart penyewa
        const chartPenyewaCanvas = document.getElementById('chartPenyewa');
        if (chartPenyewaCanvas) {
          // Hancurkan chart lama jika ada (penting untuk SPA)
          if (window.myDoughnutChart instanceof Chart) {
            window.myDoughnutChart.destroy();
          }
          window.myDoughnutChart = new Chart(chartPenyewaCanvas.getContext('2d'), {
            type: 'doughnut',
            data: {
              labels: ['Aktif', 'Menunggu Pembayaran', 'Nonaktif'],
              datasets: [{
                data: [60, 25, 15], // Contoh data persentase
                backgroundColor: ['#22c55e', '#facc15', '#64748b'],
                borderColor: varGet('--surface-color'),
                borderWidth: 2,
                hoverOffset: 8
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              cutout: '70%',
              plugins: {
                legend: {
                  display: true,
                  position: 'bottom',
                  labels: {
                    font: { family: varGet('--font-primary'), size: 12 },
                    padding: 15,
                    usePointStyle: true,
                    pointStyle: 'circle'
                  }
                },
                tooltip: {
                  backgroundColor: varGet('--dark-color'),
                  titleFont: { family: varGet('--font-primary'), weight: 'bold' },
                  bodyFont: { family: varGet('--font-primary') },
                  padding: 10,
                  cornerRadius: varGetNumber('--border-radius-sm'),
                  callbacks: {
                    label: function (context) {
                      let label = context.label || '';
                      if (label) {
                        label += ': ';
                      }
                      if (context.parsed !== null) {
                        label += context.parsed + '%';
                      }
                      return label;
                    }
                  }
                }
              },
              animation: {
                animateScale: true,
                animateRotate: true,
                duration: 1000,
                easing: 'easeInOutQuart'
              }
            }
          });
        }

        // Flatpickr - Kalender Widget
        const calendarInput = document.getElementById('calendarInput');
        if (calendarInput) {
          flatpickr(calendarInput, {
            inline: true, // Tampilkan kalender langsung tanpa input field
            dateFormat: "d-m-Y",
            locale: "id", // Gunakan lokalisasi Bahasa Indonesia
            monthSelectorType: "static", // "static" or "dropdown"
            prevArrow: '<i class="fas fa-chevron-left"></i>',
            nextArrow: '<i class="fas fa-chevron-right"></i>',
          });
        }

        // Widget Cuaca
        fetchWeather();
      };

      const initKontakForm = () => {
        const contactForm = document.getElementById('contactForm');
        const formAlert = document.getElementById('formAlert');

        if (contactForm) {
          contactForm.addEventListener('submit', function (e) {
            e.preventDefault();
            e.stopPropagation();

            // Hapus pesan alert sebelumnya
            formAlert.className = 'alert mt-3 d-none';
            formAlert.textContent = '';

            if (!this.checkValidity()) {
              this.classList.add('was-validated');
              // Beri tahu pengguna bahwa ada error
              formAlert.classList.remove('d-none');
              formAlert.classList.add('alert-danger');
              formAlert.textContent = 'Harap perbaiki kesalahan pada formulir sebelum mengirim.';
              return;
            }

            this.classList.add('was-validated'); // Tampilkan feedback validasi jika ada

            // Simulasi pengiriman data
            console.log('Data formulir yang akan dikirim:', {
              nama: document.getElementById('namaKontak').value,
              email: document.getElementById('emailKontak').value,
              subjek: document.getElementById('subjekKontak').value,
              pesan: document.getElementById('pesanKontak').value,
            });

            formAlert.classList.remove('d-none', 'alert-danger');
            formAlert.classList.add('alert-success');
            formAlert.innerHTML = '<i class="fas fa-check-circle me-2"></i>Terima kasih! Pesan Anda telah berhasil dikirim. Kami akan segera menghubungi Anda.';

            this.reset();
            this.classList.remove('was-validated');

            setTimeout(() => {
              formAlert.classList.add('d-none');
            }, 5000);
          });
        }
      };

      // Fungsi untuk mendapatkan nilai variabel CSS dari root
      const varGet = (varName) => getComputedStyle(document.documentElement).getPropertyValue(varName).trim();
      const varGetNumber = (varName) => parseFloat(varGet(varName));


      // === API CALLS (Contoh: Cuaca) ===
      async function fetchWeather() {
        const weatherDiv = document.getElementById('weatherInfo');
        if (!weatherDiv) return;

        // Ambil latitude & longitude dari Jakarta
        const lat = -6.2088;
        const lon = 106.8456;
        // Ganti dengan API Key Anda jika menggunakan API yang memerlukan autentikasi
        // Untuk Open-Meteo, tidak perlu API Key untuk data dasar
        const apiUrl = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}Â¤t_weather=true&timezone=Asia/Jakarta`;

        try {
          const response = await fetch(apiUrl);
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          const data = await response.json();

          if (data && data.current_weather) {
            const weather = data.current_weather;
            const temp = Math.round(weather.temperature);
            const wind = weather.windspeed;
            // Kode cuaca dari Open-Meteo (WMO Weather interpretation codes (WW))
            // https://open-meteo.com/en/docs#weathervariables
            let iconClass = 'fa-question-circle'; // Default icon
            const code = weather.weathercode;

            if (code === 0) iconClass = 'fa-sun'; // Clear sky
            else if ([1, 2, 3].includes(code)) iconClass = 'fa-cloud-sun'; // Mainly clear, partly cloudy, and overcast
            else if ([45, 48].includes(code)) iconClass = 'fa-smog'; // Fog and depositing rime fog
            else if ([51, 53, 55, 56, 57].includes(code)) iconClass = 'fa-cloud-rain'; // Drizzle
            else if ([61, 63, 65, 66, 67].includes(code)) iconClass = 'fa-cloud-showers-heavy'; // Rain
            else if ([71, 73, 75, 77].includes(code)) iconClass = 'fa-snowflake'; // Snow fall
            else if ([80, 81, 82].includes(code)) iconClass = 'fa-cloud-bolt'; // Rain showers slight, moderate, and violent (seringkali disertai petir)
            else if ([85, 86].includes(code)) iconClass = 'fa-snowflake'; // Snow showers slight and heavy
            else if ([95, 96, 99].includes(code)) iconClass = 'fa-bolt'; // Thunderstorm

            weatherDiv.innerHTML = `
              <i class="fas ${iconClass} fa-3x mb-2" style="color: ${varGet('--primary-color')};"></i>
              <div class="fw-bold" style="font-size: 1.8rem;">${temp}Â°C</div>
              <div class="text-muted" style="font-size:0.9em;">Angin: ${wind} km/jam</div>
              <div class="text-muted small mt-1">Jakarta, Indonesia</div>
            `;
          } else {
            weatherDiv.innerHTML = '<span class="text-danger small"><i class="fas fa-exclamation-triangle me-1"></i>Gagal memuat data cuaca.</span>';
          }
        } catch (error) {
          console.error('Error fetching weather:', error);
          weatherDiv.innerHTML = '<span class="text-danger small"><i class="fas fa-exclamation-triangle me-1"></i>Layanan cuaca tidak tersedia.</span>';
        }
      }


      // === INISIALISASI APLIKASI ===
      const init = () => {
        // Event listener untuk navigasi
        window.addEventListener('hashchange', router);
        window.addEventListener('load', () => {
          router(); // Panggil router saat halaman dimuat
          hidePreloader(); // Sembunyikan preloader setelah konten awal dimuat
        });

        // Event listener untuk klik link navigasi (delegasi event)
        document.body.addEventListener('click', handleNavLinkClick);

        // Event listener untuk tombol menu mobile
        if (DOM.mobileMenuToggle) {
          DOM.mobileMenuToggle.addEventListener('click', toggleMobileMenu);
        }

        // Event listener untuk efek scroll pada header
        window.addEventListener('scroll', handleHeaderScroll);

        // Update tahun di footer
        const currentYearSpan = document.getElementById('currentYear');
        if (currentYearSpan) {
          currentYearSpan.textContent = new Date().getFullYear();
        }

        console.log("Green Valley App berhasil diinisialisasi. Mode: SPA Vanilla.");
      };

      // Publikasikan fungsi init untuk memulai aplikasi
      return {
        init: init
      };
    })();

    // Jalankan aplikasi setelah DOM sepenuhnya dimuat
    document.addEventListener('DOMContentLoaded', GreenValleyApp.init);
  </script>
</body>

</html>